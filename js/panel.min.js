class Usuario{constructor(){this.idEdit=0,this.metodo=0,this.formulario,this.editURLimg=0,this.btn_img}listar(){$.ajax({url:"backend/panel/usuarios/ajax_ver.php",type:"GET",data:{consulta:"buscar"},beforeSend:function(){$("#load_data_usuarios").html(""),$("#load_table_usuarios").html('\n                    <div style="">\n                        <br>\n                        <div class="spinner-border text-info" role="status" style="position:relative;left:50%;float:left;">\n                            <span class="sr-only">Loading...</span>\n                        </div><br>\n                        <span style="position:relative;left:50%;float:left;transform:translateX(-67%);margin-top:15px;">Loading...</span>\n                    </div>\n                ')},success:function(t){var a=JSON.parse(t),e="",n=0;a.forEach(t=>{e+=`\n                                            <tr>\n                                                <th scope="row">${++n}</th>\n                                                <td>${t.doc_nro}</td>\n                                                <td>${t.apellido_pat+" "+t.apellido_mat+" "+t.nombre}</td>\n                                                <td>${t.privilegios}</td>\n                                               \n                                    `,"SI"==t.habilitado?e+=`\n                                                <td class="text-center"><span class="badge badge-pill badge-success" style="padding:4px 20px;">${t.habilitado}</span></td>\n                                    `:e+=`\n                                                <td class="text-center"><span class="badge badge-pill badge-danger" style="padding:4px 20px;">${t.habilitado}</span></td>\n                                    `,e+=`\n                                                <td>\n                                                    <div class="col text-center"> \n                                                        <button style="width:110px;" type="button" class="btn btn-primary" onClick='btn_edit("usuarios",${t.id});'><i class="fas fa-edit"></i> Editar</button>\n                                                    </div>\n                                                </td>\n                                            </tr>\n                    `}),$("#load_table_usuarios").html(""),$("#load_data_usuarios").html(e)}})}registrar(){this.formulario.append("editURLimg",this.editURLimg),$.ajax({type:"POST",url:"backend/panel/usuarios/ajax_registrar.php",data:this.formulario,contentType:!1,cache:!1,processData:!1,beforeSend:function(){$(".btn_modals").prop("disabled",!0),$("#msg-ajax-result").html('\n                    <div style="">\n                        <div class="spinner-border text-info" role="status" style="position:relative;left:50%;float:left;">\n                            <span class="sr-only">Loading...</span>\n                        </div>\n                    </div>\n                ')},success:function(t){200==t?($("#msg-ajax-result").html('\n                            <div class="alert alert-success" role="alert"  style="margin-bottom: 10px;">\n                                Registro Correcto!\n                            </div>\n                    '),setTimeout(()=>{user.listar(),$("#modal-add").modal("hide"),$(".btn_modals").prop("disabled",!1),user.editURLimg=0,setTimeout(()=>{$("#msg-ajax-result").html("")},700)},600)):($(".btn_modals").prop("disabled",!1),301==t?$("#msg-ajax-result").html('\n                            <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                Se produjo un error al subir el archivo al servidor!\n                            </div>\n                        '):302==t?$("#msg-ajax-result").html('\n                                <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                    Se produjo un error con la base de datos!\n                                </div>\n                            '):$("#msg-ajax-result").html('\n                                <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                    '+t+"\n                                </div>\n                            "))},timeout:3e4,error:function(t,a){$(".btn_modals").prop("disabled",!1),$("#msg-ajax-result").html('\n                                            <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                                Disculpe, existió un problema - '+t.status+" "+t.statusText+"\n                                            </div>\n                ")}})}editar(t){document.getElementById("formulario-usuarios").reset(),$("#modal-add").modal("show"),$("#modal-add h4").html("Editar Usuario"),$.ajax({url:"backend/panel/usuarios/ajax_ver.php",type:"GET",data:{consulta:"editar",id:t},success:function(a){var e=JSON.parse(a);$("#inputPRIV").val(e[0].privilegios),$("#inputAP").val(e[0].apellido_pat),$("#inputAM").val(e[0].apellido_mat),$("#inputNOM").val(e[0].nombre),$("#inputDNI").val(e[0].doc_nro),$("#inputUSER").val(e[0].usuario),$("#inputPASS").val(e[0].pass),$("#inputNAC").val(e[0].nacimiento),$("#inputGRADO").val(e[0].grado),$("#inputEC").val(e[0].estado_civil),$("#inputLN").val(e[0].lugar_nacimiento),$("#inputCOM").val(e[0].comentarios),$("#inputTEL").val(e[0].telefono),$("#inputDIR").val(e[0].direccion),$("#inputREF").val(e[0].referencia),$("#inputDIS").val(e[0].distrito),$("#inputPROV").val(e[0].provincia),$("#inputEMAIL").val(e[0].correo),null!=e[0].url_foto&&""!=e[0].url_foto?$("#load_foto_modal").html(`\n                        <img src="img/upload/usuarios/${e[0].url_foto}" width="100%">\n                    `):$("#load_foto_modal").html('\n                        <img src="img/user.png" width="100%">\n                    '),"SI"==e[0].habilitado?$(".modal-btn-cont").html(`\n                        <button type="button" class="btn btn-danger btn_modals" onclick="user.habilitar(${t},0);" style="width:155px;"><i class="fas fa-lg fa-user-lock"></i> Bloquear</button>\n                    `):$(".modal-btn-cont").html(`\n                        <button type="button" class="btn btn-primary btn_modals" onclick="user.habilitar(${t},1);" style="width:155px;"><i class="fas fa-lg fa-user-lock"></i> Desbloquear</button>\n                    `)}})}editarSave(t){this.formulario.append("id",t),this.formulario.append("editURLimg",this.editURLimg),$.ajax({url:"backend/panel/usuarios/ajax_editar.php",type:"POST",data:this.formulario,contentType:!1,cache:!1,processData:!1,beforeSend:function(){$(".btn_modals").prop("disabled",!0),$("#msg-ajax-result").html('\n                    <div style="">\n                        <div class="spinner-border text-info" role="status" style="position:relative;left:50%;float:left;">\n                            <span class="sr-only">Loading...</span>\n                        </div>\n                    </div>\n                ')},success:function(t){200==t?($("#msg-ajax-result").html('\n                            <div class="alert alert-success" role="alert"  style="margin-bottom: 10px;">\n                                Actualización Correcta!\n                            </div>\n                        '),setTimeout(()=>{user.listar(),$("#modal-add").modal("hide"),$(".btn_modals").prop("disabled",!1),user.editURLimg=0,setTimeout(()=>{$("#msg-ajax-result").html("")},700)},600)):($(".btn_modals").prop("disabled",!1),301==t?$("#msg-ajax-result").html('\n                                <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                    Se produjo un error al subir el archivo al servidor!\n                                </div>\n                            '):302==t?$("#msg-ajax-result").html('\n                                    <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                        Se produjo un error con la base de datos!\n                                    </div>\n                                '):$("#msg-ajax-result").html('\n                                    <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                        '+t+"\n                                    </div>\n                                "))},timeout:3e4,error:function(t,a){$(".btn_modals").prop("disabled",!1),$("#msg-ajax-result").html('\n                                <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                    Disculpe, existió un problema - '+t.status+" "+t.statusText+"\n                                </div>\n                    ")}})}habilitar(t,a){$.ajax({url:"backend/panel/usuarios/ajax_habilitar.php",type:"POST",data:{id:t,operacion:a},beforeSend:function(){$(".btn_modals").prop("disabled",!0),$("#msg-ajax-result").html('\n                    <div style="">\n                        <div class="spinner-border text-info" role="status" style="position:relative;left:50%;float:left;">\n                            <span class="sr-only">Loading...</span>\n                        </div>\n                    </div>\n                ')},success:function(t){200==t?($("#msg-ajax-result").html('\n                            <div class="alert alert-warning" role="alert"  style="margin-bottom: 10px;">\n                                Se completo la operación!\n                            </div>\n                        '),setTimeout(()=>{user.listar(),$("#modal-add").modal("hide"),$(".btn_modals").prop("disabled",!1),user.editURLimg=0,setTimeout(()=>{$("#msg-ajax-result").html("")},700)},700)):$("#msg-ajax-result").html('\n                                    <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                        '+t+"\n                                    </div>\n                        ")},timeout:3e4,error:function(t,a){$(".btn_modals").prop("disabled",!1),$("#msg-ajax-result").html('\n                                <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                    Disculpe, existió un problema - '+t.status+" "+t.statusText+"\n                                </div>\n                    ")}})}buscar_usuario(t){var a=$("#usuarios_buscar_tipo").val();$.ajax({url:"backend/panel/usuarios/ajax_buscar_usuario.php",type:"GET",data:{clave:t,tipo:a},beforeSend:function(){$("#load_data_usuarios").html(""),$("#load_table_usuarios").html('\n                    <div style="">\n                        <br>\n                        <div class="spinner-border text-info" role="status" style="position:relative;left:50%;float:left;">\n                            <span class="sr-only">Loading...</span>\n                        </div><br>\n                        <span style="position:relative;left:50%;float:left;transform:translateX(-67%);margin-top:15px;">Loading...</span>\n                    </div>\n                ')},success:function(t){var a=JSON.parse(t),e="",n=0;a.forEach(t=>{e+=`\n                                            <tr>\n                                                <th scope="row">${++n}</th>\n                                                <td>${t.doc_nro}</td>\n                                                <td>${t.apellido_pat+" "+t.apellido_mat+" "+t.nombre}</td>\n                                                <td>${t.privilegios}</td>\n                                               \n                                    `,"SI"==t.habilitado?e+=`\n                                                <td class="text-center"><span class="badge badge-pill badge-success" style="padding:4px 20px;">${t.habilitado}</span></td>\n                                    `:e+=`\n                                                <td class="text-center"><span class="badge badge-pill badge-danger" style="padding:4px 20px;">${t.habilitado}</span></td>\n                                    `,e+=`\n                                                <td>\n                                                    <div class="col text-center"> \n                                                        <button style="width:110px;" type="button" class="btn btn-primary" onClick='btn_edit("usuarios",${t.id});'><i class="fas fa-edit"></i> Editar</button>\n                                                    </div>\n                                                </td>\n                                            </tr>\n                    `}),$("#load_table_usuarios").html(""),$("#load_data_usuarios").html(e)}})}validar(t){$.ajax({url:"backend/panel/usuarios/ajax_validar.php",type:"POST",data:{consulta:"buscar",id:t},success:function(t){console.log(t)}})}}class Cliente{constructor(){this.idEdit=0,this.metodo=0,this.formulario,this.editURLimg=0,this.editURLimg2=0,this.btn_img,this.btn_img2}listar(){$.ajax({url:"backend/panel/clientes/ajax_ver.php",type:"GET",data:{consulta:"buscar"},beforeSend:function(){$("#load_data_clientes").html(""),$("#load_table_clientes").html('\n                    <div style="">\n                        <br>\n                        <div class="spinner-border text-info" role="status" style="position:relative;left:50%;float:left;">\n                            <span class="sr-only">Loading...</span>\n                        </div><br>\n                        <span style="position:relative;left:50%;float:left;transform:translateX(-67%);margin-top:15px;">Loading...</span>\n                    </div>\n                ')},success:function(t){var a=JSON.parse(t),e="",n=0;a.forEach(t=>{switch(e+=`\n                                            <tr>\n                                                <th scope="row">${++n}</th>\n                                                <td>${t.dni}</td>\n                                                <td>${t.apellido_pat+" "+t.apellido_mat+" "+t.nombre}</td>\n                                                <td>${t.direccion}</td>\n                                                <td>${t.telefono}</td>\n                                    `,t.calificacion){case"BUENO":e+=`\n                                                <td><center><span class="badge badge-pill badge-success">${t.calificacion}</span></center></td>\n                                        `;break;case"REGULAR":e+=`\n                                                <td><center><span class="badge badge-pill badge-warning">${t.calificacion}</span></center></td>\n                                        `;break;case"MALO":e+=`\n                                                <td><center><span class="badge badge-pill badge-danger">${t.calificacion}</span></center></td>\n                                        `;break;default:e+='\n                                                <td><center><span class="badge badge-pill badge-secondary text-uppercase">Sin evaluar</span></center></td>\n                                        '}e+=`\n                                        <td class="text-center"><center><span id="load_cred${t.id}" class="load_cred text-uppercase"></span></center></td>\n                    `,"SI"==t.habilitado?e+=`\n                                                <td class="text-center"><span class="badge badge-pill badge-success" style="padding:4px 20px;">${t.habilitado}</span></td>\n                                    `:e+=`\n                                                <td class="text-center"><span class="badge badge-pill badge-danger" style="padding:4px 20px;">${t.habilitado}</span></td>\n                                    `,e+=`\n                                                <td>\n                                                    <div class="col text-center"> \n                                                        <button style="width:110px;" type="button" class="btn btn-primary" onClick='btn_edit("clientes",${t.id});'><i class="fas fa-edit"></i> Editar</button>\n                                                        \x3c!--<button style="width:110px;" type="button" class="btn btn-danger" onclick="modalsDelete('slide',${t.id},'${t.url_foto}');"><i class="fas fa-times-circle"></i> Eliminar</button>--\x3e\n                                                    </div>\n                                                </td>\n                                            </tr>\n                    `}),$("#load_table_clientes").html(""),$("#load_data_clientes").html(e),$.ajax({url:"backend/panel/clientes/ajax_ver_creditos.php",type:"GET",data:{consulta:"buscar"},beforeSend:function(){},success:function(t){var a=JSON.parse(t);console.log(a),a.forEach(t=>{switch(t.estado){case"REGISTRADO":case"PREAPROBADO":case"APROBADO":$("#load_cred"+t.id).append(`<span class="badge badge-pill badge-secondary">${t.estado}</span>`);break;case"DESEMBOLSADO":$("#load_cred"+t.id).append('<span class="badge badge-pill badge-warning">Deuda</span>');break;case"TERMINADO":$("#load_cred"+t.id).append('<span class="badge badge-pill badge-success">Sin deuda</span>')}})}})}})}registrar(){this.formulario.append("editURLimg",this.editURLimg),this.formulario.append("editURLimg2",this.editURLimg2),$.ajax({type:"POST",url:"backend/panel/clientes/ajax_registrar.php",data:this.formulario,contentType:!1,cache:!1,processData:!1,beforeSend:function(){$(".btn_modals").prop("disabled",!0),$("#msg-ajax-result").html('\n                    <div style="">\n                        <div class="spinner-border text-info" role="status" style="position:relative;left:50%;float:left;">\n                            <span class="sr-only">Loading...</span>\n                        </div>\n                    </div>\n                ')},success:function(t){200==t?($("#msg-ajax-result").html('\n                            <div class="alert alert-success" role="alert"  style="margin-bottom: 10px;">\n                                Registro Correcto!\n                            </div>\n                    '),setTimeout(()=>{cliente.listar(),$("#modal-add").modal("hide"),$(".btn_modals").prop("disabled",!1),cliente.editURLimg=0,cliente.editURLimg2=0,setTimeout(()=>{$("#msg-ajax-result").html("")},700)},600)):($(".btn_modals").prop("disabled",!1),301==t?$("#msg-ajax-result").html('\n                            <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                Se produjo un error al subir el archivo al servidor!\n                            </div>\n                        '):302==t?$("#msg-ajax-result").html('\n                                <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                    Se produjo un error con la base de datos!\n                                </div>\n                            '):$("#msg-ajax-result").html('\n                                <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                    '+t+"\n                                </div>\n                            "))},timeout:3e4,error:function(t,a){$(".btn_modals").prop("disabled",!1),$("#msg-ajax-result").html('\n                                            <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                                Disculpe, existió un problema - '+t.status+" "+t.statusText+"\n                                            </div>\n                ")}})}editar(t){document.getElementById("formulario-clientes").reset(),$("#modal-add").modal("show"),$("#modal-add h4").html("Editar Cliente"),$.ajax({url:"backend/panel/clientes/ajax_ver.php",type:"GET",data:{consulta:"editar",id:t},success:function(a){var e=JSON.parse(a);$("#inputINS").val(e[0].inscripcion),$("#inputAP").val(e[0].apellido_pat),$("#inputAM").val(e[0].apellido_mat),$("#inputNOM").val(e[0].nombre),$("#inputDNI").val(e[0].dni),$("#inputOCUPACION_TIPO").val(e[0].ocupacion_tipo),$("#inputOCUPACION_DES").val(e[0].ocupacion_des),$("#inputNAC").val(e[0].nacimiento),$("#inputNH").val(e[0].hijos),$("#inputGRADO").val(e[0].grado_ins),$("#inputEC").val(e[0].estado_civ),$("#inputLN").val(e[0].lugar_nac),$("#inputCOM").val(e[0].comentario),$("#inputTEL").val(e[0].telefono),$("#inputDIR").val(e[0].direccion),$("#inputREF").val(e[0].referencia),$("#inputDIS").val(e[0].distrito),$("#inputPROV").val(e[0].provincia),$("#inputDOM").val(e[0].tipo_viv),$("#inputTR").val(e[0].tiempo_viv),$("#inputOBS").val(e[0].observaciones),null!=e[0].url_foto&&""!=e[0].url_foto?$("#load_foto_modal").html(`\n                        <img src="img/upload/clientes/${e[0].url_foto}" width="100%">\n                    `):$("#load_foto_modal").html('\n                        <img src="img/user.png" width="100%">\n                    '),"SI"==e[0].habilitado?$(".modal-btn-cont").html(`\n                        <button type="button" class="btn btn-danger btn_modals" onclick="cliente.habilitar(${t},0);" style="width:155px;"><i class="fas fa-lg fa-user-lock"></i> Bloquear</button>\n                    `):$(".modal-btn-cont").html(`\n                        <button type="button" class="btn btn-primary btn_modals" onclick="cliente.habilitar(${t},1);" style="width:155px;"><i class="fas fa-lg fa-user-lock"></i> Desbloquear</button>\n                    `)}}),conyugue.listar(t),negocio.listar(t),negocio.listarConsumo(t)}editarSave(t){this.formulario.append("id",t),this.formulario.append("editURLimg",this.editURLimg),this.formulario.append("editURLimg2",this.editURLimg2),$.ajax({url:"backend/panel/clientes/ajax_editar.php",type:"POST",data:this.formulario,contentType:!1,cache:!1,processData:!1,beforeSend:function(){$(".btn_modals").prop("disabled",!0),$("#msg-ajax-result").html('\n                    <div style="">\n                        <div class="spinner-border text-info" role="status" style="position:relative;left:50%;float:left;">\n                            <span class="sr-only">Loading...</span>\n                        </div>\n                    </div>\n                ')},success:function(t){200==t?($("#msg-ajax-result").html('\n                            <div class="alert alert-success" role="alert"  style="margin-bottom: 10px;">\n                                Actualización Correcta!\n                            </div>\n                        '),setTimeout(()=>{cliente.listar(),$("#modal-add").modal("hide"),$(".btn_modals").prop("disabled",!1),cliente.editURLimg=0,cliente.editURLimg2=0,setTimeout(()=>{$("#msg-ajax-result").html("")},700)},600)):($(".btn_modals").prop("disabled",!1),301==t?$("#msg-ajax-result").html('\n                                <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                    Se produjo un error al subir el archivo al servidor!\n                                </div>\n                            '):302==t?$("#msg-ajax-result").html('\n                                    <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                        Se produjo un error con la base de datos!\n                                    </div>\n                                '):$("#msg-ajax-result").html('\n                                    <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                        '+t+"\n                                    </div>\n                                "))},timeout:3e4,error:function(t,a){$(".btn_modals").prop("disabled",!1),$("#msg-ajax-result").html('\n                                <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                    Disculpe, existió un problema - '+t.status+" "+t.statusText+"\n                                </div>\n                    ")}})}habilitar(t,a){$.ajax({url:"backend/panel/clientes/ajax_habilitar.php",type:"POST",data:{id:t,operacion:a},beforeSend:function(){$(".btn_modals").prop("disabled",!0),$("#msg-ajax-result").html('\n                    <div style="">\n                        <div class="spinner-border text-info" role="status" style="position:relative;left:50%;float:left;">\n                            <span class="sr-only">Loading...</span>\n                        </div>\n                    </div>\n                ')},success:function(t){200==t?($("#msg-ajax-result").html('\n                            <div class="alert alert-warning" role="alert"  style="margin-bottom: 10px;">\n                                Se completo la operación!\n                            </div>\n                        '),setTimeout(()=>{cliente.listar(),$("#modal-add").modal("hide"),$(".btn_modals").prop("disabled",!1),cliente.editURLimg=0,setTimeout(()=>{$("#msg-ajax-result").html("")},700)},700)):$("#msg-ajax-result").html('\n                                    <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                        '+t+"\n                                    </div>\n                        ")},timeout:3e4,error:function(t,a){$(".btn_modals").prop("disabled",!1),$("#msg-ajax-result").html('\n                                <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                    Disculpe, existió un problema - '+t.status+" "+t.statusText+"\n                                </div>\n                    ")}})}buscar_cliente(t){var a=$("#clientes_buscar_tipo").val();$.ajax({url:"backend/panel/clientes/ajax_buscar_cliente.php",type:"GET",data:{clave:t,tipo:a},beforeSend:function(){$("#load_data_clientes").html(""),$("#load_table_clientes").html('\n                    <div style="">\n                        <br>\n                        <div class="spinner-border text-info" role="status" style="position:relative;left:50%;float:left;">\n                            <span class="sr-only">Loading...</span>\n                        </div><br>\n                        <span style="position:relative;left:50%;float:left;transform:translateX(-67%);margin-top:15px;">Loading...</span>\n                    </div>\n                ')},success:function(t){var a=JSON.parse(t),e="",n=0;a.forEach(t=>{switch(e+=`\n                                            <tr>\n                                                <th scope="row">${++n}</th>\n                                                <td>${t.dni}</td>\n                                                <td>${t.apellido_pat+" "+t.apellido_mat+" "+t.nombre}</td>\n                                                <td>${t.direccion}</td>\n                                                <td>${t.telefono}</td>\n                                    `,t.calificacion){case"BUENO":e+=`\n                                                <td><center><span class="badge badge-pill badge-success">${t.calificacion}</span></center></td>\n                                        `;break;case"REGULAR":e+=`\n                                                <td><center><span class="badge badge-pill badge-warning">${t.calificacion}</span></center></td>\n                                        `;break;case"MALO":e+=`\n                                                <td><center><span class="badge badge-pill badge-danger">${t.calificacion}</span></center></td>\n                                        `;break;default:e+='\n                                                <td><center><span class="badge badge-pill badge-secondary text-uppercase">Sin evaluar</span></center></td>\n                                        '}e+=`\n                                        <td class="text-center"><center><span id="load_cred${t.id}" class="load_cred text-uppercase"></span></center></td>\n                    `,"SI"==t.habilitado?e+=`\n                                                <td class="text-center"><span class="badge badge-pill badge-success" style="padding:4px 20px;">${t.habilitado}</span></td>\n                                    `:e+=`\n                                                <td class="text-center"><span class="badge badge-pill badge-danger" style="padding:4px 20px;">${t.habilitado}</span></td>\n                                    `,e+=`\n                                                <td>\n                                                    <div class="col text-center"> \n                                                        <button style="width:110px;" type="button" class="btn btn-primary" onClick='btn_edit("clientes",${t.id});'><i class="fas fa-edit"></i> Editar</button>\n                                                        \x3c!--<button style="width:110px;" type="button" class="btn btn-danger" onclick="modalsDelete('slide',${t.id},'${t.url_foto}');"><i class="fas fa-times-circle"></i> Eliminar</button>--\x3e\n                                                    </div>\n                                                </td>\n                                            </tr>\n                    `}),$("#load_table_clientes").html(""),$("#load_data_clientes").html(e),$.ajax({url:"backend/panel/clientes/ajax_ver_creditos.php",type:"GET",data:{consulta:"buscar"},beforeSend:function(){},success:function(t){JSON.parse(t).forEach(t=>{switch(t.estado){case"REGISTRADO":case"PREAPROBADO":case"APROBADO":$("#load_cred"+t.id).append(`<span class="badge badge-pill badge-secondary">${t.estado}</span>`);break;case"DESEMBOLSADO":$("#load_cred"+t.id).append('<span class="badge badge-pill badge-warning">Deuda</span>');break;case"TERMINADO":$("#load_cred"+t.id).append('<span class="badge badge-pill badge-success">Sin deuda</span>')}})}})}})}}class Conyugue{constructor(){this.idEdit=0,this.metodo=0,this.formulario,this.tipo=""}listar(t){$.ajax({url:"backend/panel/clientes/conyugue/ajax_ver.php",type:"GET",data:{consulta:"buscar",id:t},success:function(t){var a=JSON.parse(t),e="",n=0;a.forEach(t=>{e+=`\n                                            <tr>\n                                                <th scope="row">${++n}</th>\n                                                <td>${t.dni}</td>\n                                                <td>${t.nombre+" "+t.apellido_pat+" "+t.apellido_mat}</td>\n                                                <td>${t.tipo}</td>\n                                                <td>\n                                                    <div class="col text-center"> \n                                                        <button style="width:110px;" type="button" class="btn btn-primary" onClick='btn_edit("conyugue",${t.id},"${t.tipo}");'><i class="fas fa-edit"></i> Editar</button>\n                                                    </div>\n                                                </td>\n                                            </tr>\n                    `}),$("#load_data_conyugue").html(e)}})}registrar(t){this.formulario.append("id_cliente",t),$.ajax({type:"POST",url:"backend/panel/clientes/conyugue/ajax_registrar.php",data:this.formulario,contentType:!1,cache:!1,processData:!1,beforeSend:function(){$(".btn_modals").prop("disabled",!0),$("#conyugue-ajax-result").html('\n                    <div style="">\n                        <div class="spinner-border text-info" role="status" style="position:relative;left:50%;float:left;">\n                            <span class="sr-only">Loading...</span>\n                        </div>\n                    </div>\n                ')},success:function(a){200==a?($("#conyugue-ajax-result").html('\n                            <div class="alert alert-success" role="alert"  style="margin-bottom: 10px;">\n                                Registro Correcto!\n                            </div>\n                    '),setTimeout(()=>{conyugue.listar(t),$("#modal-add-conyugue").modal("hide"),$(".btn_modals").prop("disabled",!1),setTimeout(()=>{$("#conyugue-ajax-result").html("")},700)},600)):($(".btn_modals").prop("disabled",!1),301==a?$("#conyugue-ajax-result").html('\n                            <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                Se produjo un error al subir el archivo al servidor!\n                            </div>\n                        '):302==a?$("#conyugue-ajax-result").html('\n                                <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                    Se produjo un error con la base de datos!\n                                </div>\n                            '):$("#conyugue-ajax-result").html('\n                                <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                    '+a+"\n                                </div>\n                            "))},timeout:3e4,error:function(t,a){$(".btn_modals").prop("disabled",!1),$("#conyugue-ajax-result").html('\n                                            <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                                Disculpe, existió un problema - '+t.status+" "+t.statusText+"\n                                            </div>\n                ")}})}editar(t,a){this.tipo=a,document.getElementById("formulario-conyugue").reset(),$("#modal-add-conyugue").modal("show"),$("#modal-add-conyugue h4").html("Editar Conyugue"),$.ajax({url:"backend/panel/clientes/conyugue/ajax_ver.php",type:"GET",data:{consulta:"editar",id:t,tipo:a},success:function(a){var e=JSON.parse(a);$("#input_con_AP").val(e[0].apellido_pat),$("#input_con_AM").val(e[0].apellido_mat),$("#input_con_NOM").val(e[0].nombre),$("#input_con_DNI").val(e[0].dni),$("#input_con_SEXO").val(e[0].sexo),$("#input_con_FN").val(e[0].nacimiento),$("#input_con_DIR").val(e[0].direccion),$("#input_con_REF").val(e[0].referencia),$("#input_con_OCUP").val(e[0].ocupacion),$("#input_con_DIRT").val(e[0].dir_trabajo),$("#input_con_PT").val(e[0].parentesco),$("#input_con_IDCLI").val(e[0].idcliente),$("input[name=input_con_CA][value="+e[0].tipo+"]").prop("checked",!0),"SI"==e[0].habilitado?$(".modal-btn-cont-2").html(`\n                        <button type="button" class="btn btn-danger btn_modals" onclick="conyugue.habilitar(${t},0,'${e[0].tipo}');" style="width:155px;"><i class="fas fa-lg fa-user-lock"></i> Bloquear</button>\n                    `):$(".modal-btn-cont-2").html(`\n                        <button type="button" class="btn btn-primary btn_modals" onclick="conyugue.habilitar(${t},1,'${e[0].tipo}');" style="width:155px;"><i class="fas fa-lg fa-user-lock"></i> Desbloquear</button>\n                    `)}})}editarSave(t,a){this.formulario.append("id",t),this.formulario.append("tipo",a),$.ajax({url:"backend/panel/clientes/conyugue/ajax_editar.php",type:"POST",data:this.formulario,contentType:!1,cache:!1,processData:!1,beforeSend:function(){$(".btn_modals").prop("disabled",!0),$("#conyugue-ajax-result").html('\n                    <div style="">\n                        <div class="spinner-border text-info" role="status" style="position:relative;left:50%;float:left;">\n                            <span class="sr-only">Loading...</span>\n                        </div>\n                    </div>\n                ')},success:function(t){200==t?($("#conyugue-ajax-result").html('\n                            <div class="alert alert-success" role="alert"  style="margin-bottom: 10px;">\n                                Actualización Correcta!\n                            </div>\n                        '),setTimeout(()=>{conyugue.listar(cliente.idEdit),conyugue.tipo=null,$("#modal-add-conyugue").modal("hide"),$(".btn_modals").prop("disabled",!1),setTimeout(()=>{$("#conyugue-ajax-result").html("")},700)},600)):($(".btn_modals").prop("disabled",!1),301==t?$("#conyugue-ajax-result").html('\n                                <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                    Se produjo un error al subir el archivo al servidor!\n                                </div>\n                            '):302==t?$("#conyugue-ajax-result").html('\n                                    <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                        Se produjo un error con la base de datos!\n                                    </div>\n                                '):$("#conyugue-ajax-result").html('\n                                    <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                        '+t+"\n                                    </div>\n                                "))},timeout:3e4,error:function(t,a){$(".btn_modals").prop("disabled",!1),$("#conyugue-ajax-result").html('\n                                <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                    Disculpe, existió un problema - '+t.status+" "+t.statusText+"\n                                </div>\n                    ")}})}habilitar(t,a,e){$.ajax({url:"backend/panel/clientes/conyugue/ajax_habilitar.php",type:"POST",data:{id:t,operacion:a,tipo:e},beforeSend:function(){$(".btn_modals").prop("disabled",!0),$("#conyugue-ajax-result").html('\n                    <div style="">\n                        <div class="spinner-border text-info" role="status" style="position:relative;left:50%;float:left;">\n                            <span class="sr-only">Loading...</span>\n                        </div>\n                    </div>\n                ')},success:function(t){200==t?($("#conyugue-ajax-result").html('\n                            <div class="alert alert-warning" role="alert"  style="margin-bottom: 10px;">\n                                Se completo la operación!\n                            </div>\n                        '),setTimeout(()=>{conyugue.listar(cliente.idEdit),$("#modal-add-conyugue").modal("hide"),$(".btn_modals").prop("disabled",!1),setTimeout(()=>{$("#conyugue-ajax-result").html("")},700)},700)):$("#conyugue-ajax-result").html('\n                                    <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                        '+t+"\n                                    </div>\n                        ")},timeout:3e4,error:function(t,a){$(".btn_modals").prop("disabled",!1),$("#conyugue-ajax-result").html('\n                                <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                    Disculpe, existió un problema - '+t.status+" "+t.statusText+"\n                                </div>\n                    ")}})}}class Negocio{constructor(){this.idEdit=0,this.metodo=0,this.formulario,this.tipo=0,this.editURLimg=0,this.btn_img,this.editURLimg2=0,this.btn_img2}listar(t){$.ajax({url:"backend/panel/clientes/negocio/ajax_ver.php",type:"GET",data:{consulta:"buscar",id:t},success:function(t){var a=JSON.parse(t),e="",n="",l=0,s=0;a.forEach(t=>{"NEGOCIO"==t.tipo?e+=`\n                                                <tr>\n                                                    <th scope="row">${++l}</th>\n                                                    <td style="padding: 5px 13px;">${t.norm_tipo}</td>\n                                                    <td style="padding: 5px 13px;">${t.norm_tipo_negocio}</td>\n                                                    <td style="padding: 5px 13px;">\n                                                        <div class="col text-center"> \n                                                            <button style="width:110px;" type="button" class="btn btn-primary" onClick='btn_edit("negocio",${t.id});'><i class="fas fa-edit"></i> Editar</button>\n                                                        </div>\n                                                    </td>\n                                                </tr>\n                        `:n+=`\n                                                <tr>\n                                                    <th scope="row">${++s}</th>\n                                                    <td style="padding: 5px 13px;">${t.trans_tipo}</td>\n                                                    <td style="padding: 5px 13px;">${t.trans_empresa}</td>\n                                                    <td style="padding: 5px 13px;">\n                                                        <div class="col text-center"> \n                                                            <button style="width:110px;" type="button" class="btn btn-primary" onClick='btn_edit("transporte",${t.id});'><i class="fas fa-edit"></i> Editar</button>\n                                                        </div>\n                                                    </td>\n                                                </tr>\n                        `}),$("#load_data_negocio_normal").html(e),$("#load_data_negocio_transporte").html(n)}})}listarConsumo(t){$.ajax({url:"backend/panel/clientes/negocio/ajax_ver_consumo.php",type:"GET",data:{consulta:"buscar",id:t},success:function(t){var a=JSON.parse(t),e="",n=0;a.forEach(t=>{e+=`\n                                                <tr>\n                                                    <th scope="row">${++n}</th>\n                                                    <td style="padding: 5px 13px;">${t.dedicacion}</td>\n                                                    <td style="padding: 5px 13px;">${t.ingreso}</td>\n                                                    <td style="padding: 5px 13px;">${t.lugar_trabajo}</td>\n                                                    <td style="padding: 5px 13px;">\n                                                        <div class="col text-center"> \n                                                            <button style="width:110px;" type="button" class="btn btn-primary" onClick='btn_edit("consumo",${t.id});'><i class="fas fa-edit"></i> Editar</button>\n                                                        </div>\n                                                    </td>\n                                                </tr>\n                        `}),$("#load_data_credito_consumo").html(e)}})}registrar(t){this.formulario.append("editURLimg",this.editURLimg),this.formulario.append("editURLimg2",this.editURLimg2),this.formulario.append("id_cliente",t),this.formulario.append("tipo",this.tipo),"NEGOCIO"==this.tipo?$.ajax({type:"POST",url:"backend/panel/clientes/negocio/ajax_registrar.php",data:this.formulario,contentType:!1,cache:!1,processData:!1,beforeSend:function(){$(".btn_modals").prop("disabled",!0),$("#negocio-ajax-result").html('\n                        <div style="">\n                            <div class="spinner-border text-info" role="status" style="position:relative;left:50%;float:left;">\n                                <span class="sr-only">Loading...</span>\n                            </div>\n                        </div>\n                    ')},success:function(a){200==a?($("#negocio-ajax-result").html('\n                                <div class="alert alert-success" role="alert"  style="margin-bottom: 10px;">\n                                    Registro Correcto!\n                                </div>\n                        '),setTimeout(()=>{negocio.listar(t),$("#modal-add-negocio").modal("hide"),$(".btn_modals").prop("disabled",!1),setTimeout(()=>{$("#negocio-ajax-result").html("")},700)},600)):($(".btn_modals").prop("disabled",!1),301==a?$("#negocio-ajax-result").html('\n                                <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                    Se produjo un error al subir el archivo al servidor!\n                                </div>\n                            '):302==a?$("#negocio-ajax-result").html('\n                                    <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                        Se produjo un error con la base de datos!\n                                    </div>\n                                '):$("#negocio-ajax-result").html('\n                                    <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                        '+a+"\n                                    </div>\n                                "))},timeout:3e4,error:function(t,a){$(".btn_modals").prop("disabled",!1),$("#negocio-ajax-result").html('\n                                                <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                                    Disculpe, existió un problema - '+t.status+" "+t.statusText+"\n                                                </div>\n                    ")}}):$.ajax({type:"POST",url:"backend/panel/clientes/negocio/ajax_registrar.php",data:this.formulario,contentType:!1,cache:!1,processData:!1,beforeSend:function(){$(".btn_modals").prop("disabled",!0),$("#transporte-ajax-result").html('\n                        <div style="">\n                            <div class="spinner-border text-info" role="status" style="position:relative;left:50%;float:left;">\n                                <span class="sr-only">Loading...</span>\n                            </div>\n                        </div>\n                    ')},success:function(a){200==a?($("#transporte-ajax-result").html('\n                                <div class="alert alert-success" role="alert"  style="margin-bottom: 10px;">\n                                    Registro Correcto!\n                                </div>\n                        '),setTimeout(()=>{negocio.listar(t),$("#modal-add-transporte").modal("hide"),$(".btn_modals").prop("disabled",!1),setTimeout(()=>{$("#transporte-ajax-result").html("")},700)},600)):($(".btn_modals").prop("disabled",!1),301==a?$("#transporte-ajax-result").html('\n                                <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                    Se produjo un error al subir el archivo al servidor!\n                                </div>\n                            '):302==a?$("#transporte-ajax-result").html('\n                                    <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                        Se produjo un error con la base de datos!\n                                    </div>\n                                '):$("#transporte-ajax-result").html('\n                                    <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                        '+a+"\n                                    </div>\n                                "))},timeout:3e4,error:function(t,a){$(".btn_modals").prop("disabled",!1),$("#transporte-ajax-result").html('\n                                                <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                                    Disculpe, existió un problema - '+t.status+" "+t.statusText+"\n                                                </div>\n                    ")}})}registrarConsumo(t){this.formulario.append("id_cliente",t),$.ajax({type:"POST",url:"backend/panel/clientes/negocio/ajax_registrar_consumo.php",data:this.formulario,contentType:!1,cache:!1,processData:!1,beforeSend:function(){$(".btn_modals").prop("disabled",!0),$("#consumo-ajax-result").html('\n                        <div style="">\n                            <div class="spinner-border text-info" role="status" style="position:relative;left:50%;float:left;">\n                                <span class="sr-only">Loading...</span>\n                            </div>\n                        </div>\n                    ')},success:function(a){200==a?($("#consumo-ajax-result").html('\n                                <div class="alert alert-success" role="alert"  style="margin-bottom: 10px;">\n                                    Registro Correcto!\n                                </div>\n                        '),setTimeout(()=>{negocio.listarConsumo(t),$("#modal-add-consumo").modal("hide"),$(".btn_modals").prop("disabled",!1),setTimeout(()=>{$("#consumo-ajax-result").html("")},700)},600)):($(".btn_modals").prop("disabled",!1),301==a?$("#consumo-ajax-result").html('\n                                <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                    Se produjo un error al subir el archivo al servidor!\n                                </div>\n                            '):302==a?$("#consumo-ajax-result").html('\n                                    <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                        Se produjo un error con la base de datos!\n                                    </div>\n                                '):$("#consumo-ajax-result").html('\n                                    <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                        '+a+"\n                                    </div>\n                                "))},timeout:3e4,error:function(t,a){$(".btn_modals").prop("disabled",!1),$("#consumo-ajax-result").html('\n                                                <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                                    Disculpe, existió un problema - '+t.status+" "+t.statusText+"\n                                                </div>\n                    ")}})}editar(t){"NEGOCIO"==this.tipo?$.ajax({url:"backend/panel/clientes/negocio/ajax_ver.php",type:"GET",data:{consulta:"editar",id:t},success:function(t){var a=JSON.parse(t);$("#input_neg_TIPO").val(a[0].norm_tipo),$("#input_neg_TIPOLOC").val(a[0].norm_tipo_local),$("#input_neg_SECTOR").val(a[0].norm_tipo_negocio),$("#input_neg_TIEMPO").val(a[0].tiempo)}}):$.ajax({url:"backend/panel/clientes/negocio/ajax_ver.php",type:"GET",data:{consulta:"editar",id:t},success:function(t){var a=JSON.parse(t);$("#input_trans_TIPO").val(a[0].trans_tipo),$("#input_trans_PLACA").val(a[0].trans_placa),$("#input_trans_EMP").val(a[0].trans_empresa),$("#input_trans_DIR").val(a[0].trans_direccion),$("#input_trans_SOAT").val(a[0].trans_soat),$("#input_trans_SOAT_CAD").val(a[0].trans_soat_cad),$("#input_trans_TARJETA").val(a[0].trans_tarjeta),$("#input_trans_TARJETA_CAD").val(a[0].trans_tarjeta_cad),$("#input_trans_TIEMPO").val(a[0].tiempo),"SI"==$("#input_trans_SOAT").val()?($("#input_trans_SOAT_CAD").removeAttr("readonly"),$("#input_trans_SOAT_CAD").prop("required",!0)):($("#input_trans_SOAT_CAD").attr("readonly","readonly"),$("#input_trans_SOAT_CAD").prop("required",!1),$("#input_trans_SOAT_CAD").val("")),"SI"==$("#input_trans_TARJETA").val()?($("#input_trans_TARJETA_CAD").removeAttr("readonly"),$("#input_trans_TARJETA_CAD").prop("required",!0)):($("#input_trans_TARJETA_CAD").attr("readonly","readonly"),$("#input_trans_TARJETA_CAD").prop("required",!1),$("#input_trans_TARJETA_CAD").val(""))}})}editarConsumo(t){$.ajax({url:"backend/panel/clientes/negocio/ajax_ver_consumo.php",type:"GET",data:{consulta:"editar",id:t},success:function(t){var a=JSON.parse(t);$("#input_cons_DEDICA").val(a[0].dedicacion),$("#input_cons_TIEMPO").val(a[0].tiempo),$("#input_cons_INGRESO").val(a[0].ingreso),$("#input_cons_TRABAJO").val(a[0].lugar_trabajo),$("#input_cons_PROFESION").val(a[0].profesion)}})}editarSave(t){this.formulario.append("id",t),this.formulario.append("editURLimg",this.editURLimg),this.formulario.append("editURLimg2",this.editURLimg2),this.formulario.append("tipo",this.tipo),"NEGOCIO"==this.tipo?$.ajax({url:"backend/panel/clientes/negocio/ajax_editar.php",type:"POST",data:this.formulario,contentType:!1,cache:!1,processData:!1,beforeSend:function(){$(".btn_modals").prop("disabled",!0),$("#negocio-ajax-result").html('\n                        <div style="">\n                            <div class="spinner-border text-info" role="status" style="position:relative;left:50%;float:left;">\n                                <span class="sr-only">Loading...</span>\n                            </div>\n                        </div>\n                    ')},success:function(t){200==t?($("#negocio-ajax-result").html('\n                                <div class="alert alert-success" role="alert"  style="margin-bottom: 10px;">\n                                    Actualización Correcta!\n                                </div>\n                            '),setTimeout(()=>{negocio.listar(cliente.idEdit),$("#modal-add-negocio").modal("hide"),$(".btn_modals").prop("disabled",!1),setTimeout(()=>{$("#negocio-ajax-result").html("")},700)},600)):($(".btn_modals").prop("disabled",!1),301==t?$("#negocio-ajax-result").html('\n                                    <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                        Se produjo un error al subir el archivo al servidor!\n                                    </div>\n                                '):302==t?$("#negocio-ajax-result").html('\n                                        <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                            Se produjo un error con la base de datos!\n                                        </div>\n                                    '):$("#negocio-ajax-result").html('\n                                        <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                            '+t+"\n                                        </div>\n                                    "))},timeout:3e4,error:function(t,a){$(".btn_modals").prop("disabled",!1),$("#negocio-ajax-result").html('\n                                    <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                        Disculpe, existió un problema - '+t.status+" "+t.statusText+"\n                                    </div>\n                        ")}}):$.ajax({url:"backend/panel/clientes/negocio/ajax_editar.php",type:"POST",data:this.formulario,contentType:!1,cache:!1,processData:!1,beforeSend:function(){$(".btn_modals").prop("disabled",!0),$("#transporte-ajax-result").html('\n                        <div style="">\n                            <div class="spinner-border text-info" role="status" style="position:relative;left:50%;float:left;">\n                                <span class="sr-only">Loading...</span>\n                            </div>\n                        </div>\n                    ')},success:function(t){200==t?($("#transporte-ajax-result").html('\n                                <div class="alert alert-success" role="alert"  style="margin-bottom: 10px;">\n                                    Actualización Correcta!\n                                </div>\n                            '),setTimeout(()=>{negocio.listar(cliente.idEdit),$("#modal-add-transporte").modal("hide"),$(".btn_modals").prop("disabled",!1),setTimeout(()=>{$("#transporte-ajax-result").html("")},700)},600)):($(".btn_modals").prop("disabled",!1),301==t?$("#transporte-ajax-result").html('\n                                    <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                        Se produjo un error al subir el archivo al servidor!\n                                    </div>\n                                '):302==t?$("#transporte-ajax-result").html('\n                                        <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                            Se produjo un error con la base de datos!\n                                        </div>\n                                    '):$("#transporte-ajax-result").html('\n                                        <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                            '+t+"\n                                        </div>\n                                    "))},timeout:3e4,error:function(t,a){$(".btn_modals").prop("disabled",!1),$("#transporte-ajax-result").html('\n                                    <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                        Disculpe, existió un problema - '+t.status+" "+t.statusText+"\n                                    </div>\n                        ")}})}editarSaveConsumo(t){this.formulario.append("id",t),$.ajax({url:"backend/panel/clientes/negocio/ajax_editar_consumo.php",type:"POST",data:this.formulario,contentType:!1,cache:!1,processData:!1,beforeSend:function(){$(".btn_modals").prop("disabled",!0),$("#consumo-ajax-result").html('\n                        <div style="">\n                            <div class="spinner-border text-info" role="status" style="position:relative;left:50%;float:left;">\n                                <span class="sr-only">Loading...</span>\n                            </div>\n                        </div>\n                    ')},success:function(t){200==t?($("#consumo-ajax-result").html('\n                                <div class="alert alert-success" role="alert"  style="margin-bottom: 10px;">\n                                    Actualización Correcta!\n                                </div>\n                            '),setTimeout(()=>{negocio.listarConsumo(cliente.idEdit),$("#modal-add-consumo").modal("hide"),$(".btn_modals").prop("disabled",!1),setTimeout(()=>{$("#consumo-ajax-result").html("")},700)},600)):($(".btn_modals").prop("disabled",!1),301==t?$("#consumo-ajax-result").html('\n                                    <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                        Se produjo un error al subir el archivo al servidor!\n                                    </div>\n                                '):302==t?$("#consumo-ajax-result").html('\n                                        <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                            Se produjo un error con la base de datos!\n                                        </div>\n                                    '):$("#consumo-ajax-result").html('\n                                        <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                            '+t+"\n                                        </div>\n                                    "))},timeout:3e4,error:function(t,a){$(".btn_modals").prop("disabled",!1),$("#consumo-ajax-result").html('\n                                    <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                        Disculpe, existió un problema - '+t.status+" "+t.statusText+"\n                                    </div>\n                        ")}})}}class Credito{constructor(){this.idEdit=0,this.metodo=0,this.formulario}listarSolicitudes(){$.ajax({url:"../backend/panel/creditos/solicitudes/ajax_ver.php",type:"GET",data:{consulta:"buscar"},beforeSend:function(){$("#load_data_solicitudes").html(""),$("#load_table_solicitudes").html('\n                    <div style="">\n                        <br>\n                        <div class="spinner-border text-info" role="status" style="position:relative;left:50%;float:left;">\n                            <span class="sr-only">Loading...</span>\n                        </div><br>\n                        <span style="position:relative;left:50%;float:left;transform:translateX(-67%);margin-top:15px;">Loading...</span>\n                    </div>\n                ')},success:function(t){var a=JSON.parse(t);console.log(a);var e="",n=0;a.forEach(t=>{switch(e+=`\n                                            <tr>\n                                                <th scope="row">${++n}</th>\n                                                <td>${t.idcredito}</td>\n                                                <td>${t.cli_apellido_pat+" "+t.cli_apellido_mat+" "+t.cli_nombre}</td>\n                                                <td>${t.usu_apellido_pat+" "+t.usu_apellido_mat+" "+t.usu_nombre}</td>\n                                                <td>S/. ${t.monto_prop}</td>\n                                    `,null==t.monto_aprob||""==t.monto_aprob?e+="\n                                                <td>Pendiente...</td>                  \n                        ":e+=`\n                                                <td>S/. ${t.monto_aprob}</td> \n                        `,e+=`\n                                                <td>${t.n_cuotas}</td>\n                                                <td>${t.interes+" %"}</td>          \n                                    `,null==t.fecha_preaprob||""==t.fecha_preaprob?e+="\n                                                <td>Pendiente...</td>\n                        ":e+=`\n                                                <td>${t.fecha_preaprob}</td>\n                        `,t.estado){case"REGISTRADO":e+=`\n                                                <td class="text-center"><span class="badge badge-pill badge-secondary">${t.estado}</span></td>\n                                            `;break;case"PREAPROBADO":e+=`\n                                                <td class="text-center"><span class="badge badge-pill badge-info">${t.estado}</span></td>\n                                            `;break;case"APROBADO":e+=`\n                                                <td class="text-center"><span class="badge badge-pill badge-primary">${t.estado}</span></td>\n                                            `;break;case"DESEMBOLSADO":e+=`\n                                                <td class="text-center"><span class="badge badge-pill badge-success">${t.estado}</span></td>\n                                            `;break;case"FINALIZADO":e+=`\n                                                <td class="text-center"><span class="badge badge-pill badge-secondary">${t.estado}</span></td>\n                                            `}"REGISTRADO"==t.estado?e+=`\n                                                <td>\n                                                    <div class="col text-center"> \n                                                        <button style="width:110px;" type="button" class="btn btn-primary" onClick='btn_edit_credito("solicitud",${t.idsolicitud});'><i class="fas fa-edit"></i> Editar</button>\n                                                    </div>\n                                                </td>\n                                            </tr>\n                                        `:e+=`\n                                                <td>\n                                                    <div class="col text-center"> \n                                                        <button style="width:130px;" type="button" class="btn btn-warning" onClick='btn_ver_credito("solicitud",${t.idsolicitud});'><i class="fas fa-eye"></i> Ver detalles</button>\n                                                    </div>\n                                                </td>\n                                            </tr>\n                                        `}),$("#load_table_solicitudes").html(""),$("#load_data_solicitudes").html(e)}})}listarAprobaciones(){$.ajax({url:"../backend/panel/creditos/aprobaciones/ajax_ver.php",type:"GET",data:{consulta:"buscar"},beforeSend:function(){$("#load_data_aprobaciones").html(""),$("#load_table_aprobaciones").html('\n                    <div style="">\n                        <br>\n                        <div class="spinner-border text-info" role="status" style="position:relative;left:50%;float:left;">\n                            <span class="sr-only">Loading...</span>\n                        </div><br>\n                        <span style="position:relative;left:50%;float:left;transform:translateX(-67%);margin-top:15px;">Loading...</span>\n                    </div>\n                ')},success:function(t){var a=JSON.parse(t),e="",n=0;a.forEach(t=>{switch(e+=`\n                                            <tr>\n                                                <th scope="row">${++n}</th>\n                                                <td>${t.idcredito}</td>\n                                                <td>${t.cli_apellido_pat+" "+t.cli_apellido_mat+" "+t.cli_nombre}</td>\n                                                <td>${t.usu_ases_apellido_pat+" "+t.usu_ases_apellido_mat+" "+t.usu_ases_nombre}</td>\n                                                <td>S/. ${t.monto_prop}</td>\n                                    `,null==t.monto_aprob||""==t.monto_aprob?e+="\n                                                <td>Pendiente...</td>                  \n                        ":e+=`\n                                                <td>S/. ${t.monto_aprob}</td> \n                        `,e+=`\n                                                <td>${t.fecha_preaprob}</td>      \n                    `,null==t.fecha_aprob||""==t.fecha_aprob?e+="\n                                                <td>Pendiente...</td>      \n                    ":e+=`\n                                                <td>${t.fecha_preaprob}</td>      \n                    `,t.estado){case"REGISTRADO":e+=`\n                                                <td class="text-center"><span class="badge badge-pill badge-secondary">${t.estado}</span></td>\n                                            `;break;case"PREAPROBADO":e+=`\n                                                <td class="text-center"><span class="badge badge-pill badge-info">${t.estado}</span></td>\n                                            `;break;case"APROBADO":e+=`\n                                                <td class="text-center"><span class="badge badge-pill badge-primary">${t.estado}</span></td>\n                                            `;break;case"DESEMBOLSADO":e+=`\n                                                <td class="text-center"><span class="badge badge-pill badge-success">${t.estado}</span></td>\n                                            `}"PREAPROBADO"==t.estado?e+=`\n                                                <td>\n                                                    <div class="col text-center"> \n                                                        <button style="width:140px;" type="button" class="btn btn-success" onClick='btn_edit_credito("aprobacion",${t.idaprobacion});'><i class="fas fa-lg fa-clipboard"></i> Ver Crédito</button>\n                                                    </div>\n                                                </td>\n                                            </tr>\n                                        `:"APROBADO"==t.estado&&(e+=`\n                                                <td>\n                                                    <div class="col text-center"> \n                                                        <button type="button" class="btn btn-warning btn_modals" onclick="btn_ver_credito('aprobacion',${t.idaprobacion});" style="width:130px;"><i class="fas fa-eye"></i> Ver detalles</button>\n                                                    </div>\n                                                </td>\n                                            </tr>\n                                        `)}),""!=a&&null!=a||(e="\n                                    <tr>\n                                        <td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td>                    \n                                    </tr>\n                                    <tr>\n                                        <td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td>                    \n                                    </tr>\n                                    <tr>\n                                        <td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td>                    \n                                    </tr>\n                                    "),$("#load_table_aprobaciones").html(""),$("#load_data_aprobaciones").html(e)}})}listarDesembolsos(){$.ajax({url:"../backend/panel/creditos/desembolsos/ajax_ver.php",type:"GET",data:{consulta:"buscar"},beforeSend:function(){$("#load_data_desembolsos").html(""),$("#load_table_desembolsos").html('\n                    <div style="">\n                        <br>\n                        <div class="spinner-border text-info" role="status" style="position:relative;left:50%;float:left;">\n                            <span class="sr-only">Loading...</span>\n                        </div><br>\n                        <span style="position:relative;left:50%;float:left;transform:translateX(-67%);margin-top:15px;">Loading...</span>\n                    </div>\n                ')},success:function(t){var a=JSON.parse(t),e="",n=0;a.forEach(t=>{switch(e+=`\n                                            <tr>\n                                                <th scope="row">${++n}</th>\n                                                <td>${t.cli_apellido_pat+" "+t.cli_apellido_mat+" "+t.cli_nombre}</td>\n                                                <td>${t.usu_ases_apellido_pat+" "+t.usu_ases_apellido_mat+" "+t.usu_ases_nombre}</td>\n                                                <td>S/. ${t.monto_aprob}</td>\n                                    `,t.estado){case"REGISTRADO":e+=`\n                                                <td class="text-center"><span class="badge badge-pill badge-secondary">${t.estado}</span></td>\n                                            `;break;case"PREAPROBADO":e+=`\n                                                <td class="text-center"><span class="badge badge-pill badge-info">${t.estado}</span></td>\n                                            `;break;case"APROBADO":e+=`\n                                                <td class="text-center"><span class="badge badge-pill badge-primary">${t.estado}</span></td>\n                                            `;break;case"DESEMBOLSADO":e+=`\n                                                <td class="text-center"><span class="badge badge-pill badge-success">${t.estado}</span></td>\n                                            `;break;case"FINALIZADO":e+=`\n                                                <td class="text-center"><span class="badge badge-pill badge-secondary">${t.estado}</span></td>\n                                            `}"APROBADO"==t.estado?e+=`\n                                                <td>\n                                                    <div class="col text-center"> \n                                                        <button style="width:155px;" type="button" class="btn btn-success" onclick='btn_edit_credito("desembolso",${t.iddesembolso});'><i class="fas fa-lg fa-coins"></i> Desembolsar</button>\n                                                    </div>\n                                                </td>\n                                            </tr>\n                                        `:"DESEMBOLSADO"==t.estado?"ADMINISTRADOR"==t.user_privilegios||"ROOT"==t.user_privilegios?t.hoy==t.fecha_desem?e+=`\n                                                    <td>\n                                                        <div class="col text-center"> \n                                                            <button style="width:110px;" type="button" class="btn btn-info" onclick='btn_desembolso_print("voucher",${t.iddesembolso});'><i class="fas fa-lg fa-ticket-alt"></i> Ticket</button>\n                                                            <button style="width:138px;" type="button" class="btn btn-warning" onclick='btn_desembolso_print("cronograma",${t.iddesembolso});'><i class="far fa-lg fa-calendar-alt"></i> Cronograma</button>\n                                                            <button style="width:120px;" type="button" class="btn btn-dark" onclick='btn_desembolso_print("contrato",${t.iddesembolso});'><i class="fas fa-lg fa-file-alt"></i> Contrato</button>\n                                                            <button style="width:120px;margin-top:3px;" type="button" class="btn btn-danger" onclick='btn_edit_credito("extornar",${t.iddesembolso});'><i class="fas fa-lg fa-history"></i> Extornar</button>\n                                                        </div>\n                                                    </td>\n                                                </tr>\n                                            `:e+=`\n                                                    <td>\n                                                        <div class="col text-center"> \n                                                            <button style="width:110px;" type="button" class="btn btn-info" onclick='btn_desembolso_print("voucher",${t.iddesembolso});'><i class="fas fa-lg fa-ticket-alt"></i> Ticket</button>\n                                                            <button style="width:138px;" type="button" class="btn btn-warning" onclick='btn_desembolso_print("cronograma",${t.iddesembolso});'><i class="far fa-lg fa-calendar-alt"></i> Cronograma</button>\n                                                            <button style="width:120px;" type="button" class="btn btn-dark" onclick='btn_desembolso_print("contrato",${t.iddesembolso});'><i class="fas fa-lg fa-file-alt"></i> Contrato</button>\n                                                        </div>\n                                                    </td>\n                                                </tr>\n                                            `:e+=`\n                                                <td>\n                                                    <div class="col text-center"> \n                                                        <button style="width:110px;" type="button" class="btn btn-info" onclick='btn_desembolso_print("voucher",${t.iddesembolso});'><i class="fas fa-lg fa-ticket-alt"></i> Ticket</button>\n                                                        <button style="width:138px;" type="button" class="btn btn-warning" onclick='btn_desembolso_print("cronograma",${t.iddesembolso});'><i class="far fa-lg fa-calendar-alt"></i> Cronograma</button>\n                                                        <button style="width:120px;" type="button" class="btn btn-dark" onclick='btn_desembolso_print("contrato",${t.iddesembolso});'><i class="fas fa-lg fa-file-alt"></i> Contrato</button>\n                                                    </div>\n                                                </td>\n                                            </tr>\n                                        `:"FINALIZADO"==t.estado&&(e+=`\n                                        <td>\n                                            <div class="col text-center"> \n                                                <button style="width:110px;" type="button" class="btn btn-info" onclick='btn_desembolso_print("voucher",${t.iddesembolso});'><i class="fas fa-lg fa-ticket-alt"></i> Ticket</button>\n                                                <button style="width:138px;" type="button" class="btn btn-warning" onclick='btn_desembolso_print("cronograma",${t.iddesembolso});'><i class="far fa-lg fa-calendar-alt"></i> Cronograma</button>\n                                                <button style="width:120px;" type="button" class="btn btn-dark" onclick='btn_desembolso_print("contrato",${t.iddesembolso});'><i class="fas fa-lg fa-file-alt"></i> Contrato</button>\n                                            </div>\n                                        </td>\n                                    </tr>\n                                `)}),$("#load_table_desembolsos").html(""),$("#load_data_desembolsos").html(e)}})}listarVoucherPago(t){$.ajax({url:"../backend/panel/creditos/cobranza/ajax_pagos.php",type:"GET",data:{consulta:"buscar",idcredito:t},beforeSend:function(){$("#load_data_modal_pagos").html(""),$("#load_table_modal2").html('\n                    <div style="">\n                        <br>\n                        <div class="spinner-border text-info" role="status" style="position:relative;left:50%;float:left;">\n                            <span class="sr-only">Loading...</span>\n                        </div><br>\n                        <span style="position:relative;left:50%;float:left;transform:translateX(-67%);margin-top:15px;">Loading...</span>\n                    </div>\n                ')},success:function(t){var a=JSON.parse(t),e="",n=0;a.forEach(t=>{e+=`\n                                            <tr>\n                                                <th scope="row">${++n}</th>\n                                                <td>${t.monto}</td>\n                                    `,""==t.tipo_vp||null==t.tipo_vp?e+="\n                                                <td>PAGO</td>\n                        ":e+=`\n                            <td>${t.tipo_vp}</td>\n                        `,e+=`\n                                                <td>${t.fecha}</td>\n                                                <td><button type="button" class="btn btn-primary" onclick='btn_pago_print("voucher",${t.id});'><i class="fas fa-lg fa-ticket-alt"></i></button></td>\n                                            </tr>\n                                    `}),$("#load_table_modal2").html(""),$("#load_data_modal_pagos").html(e)}})}listarVoucherPagoCondonacion(t){$.ajax({url:"../backend/panel/creditos/cobranza/ajax_pagos.php",type:"GET",data:{consulta:"buscar",idcredito:t},beforeSend:function(){$("#load_data_modal_pagos-c").html(""),$("#load_table_modal2-c").html('\n                    <div style="">\n                        <br>\n                        <div class="spinner-border text-info" role="status" style="position:relative;left:50%;float:left;">\n                            <span class="sr-only">Loading...</span>\n                        </div><br>\n                        <span style="position:relative;left:50%;float:left;transform:translateX(-67%);margin-top:15px;">Loading...</span>\n                    </div>\n                ')},success:function(t){var a=JSON.parse(t),e="",n=0;a.forEach(t=>{e+=`\n                                            <tr>\n                                                <th scope="row">${++n}</th>\n                                                <td>${t.monto}</td>\n                                    `,""==t.tipo_vp||null==t.tipo_vp?e+="\n                                                <td>PAGO</td>\n                        ":e+=`\n                            <td>${t.tipo_vp}</td>\n                        `,e+=`\n                                                <td>${t.fecha}</td>\n                                                <td><button type="button" class="btn btn-primary" onclick='btn_pago_print("voucher",${t.id});'><i class="fas fa-lg fa-ticket-alt"></i></button></td>\n                                            </tr>\n                                    `}),$("#load_table_modal2-c").html(""),$("#load_data_modal_pagos-c").html(e)}})}buscarCliente(t){$.ajax({url:"../backend/panel/creditos/ajax_buscar_cliente.php",type:"GET",data:{clave:t},success:function(t){var a=JSON.parse(t);$("#clientes").html(""),a.forEach(t=>{$("#clientes").append(`\n                        <option data-id="${t.id}" value="${t.nombre+" "+t.apellido_pat+" "+t.apellido_mat}"></option>\n                    `)})}})}buscarConyugue(t){$.ajax({url:"../backend/panel/creditos/ajax_buscar_conyugue.php",type:"GET",data:{clave:t,idcliente:$("#inputCLIENT-hidden").val()},success:function(t){var a=JSON.parse(t);$("#conyugue-list-ajax").html(""),a.forEach(t=>{$("#conyugue-list-ajax").append(`\n                        <option data-id="${t.id}" value="${t.nombre+" "+t.apellido_pat+" "+t.apellido_mat}"></option>\n                    `)})}})}buscarAval(t){$.ajax({url:"../backend/panel/creditos/ajax_buscar_aval.php",type:"GET",data:{clave:t,idcliente:$("#inputCLIENT-hidden").val()},success:function(t){var a=JSON.parse(t);$("#aval-list-ajax").html(""),a.forEach(t=>{$("#aval-list-ajax").append(`\n                        <option data-id="${t.id}" value="${t.nombre+" "+t.apellido_pat+" "+t.apellido_mat}"></option>\n                    `)})}})}buscarUsuario(){$.ajax({url:"../backend/panel/creditos/ajax_buscar_asesor.php",type:"GET",success:function(t){var a=JSON.parse(t);""!=a&&null!=a?($("#inputASES").removeClass("is-invalid"),$("#inputASES").addClass("is-valid"),$("#inputASES-hidden").val(a[0].idusuario),$("#inputASES").val(a[0].nombre+" "+a[0].apellido_pat+" "+a[0].apellido_mat)):($("#inputASES").removeClass("is-valid"),$("#inputASES").addClass("is-invalid"))}})}buscarAdmin(){$.ajax({url:"../backend/panel/creditos/ajax_buscar_admin.php",type:"GET",success:function(t){var a=JSON.parse(t);""!=a&&null!=a?($("#inputADMIN").removeClass("is-invalid"),$("#inputADMIN").addClass("is-valid"),$("#inputADMIN-hidden").val(a[0].idadm),$("#inputADMIN").val(a[0].nombre+" "+a[0].apellido_pat+" "+a[0].apellido_mat)):($("#inputADMIN").removeClass("is-valid"),$("#inputADMIN").addClass("is-invalid"))}})}buscarCaja(){$.ajax({url:"../backend/panel/creditos/ajax_buscar_caja.php",type:"GET",success:function(t){var a=JSON.parse(t);""!=a&&null!=a?($("#inputCAJA").removeClass("is-invalid"),$("#inputCAJA").addClass("is-valid"),$("#inputCAJA-hidden").val(a[0].idcaja),$("#inputCAJA").val(a[0].nombre+" "+a[0].apellido_pat+" "+a[0].apellido_mat)):($("#inputCAJA").removeClass("is-valid"),$("#inputCAJA").addClass("is-invalid"))}})}buscarResponsable(){$.ajax({url:"../backend/panel/creditos/ajax_buscar_caja.php",type:"GET",success:function(t){var a=JSON.parse(t);""!=a&&null!=a?($("#inputCAJA-c").removeClass("is-invalid"),$("#inputCAJA-c").addClass("is-valid"),$("#inputCAJA-hidden-c").val(a[0].idcaja),$("#inputCAJA-c").val(a[0].nombre+" "+a[0].apellido_pat+" "+a[0].apellido_mat)):($("#inputCAJA-c").removeClass("is-valid"),$("#inputCAJA-c").addClass("is-invalid"))}})}buscar_cliente_cobranza(t){$.ajax({url:"../backend/panel/creditos/cobranza/ajax_buscar_cliente.php",type:"GET",data:{clave:t},beforeSend:function(){$("#load_data_cobranza").html(""),$("#load_table_cobranza").html('\n                    <div style="">\n                        <br>\n                        <div class="spinner-border text-info" role="status" style="position:relative;left:50%;float:left;">\n                            <span class="sr-only">Loading...</span>\n                        </div><br>\n                        <span style="position:relative;left:50%;float:left;transform:translateX(-67%);margin-top:15px;">Loading...</span>\n                    </div>\n                ')},success:function(t){var a,e=JSON.parse(t),n=0;e.forEach(t=>{a+=`\n                                <tr>\n                                    <th scope="row">${++n}</th>\n                                    <td>${t.nombre+" "+t.apellido_pat+" "+t.apellido_mat}</td>\n                                    <td>S/.${t.monto_aprob}</td>\n                                    <td>S/.${t.deuda}</td>\n                                `,null==t.mora||""==t.mora?a+="<td></td>":a+=`<td>S/.${t.mora}</td>`,null==t.pagado||""==t.pagado?a+="<td></td>":a+=`<td>S/.${t.pagado}</td>`,"ROOT"==t.user_privilegios?a+=`   \n                                <td>\n                                    <div class="col text-center"> \n                                        <button style="width:160px;" type="button" class="btn btn-primary" onClick="btn_edit_cobranza(${t.idcredito},${t.idcliente});"><i class="fas fa-lg fa-donate"></i> Registrar Pago</button>\n                                        <button style="width:180px;" type="button" class="btn btn-danger" onClick="btn_condonar_cobranza(${t.idcredito},${t.idcliente});"><i class="fas fa-lg fa-stamp"></i> Condonar Deuda</button>\n                                        \x3c!--<button style="width:110px;" type="button" class="btn btn-danger"><i class="fas fa-times-circle"></i> Eliminar</button>--\x3e\n                                    </div>\n                                </td>\n                            </tr>\n                        `:a+=`   \n                                <td>\n                                    <div class="col text-center"> \n                                        <button style="width:160px;" type="button" class="btn btn-primary" onClick="btn_edit_cobranza(${t.idcredito},${t.idcliente});"><i class="fas fa-lg fa-donate"></i> Registrar Pago</button>\n                                        \x3c!--<button style="width:110px;" type="button" class="btn btn-danger"><i class="fas fa-times-circle"></i> Eliminar</button>--\x3e\n                                    </div>\n                                </td>\n                            </tr>\n                        `}),$("#load_table_cobranza").html(""),$("#load_data_cobranza").html(a)}})}buscar_cliente_cobranza_refresh(t){$.ajax({url:"../backend/panel/creditos/cobranza/ajax_buscar_cliente_refresh.php",type:"GET",data:{clave:t},success:function(t){var a=JSON.parse(t);console.log(a);var e=0,n="";a.forEach(t=>{n+=`\n                                <tr>\n                                    <th scope="row">${++e}</th>\n                                    <td>${t.nombre+" "+t.apellido_pat+" "+t.apellido_mat}</td>\n                                    <td>S/.${t.monto_aprob}</td>\n                                    <td>S/.${t.deuda}</td>\n                                `,null==t.mora||""==t.mora?n+="<td></td>":n+=`<td>S/.${t.mora}</td>`,null==t.pagado||""==t.pagado?n+="<td></td>":n+=`<td>S/.${t.pagado}</td>`,"ROOT"==t.user_privilegios?n+=`   \n                                <td>\n                                    <div class="col text-center"> \n                                        <button style="width:160px;" type="button" class="btn btn-primary" onClick="btn_edit_cobranza(${t.idcredito},${t.idcliente});"><i class="fas fa-lg fa-donate"></i> Registrar Pago</button>\n                                        <button style="width:180px;" type="button" class="btn btn-danger" onClick="btn_condonar_cobranza(${t.idcredito},${t.idcliente});"><i class="fas fa-lg fa-stamp"></i> Condonar Deuda</button>\n                                        \x3c!--<button style="width:110px;" type="button" class="btn btn-danger"><i class="fas fa-times-circle"></i> Eliminar</button>--\x3e\n                                    </div>\n                                </td>\n                            </tr>\n                        `:n+=`   \n                                <td>\n                                    <div class="col text-center"> \n                                        <button style="width:160px;" type="button" class="btn btn-primary" onClick="btn_edit_cobranza(${t.idcredito},${t.idcliente});"><i class="fas fa-lg fa-donate"></i> Registrar Pago</button>\n                                        \x3c!--<button style="width:110px;" type="button" class="btn btn-danger"><i class="fas fa-times-circle"></i> Eliminar</button>--\x3e\n                                    </div>\n                                </td>\n                            </tr>\n                        `}),""!=a&&null!=a||(n="",console.log("blanco")),$("#load_data_cobranza").html(n)}})}buscar_cliente_cobranza_autocomplete(t){$.ajax({url:"../backend/panel/creditos/ajax_buscar_cliente_id.php",type:"GET",data:{clave:t},success:function(t){var a=JSON.parse(t);$("#inputCLIENT").addClass("is-valid"),$("#inputCLIENT").val(a[0].nombre+" "+a[0].apellido_pat+" "+a[0].apellido_mat),$("#inputCLIENT-hidden").val(a[0].id)}})}buscar_cliente_condonacion_autocomplete(t){$.ajax({url:"../backend/panel/creditos/ajax_buscar_cliente_id.php",type:"GET",data:{clave:t},success:function(t){var a=JSON.parse(t);$("#inputCLIENT-c").addClass("is-valid"),$("#inputCLIENT-c").val(a[0].nombre+" "+a[0].apellido_pat+" "+a[0].apellido_mat),$("#inputCLIENT-hidden-c").val(a[0].id)}})}buscarCuota(t){this.idEdit=t,$.ajax({url:"../backend/panel/creditos/cobranza/ajax_cuota.php",type:"GET",data:{idpago:t},success:function(t){var a=JSON.parse(t);$("#pago_monto").val(a[0].cuota_programada),$("#pago_vencimiento").val(a[0].fecha_programada),null==a[0].mora||""==a[0].mora?($("#pago_mora").val(0),$("#pago_total").val(parseFloat(a[0].cuota_programada)+0)):($("#pago_mora").val(a[0].mora),$("#pago_total").val(parseFloat(a[0].cuota_programada)+parseFloat(a[0].mora)))}})}registrarSolicitud(){$.ajax({type:"POST",url:"../backend/panel/creditos/solicitudes/ajax_registrar.php",data:this.formulario,contentType:!1,cache:!1,processData:!1,beforeSend:function(){$(".btn_modals").prop("disabled",!0),$("#msg-ajax-result").html('\n                    <div style="">\n                        <div class="spinner-border text-info" role="status" style="position:relative;left:50%;float:left;">\n                            <span class="sr-only">Loading...</span>\n                        </div>\n                    </div>\n                ')},success:function(t){200==t?($("#msg-ajax-result").html('\n                            <div class="alert alert-success" role="alert"  style="margin-bottom: 10px;">\n                                Registro Correcto!\n                            </div>\n                    '),console.log("registrado"),setTimeout(()=>{credito.listarSolicitudes(),$("#modal-add").modal("hide"),$(".btn_modals").prop("disabled",!1),credito.idEdit=0,setTimeout(()=>{$("#msg-ajax-result").html("")},700)},600)):($(".btn_modals").prop("disabled",!1),301==t?$("#msg-ajax-result").html('\n                            <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                Se produjo un error al subir el archivo al servidor!\n                            </div>\n                        '):302==t?$("#msg-ajax-result").html('\n                                <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                    Se produjo un error con la base de datos!\n                                </div>\n                            '):$("#msg-ajax-result").html('\n                                <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                    '+t+"\n                                </div>\n                            "))},timeout:3e4,error:function(t,a){$(".btn_modals").prop("disabled",!1),$("#msg-ajax-result").html('\n                                            <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                                Disculpe, existió un problema - '+t.status+" "+t.statusText+"\n                                            </div>\n                ")}})}editar(t){document.getElementById("formulario-solicitud").reset(),$("#modal-add").modal("show"),$("#modal-add h4").html("Modificar Solicitud"),$.ajax({url:"../backend/panel/creditos/solicitudes/ajax_ver.php",type:"GET",data:{consulta:"editar",id:t},success:function(a){var e=JSON.parse(a);$("#inputASES").removeClass("is-invalid"),$("#inputASES").addClass("is-valid"),$("#inputCLIENT").removeClass("is-invalid"),$("#inputCLIENT").addClass("is-valid"),$("#inputASES").val(e[0].usu_nombre+" "+e[0].usu_apellido_pat+" "+e[0].usu_apellido_mat),$("#inputASES-hidden").val(e[0].idusuario),$("#inputCLIENT").val(e[0].cli_nombre+" "+e[0].cli_apellido_pat+" "+e[0].cli_apellido_mat),$("#inputCLIENT-hidden").val(e[0].idcliente),null==e[0].idconyugue||""==e[0].idconyugue?$("#inputCONY").prop("checked",!1):($("#inputCONY").prop("checked",!0),$("#inputCONY_AJAX").val(e[0].con_nombre+" "+e[0].con_apellido_pat+" "+e[0].con_apellido_mat),$("#inputCONY_AJAX-hidden").val(e[0].idconyugue),$("#inputCONY_AJAX").removeAttr("readonly"),$("#inputCONY_AJAX").addClass("is-valid")),null==e[0].idaval||""==e[0].idaval?$("#inputAVAL").prop("checked",!1):($("#inputAVAL").prop("checked",!0),$("#inputAVAL_AJAX").val(e[0].ava_nombre+" "+e[0].ava_apellido_pat+" "+e[0].ava_apellido_mat),$("#inputAVAL_AJAX-hidden").val(e[0].idaval),$("#inputAVAL_AJAX").removeAttr("readonly"),$("#inputAVAL_AJAX").addClass("is-valid")),$("#sol_NEGOCIO").val(e[0].negocio),$("#sol_MONTO").val(e[0].monto_prop),$("#sol_MONTO_APRO").val(e[0].monto_aprob),$("#sol_CUOTAS").val(e[0].n_cuotas),$("#sol_CUOTAS_APRO").val(e[0].n_cuotas_aprob),$("#sol_INTERES").val(e[0].interes),$("#sol_INTERES_APRO").val(e[0].interes_aprob),$("#sol_FRECUENCIA").val(e[0].frecuencia),$("#sol_INICIO").val(e[0].fecha_inicio),$("#sol_cal_CUOTAS").val(e[0].m_cuotas),$("#sol_cal_CUOTAS_APRO").val(e[0].m_cuotas_aprob),$("#sol_cal_INTERES").val(e[0].m_interes),$("#sol_cal_INTERES_APRO").val(e[0].m_interes_aprob),$("#sol_cal_TOTAL").val(e[0].m_total),$("#sol_cal_TOTAL_APRO").val(e[0].m_total_aprob),"REGISTRADO"==e[0].estado&&$(".modal-btn-cont").html(`\n                        <button type="button" class="btn btn-primary btn_modals" onclick="credito.preAprobar(${t},1);" style="width:220px"><i class="fas fa-lg fa-check"></i> Pre-aprobar Crédito</button>\n                        <button type="button" class="btn btn-danger btn_modals" style="width:140px;" onClick='credito.eliminarSolicitud(${e[0].idsolicitud});'><i class="fas fa-trash-alt"></i> Eliminar</button>\n                    `),"REGISTRADO"==e[0].estado||"PREAPROBADO"==e[0].estado?(solicitud_monto=e[0].monto_prop,solicitud_cuotas=e[0].n_cuotas,solicitud_frecuencia=e[0].frecuencia,solicitud_interes=e[0].interes,solicitud_inicio=e[0].fecha_inicio,solicitud_calendario()):(solicitud_monto=e[0].monto_aprob,solicitud_cuotas=e[0].n_cuotas_aprob,solicitud_frecuencia=e[0].frecuencia,solicitud_interes=e[0].interes_aprob,solicitud_inicio=e[0].fecha_inicio,solicitud_calendario_adm())}})}editarAprobacion(t){document.getElementById("formulario-aprobacion").reset(),$("#modal-add").modal("show"),$("#modal-add h4").html("Aprobar/Desaprobar solicitud de Crédito"),$.ajax({url:"../backend/panel/creditos/aprobaciones/ajax_ver.php",type:"GET",data:{consulta:"editar",id:t},success:function(a){var e=JSON.parse(a);$("#inputADMIN").removeClass("is-invalid"),$("#inputADMIN").addClass("is-valid"),$("#inputASES").removeClass("is-invalid"),$("#inputASES").addClass("is-valid"),$("#inputCLIENT").removeClass("is-invalid"),$("#inputCLIENT").addClass("is-valid"),$("#inputASES").val(e[0].usu_ases_nombre+" "+e[0].usu_ases_apellido_pat+" "+e[0].usu_ases_apellido_mat),$("#inputASES-hidden").val(e[0].idases),$("#inputCLIENT").val(e[0].cli_nombre+" "+e[0].cli_apellido_pat+" "+e[0].cli_apellido_mat),$("#inputCLIENT-hidden").val(e[0].idcliente),null==e[0].idconyugue||""==e[0].idconyugue?$("#inputCONY").prop("checked",!1):($("#inputCONY").prop("checked",!0),$("#inputCONY_AJAX").val(e[0].con_nombre+" "+e[0].con_apellido_pat+" "+e[0].con_apellido_mat),$("#inputCONY_AJAX-hidden").val(e[0].idconyugue),$("#inputCONY_AJAX").attr("readonly","readonly"),$("#inputCONY_AJAX").addClass("is-valid")),null==e[0].idaval||""==e[0].idaval?$("#inputAVAL").prop("checked",!1):($("#inputAVAL").prop("checked",!0),$("#inputAVAL_AJAX").val(e[0].ava_nombre+" "+e[0].ava_apellido_pat+" "+e[0].ava_apellido_mat),$("#inputAVAL_AJAX-hidden").val(e[0].idaval),$("#inputAVAL_AJAX").attr("readonly","readonly"),$("#inputAVAL_AJAX").addClass("is-valid")),$("#sol_NEGOCIO").val(e[0].negocio),$("#sol_MONTO").val(e[0].monto_prop),$("#sol_MONTO_APRO").val(e[0].monto_aprob),$("#sol_CUOTAS").val(e[0].n_cuotas),$("#sol_CUOTAS_APRO").val(e[0].n_cuotas_aprob),$("#sol_INTERES").val(e[0].interes),$("#sol_INTERES_APRO").val(e[0].interes_aprob),$("#sol_FRECUENCIA").val(e[0].frecuencia),$("#sol_INICIO").val(e[0].fecha_inicio),$("#sol_cal_CUOTAS").val(e[0].m_cuotas),$("#sol_cal_CUOTAS_APRO").val(e[0].m_cuotas_aprob),$("#sol_cal_INTERES").val(e[0].m_interes),$("#sol_cal_INTERES_APRO").val(e[0].m_interes_aprob),$("#sol_cal_TOTAL").val(e[0].m_total),$("#sol_cal_TOTAL_APRO").val(e[0].m_total_aprob),solicitud_monto=e[0].monto_prop,solicitud_cuotas=e[0].n_cuotas,solicitud_frecuencia=e[0].frecuencia,solicitud_interes=e[0].interes,solicitud_inicio=e[0].fecha_inicio,solicitud_calendario(),"PREAPROBADO"==e[0].estado&&$(".modal-btn-cont").html(`\n                        <button type="button" class="btn btn-primary btn_modals" onclick="credito.aprobar(${t},1);" style="width:180px"><i class="fas fa-lg fa-check-double"></i> Aprobar Crédito</button>\n                        <button type="button" class="btn btn-danger btn_modals" onclick="credito.aprobar(${t},0);" style="width:200px"><i class="fas fa-lg fa-window-close"></i> Desaprobar Crédito</button>\n                    `)}})}editarDesembolso(t){document.getElementById("formulario-desembolso").reset(),$("#modal-add").modal("show"),$("#modal-add h4").html("Desembolsar Crédito"),$.ajax({url:"../backend/panel/creditos/desembolsos/ajax_ver.php",type:"GET",data:{consulta:"editar",id:t},success:function(a){var e=JSON.parse(a);$("#inputADMIN").removeClass("is-invalid"),$("#inputADMIN").addClass("is-valid"),$("#inputASES").removeClass("is-invalid"),$("#inputASES").addClass("is-valid"),$("#inputCLIENT").removeClass("is-invalid"),$("#inputCLIENT").addClass("is-valid"),$("#inputADMIN").val(e[0].usu_adm_nombre+" "+e[0].usu_adm_apellido_pat+" "+e[0].usu_adm_apellido_mat),$("#inputAADMIN-hidden").val(e[0].idadm),$("#inputASES").val(e[0].usu_ases_nombre+" "+e[0].usu_ases_apellido_pat+" "+e[0].usu_ases_apellido_mat),$("#inputASES-hidden").val(e[0].idases),$("#inputCLIENT").val(e[0].cli_nombre+" "+e[0].cli_apellido_pat+" "+e[0].cli_apellido_mat),$("#inputCLIENT-hidden").val(e[0].idcliente),null==e[0].idconyugue||""==e[0].idconyugue?$("#inputCONY").prop("checked",!1):($("#inputCONY").prop("checked",!0),$("#inputCONY_AJAX").val(e[0].con_nombre+" "+e[0].con_apellido_pat+" "+e[0].con_apellido_mat),$("#inputCONY_AJAX-hidden").val(e[0].idconyugue),$("#inputCONY_AJAX").attr("readonly","readonly"),$("#inputCONY_AJAX").addClass("is-valid")),null==e[0].idaval||""==e[0].idaval?$("#inputAVAL").prop("checked",!1):($("#inputAVAL").prop("checked",!0),$("#inputAVAL_AJAX").val(e[0].ava_nombre+" "+e[0].ava_apellido_pat+" "+e[0].ava_apellido_mat),$("#inputAVAL_AJAX-hidden").val(e[0].idaval),$("#inputAVAL_AJAX").attr("readonly","readonly"),$("#inputAVAL_AJAX").addClass("is-valid")),$("#sol_MONTO").val(e[0].monto_aprob),$("#sol_CUOTAS").val(e[0].n_cuotas_aprob),$("#sol_INTERES").val(e[0].interes_aprob),$("#sol_FRECUENCIA").val(e[0].frecuencia),$("#sol_INICIO").val(e[0].fecha_inicio),$("#sol_cal_CUOTAS").val(e[0].m_cuotas_aprob),$("#sol_cal_INTERES").val(e[0].m_interes_aprob),$("#sol_cal_TOTAL").val(e[0].m_total_aprob),solicitud_monto=e[0].monto_aprob,solicitud_cuotas=e[0].n_cuotas_aprob,solicitud_frecuencia=e[0].frecuencia,solicitud_interes=e[0].interes_aprob,solicitud_inicio=e[0].fecha_inicio,solicitud_calendario(),"APROBADO"==e[0].estado&&$(".modal-btn-cont").html(`\n                        <button type="submit" class="btn btn-success btn_modals" style="width:200px"><i class="fas fa-lg fa-coins"></i> Desembolsar</button>\n                        <button type="button" class="btn btn-danger btn_modals" onclick="credito.desembolsar(${t},0);" style="width:220px"><i class="fas fa-lg fa-times-circle"></i> Remover desembolso</button>\n                    `)}})}editarExtorno(t){document.getElementById("formulario-desembolso").reset(),$("#modal-add").modal("show"),$("#modal-add h4").html("Extornar Desembolso"),$.ajax({url:"../backend/panel/creditos/desembolsos/ajax_ver.php",type:"GET",data:{consulta:"editar",id:t},success:function(t){var a=JSON.parse(t);$("#inputADMIN").removeClass("is-invalid"),$("#inputADMIN").addClass("is-valid"),$("#inputASES").removeClass("is-invalid"),$("#inputASES").addClass("is-valid"),$("#inputCLIENT").removeClass("is-invalid"),$("#inputCLIENT").addClass("is-valid"),$("#inputADMIN").val(a[0].usu_adm_nombre+" "+a[0].usu_adm_apellido_pat+" "+a[0].usu_adm_apellido_mat),$("#inputAADMIN-hidden").val(a[0].idadm),$("#inputASES").val(a[0].usu_ases_nombre+" "+a[0].usu_ases_apellido_pat+" "+a[0].usu_ases_apellido_mat),$("#inputASES-hidden").val(a[0].idases),$("#inputCLIENT").val(a[0].cli_nombre+" "+a[0].cli_apellido_pat+" "+a[0].cli_apellido_mat),$("#inputCLIENT-hidden").val(a[0].idcliente),null==a[0].idconyugue||""==a[0].idconyugue?$("#inputCONY").prop("checked",!1):($("#inputCONY").prop("checked",!0),$("#inputCONY_AJAX").val(a[0].con_nombre+" "+a[0].con_apellido_pat+" "+a[0].con_apellido_mat),$("#inputCONY_AJAX-hidden").val(a[0].idconyugue),$("#inputCONY_AJAX").attr("readonly","readonly"),$("#inputCONY_AJAX").addClass("is-valid")),null==a[0].idaval||""==a[0].idaval?$("#inputAVAL").prop("checked",!1):($("#inputAVAL").prop("checked",!0),$("#inputAVAL_AJAX").val(a[0].ava_nombre+" "+a[0].ava_apellido_pat+" "+a[0].ava_apellido_mat),$("#inputAVAL_AJAX-hidden").val(a[0].idaval),$("#inputAVAL_AJAX").attr("readonly","readonly"),$("#inputAVAL_AJAX").addClass("is-valid")),$("#sol_MONTO").val(a[0].monto_aprob),$("#sol_CUOTAS").val(a[0].n_cuotas_aprob),$("#sol_INTERES").val(a[0].interes_aprob),$("#sol_FRECUENCIA").val(a[0].frecuencia),$("#sol_INICIO").val(a[0].fecha_inicio),$("#sol_cal_CUOTAS").val(a[0].m_cuotas_aprob),$("#sol_cal_INTERES").val(a[0].m_interes_aprob),$("#sol_cal_TOTAL").val(a[0].m_total_aprob),solicitud_monto=a[0].monto_aprob,solicitud_cuotas=a[0].n_cuotas_aprob,solicitud_frecuencia=a[0].frecuencia,solicitud_interes=a[0].interes_aprob,solicitud_inicio=a[0].fecha_inicio,solicitud_calendario(),"DESEMBOLSADO"==a[0].estado&&$(".modal-btn-cont").html(`\n                        <button style="width:140px;" type="button" class="btn btn-danger btn_modals" onclick='credito.extornar(${a[0].iddesembolso});'><i class="fas fa-lg fa-history"></i> Extornar</button>\n                    `)}})}editarCobranza(t,a){$("#modal-add").modal("show"),$("#modal-add h4").html("Modulo de Cobranza"),$.ajax({url:"../backend/panel/creditos/cobranza/ajax_ver.php",type:"GET",data:{consulta:"editar",idcredito:t},beforeSend:function(){$("#load_data_modal").html(""),$("#load_table_modal1").html('\n                    <div style="">\n                        <br>\n                        <div class="spinner-border text-info" role="status" style="position:relative;left:50%;float:left;">\n                            <span class="sr-only">Loading...</span>\n                        </div><br>\n                        <span style="position:relative;left:50%;float:left;transform:translateX(-67%);margin-top:15px;">Loading...</span>\n                    </div>\n                ')},success:function(t){var a,e=JSON.parse(t);$("#pago_n_cuota").html(""),$("#load_data_modal").html(""),e.forEach(t=>{a+=`\n                                    <tr>\n                                        <th scope="row">${t.n_cuota_programada}</th>\n                                        <td>${t.fecha_programada}</td>\n                                        <td>S/.${t.cuota_programada}</td>\n                                    `,null==t.mora||""==t.mora?a+="<td></td>":a+=`<td>S/.${t.mora}</td>`,a+=`<td class="font-weight-bold font-italic">S/.${t.deuda}</td>`,null==t.monto||""==t.monto?a+="\n                                        <td></td>\n                                        <td></td>\n                                        ":a+=`\n                                        <td class="font-weight-bold font-italic">S/.${Math.ceil10(t.monto,-1)}</td>\n                                        <td>${t.fecha}</td>\n                                        `}),$("#load_table_modal1").html(""),$("#load_data_modal").html(a)}}),$.ajax({url:"../backend/panel/creditos/cobranza/ajax_deuda.php",type:"GET",data:{consulta:"editar",idcredito:t},success:function(t){var a=JSON.parse(t);$("#pago_deuda").val(a[0].deuda_credito),$("#pago_pagado").val(a[0].pagado),$("#pago_mora").val(a[0].deuda_moras),$("#pago_d_total").val(a[0].deuda_total)}})}editarCondonacion(t,a){$("#modal-condonar").modal("show"),$("#modal-condonar h4").html("Modulo de Condonaciones"),$.ajax({url:"../backend/panel/creditos/cobranza/ajax_ver.php",type:"GET",data:{consulta:"editar",idcredito:t},beforeSend:function(){$("#load_data_modal-c").html(""),$("#load_table_modal1-c").html('\n                    <div style="">\n                        <br>\n                        <div class="spinner-border text-info" role="status" style="position:relative;left:50%;float:left;">\n                            <span class="sr-only">Loading...</span>\n                        </div><br>\n                        <span style="position:relative;left:50%;float:left;transform:translateX(-67%);margin-top:15px;">Loading...</span>\n                    </div>\n                ')},success:function(t){var a,e=JSON.parse(t);$("#pago_n_cuota-c").html(""),$("#load_data_modal-c").html(""),e.forEach(t=>{a+=`\n                                    <tr>\n                                        <th scope="row">${t.n_cuota_programada}</th>\n                                        <td>${t.fecha_programada}</td>\n                                        <td>S/.${t.cuota_programada}</td>\n                                    `,null==t.mora||""==t.mora?a+="<td></td>":a+=`<td>S/.${t.mora}</td>`,a+=`<td class="font-weight-bold font-italic">S/.${t.deuda}</td>`,null==t.monto||""==t.monto?a+="\n                                        <td></td>\n                                        <td></td>\n                                        ":a+=`\n                                        <td class="font-weight-bold font-italic">S/.${t.monto}</td>\n                                        <td>${t.fecha}</td>\n                                        `}),$("#load_table_modal1-c").html(""),$("#load_data_modal-c").html(a)}}),$.ajax({url:"../backend/panel/creditos/cobranza/ajax_deuda.php",type:"GET",data:{consulta:"editar",idcredito:t},success:function(t){var a=JSON.parse(t);$("#pago_deuda-c").val(a[0].deuda_credito),$("#pago_pagado-c").val(a[0].pagado),$("#pago_mora-c").val(a[0].deuda_moras),$("#pago_d_total-c").val(a[0].deuda_total),$("#pago_monto-c").val(a[0].deuda_total)}})}editarSaveSolicitud(t){this.formulario.append("id",t),$.ajax({url:"../backend/panel/creditos/solicitudes/ajax_editar.php",type:"POST",data:this.formulario,contentType:!1,cache:!1,processData:!1,beforeSend:function(){$(".btn_modals").prop("disabled",!0),$("#msg-ajax-result").html('\n                    <div style="">\n                        <div class="spinner-border text-info" role="status" style="position:relative;left:50%;float:left;">\n                            <span class="sr-only">Loading...</span>\n                        </div>\n                    </div>\n                ')},success:function(t){200==t?($("#msg-ajax-result").html('\n                            <div class="alert alert-success" role="alert"  style="margin-bottom: 10px;">\n                                Actualización Correcta!\n                            </div>\n                        '),setTimeout(()=>{credito.listarSolicitudes(),$("#modal-add").modal("hide"),$(".btn_modals").prop("disabled",!1),credito.idEdit=0,setTimeout(()=>{$("#msg-ajax-result").html("")},700)},600)):($(".btn_modals").prop("disabled",!1),301==t?$("#msg-ajax-result").html('\n                                <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                    Se produjo un error al subir el archivo al servidor!\n                                </div>\n                            '):302==t?$("#msg-ajax-result").html('\n                                    <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                        Se produjo un error con la base de datos!\n                                    </div>\n                                '):$("#msg-ajax-result").html('\n                                    <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                        '+t+"\n                                    </div>\n                                "))},timeout:3e4,error:function(t,a){$(".btn_modals").prop("disabled",!1),$("#msg-ajax-result").html('\n                                <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                    Disculpe, existió un problema - '+t.status+" "+t.statusText+"\n                                </div>\n                    ")}})}editarSaveAprobacion(t){this.formulario.append("id",t),$.ajax({url:"../backend/panel/creditos/aprobaciones/ajax_editar.php",type:"POST",data:this.formulario,contentType:!1,cache:!1,processData:!1,beforeSend:function(){$(".btn_modals").prop("disabled",!0),$("#msg-ajax-result").html('\n                    <div style="">\n                        <div class="spinner-border text-info" role="status" style="position:relative;left:50%;float:left;">\n                            <span class="sr-only">Loading...</span>\n                        </div>\n                    </div>\n                ')},success:function(t){200==t?($("#msg-ajax-result").html('\n                            <div class="alert alert-success" role="alert"  style="margin-bottom: 10px;">\n                                Actualización Correcta!\n                            </div>\n                        '),setTimeout(()=>{credito.listarAprobaciones(),$("#modal-add").modal("hide"),$(".btn_modals").prop("disabled",!1),credito.idEdit=0,setTimeout(()=>{$("#msg-ajax-result").html("")},700)},600)):($(".btn_modals").prop("disabled",!1),301==t?$("#msg-ajax-result").html('\n                                <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                    Se produjo un error al subir el archivo al servidor!\n                                </div>\n                            '):302==t?$("#msg-ajax-result").html('\n                                    <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                        Se produjo un error con la base de datos!\n                                    </div>\n                                '):$("#msg-ajax-result").html('\n                                    <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                        '+t+"\n                                    </div>\n                                "))},timeout:3e4,error:function(t,a){$(".btn_modals").prop("disabled",!1),$("#msg-ajax-result").html('\n                                <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                    Disculpe, existió un problema - '+t.status+" "+t.statusText+"\n                                </div>\n                    ")}})}preAprobar(t,a){$.ajax({url:"../backend/panel/creditos/solicitudes/ajax_preaprobar.php",type:"POST",data:{id:t,operacion:a,inputASES_hidden:$("#inputASES-hidden").val(),inputCLIENT_hidden:$("#inputCLIENT-hidden").val(),inputCONY_AJAX_hidden:$("#inputCONY_AJAX-hidden").val(),inputAVAL_AJAX_hidden:$("#inputAVAL_AJAX-hidden").val(),sol_MONTO:$("#sol_MONTO").val(),sol_CUOTAS:$("#sol_CUOTAS").val(),sol_INTERES:$("#sol_INTERES").val(),sol_FRECUENCIA:$("#sol_FRECUENCIA").val(),sol_INICIO:$("#sol_INICIO").val(),sol_NEGOCIO:$("#sol_NEGOCIO").val(),sol_cal_CUOTAS:$("#sol_cal_CUOTAS").val(),sol_cal_INTERES:$("#sol_cal_INTERES").val(),sol_cal_TOTAL:$("#sol_cal_TOTAL").val()},beforeSend:function(){$(".btn_modals").prop("disabled",!0),$("#msg-ajax-result").html('\n                    <div style="">\n                        <div class="spinner-border text-info" role="status" style="position:relative;left:50%;float:left;">\n                            <span class="sr-only">Loading...</span>\n                        </div>\n                    </div>\n                ')},success:function(t){200==t?($("#msg-ajax-result").html('\n                            <div class="alert alert-success" role="alert"  style="margin-bottom: 10px;">\n                                Se completo la operación!\n                            </div>\n                        '),setTimeout(()=>{credito.listarSolicitudes(),$("#modal-add").modal("hide"),$(".btn_modals").prop("disabled",!1),credito.idEdit=0,setTimeout(()=>{$("#msg-ajax-result").html("")},700)},700)):$("#msg-ajax-result").html('\n                                    <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                        '+t+"\n                                    </div>\n                        ")},timeout:3e4,error:function(t,a){$(".btn_modals").prop("disabled",!1),$("#msg-ajax-result").html('\n                                <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                    Disculpe, existió un problema - '+t.status+" "+t.statusText+"\n                                </div>\n                    ")}})}aprobar(t,a){a?""==$("#sol_MONTO_APRO").val()||""==$("#sol_CUOTAS_APRO").val()||""==$("#sol_INTERES_APRO").val()?$("#msg-ajax-result").html('\n                            <div class="alert alert-warning" role="alert"  style="margin-bottom: 10px;">\n                                Completa los campos requeridos!\n                            </div>\n                '):$.ajax({url:"../backend/panel/creditos/aprobaciones/ajax_aprobar.php",type:"POST",data:{id:t,operacion:a,idadm:$("#inputADMIN-hidden").val(),monto_aprob:$("#sol_MONTO_APRO").val(),n_cuotas_aprob:$("#sol_CUOTAS_APRO").val(),interes_aprob:$("#sol_INTERES_APRO").val(),total_cuotas_aprob:$("#sol_cal_CUOTAS_APRO").val(),total_interes_aprob:$("#sol_cal_INTERES_APRO").val(),total_total_aprob:$("#sol_cal_TOTAL_APRO").val()},beforeSend:function(){$(".btn_modals").prop("disabled",!0),$("#msg-ajax-result").html('\n                            <div style="">\n                                <div class="spinner-border text-info" role="status" style="position:relative;left:50%;float:left;">\n                                    <span class="sr-only">Loading...</span>\n                                </div>\n                            </div>\n                        ')},success:function(t){200==t?($("#msg-ajax-result").html('\n                                    <div class="alert alert-success" role="alert"  style="margin-bottom: 10px;">\n                                        Se completo la operación!\n                                    </div>\n                                '),setTimeout(()=>{credito.listarAprobaciones(),$("#modal-add").modal("hide"),$(".btn_modals").prop("disabled",!1),credito.idEdit=0,setTimeout(()=>{$("#msg-ajax-result").html("")},700)},700)):$("#msg-ajax-result").html('\n                                            <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                                '+t+"\n                                            </div>\n                                ")},timeout:3e4,error:function(t,a){$(".btn_modals").prop("disabled",!1),$("#msg-ajax-result").html('\n                                        <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                            Disculpe, existió un problema - '+t.status+" "+t.statusText+"\n                                        </div>\n                            ")}}):$.ajax({url:"../backend/panel/creditos/aprobaciones/ajax_aprobar.php",type:"POST",data:{id:t,operacion:a,idadm:$("#inputADMIN-hidden").val(),monto_aprob:$("#sol_MONTO_APRO").val(),n_cuotas_aprob:$("#sol_CUOTAS_APRO").val(),interes_aprob:$("#sol_INTERES_APRO").val(),total_cuotas_aprob:$("#sol_cal_CUOTAS_APRO").val(),total_interes_aprob:$("#sol_cal_INTERES_APRO").val(),total_total_aprob:$("#sol_cal_TOTAL_APRO").val()},beforeSend:function(){$(".btn_modals").prop("disabled",!0),$("#msg-ajax-result").html('\n                        <div style="">\n                            <div class="spinner-border text-info" role="status" style="position:relative;left:50%;float:left;">\n                                <span class="sr-only">Loading...</span>\n                            </div>\n                        </div>\n                    ')},success:function(t){200==t?($("#msg-ajax-result").html('\n                                <div class="alert alert-success" role="alert"  style="margin-bottom: 10px;">\n                                    Se completo la operación!\n                                </div>\n                            '),setTimeout(()=>{credito.listarAprobaciones(),$("#modal-add").modal("hide"),$(".btn_modals").prop("disabled",!1),credito.idEdit=0,setTimeout(()=>{$("#msg-ajax-result").html("")},700)},700)):$("#msg-ajax-result").html('\n                                        <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                            '+t+"\n                                        </div>\n                            ")},timeout:3e4,error:function(t,a){$(".btn_modals").prop("disabled",!1),$("#msg-ajax-result").html('\n                                    <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                        Disculpe, existió un problema - '+t.status+" "+t.statusText+"\n                                    </div>\n                        ")}})}desembolsar(t,a){$.ajax({url:"../backend/panel/creditos/desembolsos/ajax_desembolso.php",type:"POST",data:{id:t,operacion:a,idcaja:$("#inputCAJA-hidden").val(),movimiento_caja:$("#movimiento_caja").val(),sol_MONTO:$("#sol_MONTO").val(),idcliente:$("#inputCLIENT-hidden").val()},beforeSend:function(){$(".btn_modals").prop("disabled",!0),$("#msg-ajax-result").html('\n                    <div style="">\n                        <div class="spinner-border text-info" role="status" style="position:relative;left:50%;float:left;">\n                            <span class="sr-only">Loading...</span>\n                        </div>\n                    </div>\n                ')},success:function(e){200==e?(a?solicitud_calendario_pagos(t):setTimeout(()=>{$("#modal-add").modal("hide"),$(".btn_modals").prop("disabled",!1),$("#msg-ajax-result").html("")},1e3),$("#msg-ajax-result").html('\n                            <div class="alert alert-success" role="alert"  style="margin-bottom: 10px;">\n                                Se completo la operación!\n                            </div>\n                        '),credito.listarDesembolsos(),credito.idEdit=0):"600"==e?($("#msg-ajax-result").html('\n                                <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                    No hay fondos suficientes en la Caja!.\n                                </div>\n                            '),setTimeout(()=>{$(".btn_modals").prop("disabled",!1)},1e3)):$("#msg-ajax-result").html('\n                                <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                    '+e+"\n                                </div>\n                            ")},timeout:3e4,error:function(t,a){$(".btn_modals").prop("disabled",!1),$("#msg-ajax-result").html('\n                                <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                    Disculpe, existió un problema - '+t.status+" "+t.statusText+"\n                                </div>\n                    ")}})}cobranza(t){this.formulario.append("id",t),$.ajax({url:"../backend/panel/creditos/cobranza/ajax_cobranza.php",type:"POST",data:this.formulario,contentType:!1,cache:!1,processData:!1,beforeSend:function(){$(".btn_modals").prop("disabled",!0),$("#msg-ajax-result").html('\n                    <div style="">\n                        <div class="spinner-border text-info" role="status" style="position:relative;left:50%;float:left;">\n                            <span class="sr-only">Loading...</span>\n                        </div>\n                    </div>\n                ')},success:function(a){200==a?($("#msg-ajax-result").html('\n                            <div class="alert alert-success" role="alert"  style="margin-bottom: 10px;">\n                                Se registro el pago correctamente!\n                            </div>\n                        '),credito.terminarCredito(t,$("#inputCLIENT-hidden").val()),setTimeout(()=>{$("#modal-add").modal("hide"),$(".btn_modals").prop("disabled",!1),credito.idEdit=0,setTimeout(()=>{$("#msg-ajax-result").html("")},700)},600)):($(".btn_modals").prop("disabled",!1),301==a?$("#msg-ajax-result").html('\n                                <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                    Se produjo un error al subir el archivo al servidor!\n                                </div>\n                            '):302==a?$("#msg-ajax-result").html('\n                                    <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                        Se produjo un error con la base de datos!\n                                    </div>\n                                '):$("#msg-ajax-result").html('\n                                    <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                        '+a+"\n                                    </div>\n                                "))},timeout:3e4,error:function(t,a){$(".btn_modals").prop("disabled",!1),$("#msg-ajax-result").html('\n                                <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                    Disculpe, existió un problema - '+t.status+" "+t.statusText+"\n                                </div>\n                    ")}})}condonar(t){this.formulario.append("id",t),$.ajax({url:"../backend/panel/creditos/cobranza/ajax_condonar.php",type:"POST",data:this.formulario,contentType:!1,cache:!1,processData:!1,beforeSend:function(){$(".btn_modals").prop("disabled",!0),$("#msg-ajax-result-c").html('\n                    <div style="">\n                        <div class="spinner-border text-info" role="status" style="position:relative;left:50%;float:left;">\n                            <span class="sr-only">Loading...</span>\n                        </div>\n                    </div>\n                ')},success:function(t){200==t?($("#msg-ajax-result-c").html('\n                            <div class="alert alert-success" role="alert"  style="margin-bottom: 10px;">\n                                Se hizo la condonación de deuda correctamente!\n                            </div>\n                        '),setTimeout(()=>{credito.buscar_cliente_cobranza_refresh($("#inputCLIENT-hidden-c").val()),$("#modal-condonar").modal("hide"),$(".btn_modals").prop("disabled",!1),credito.idEdit=0,setTimeout(()=>{$("#msg-ajax-result-c").html("")},700)},600)):($(".btn_modals").prop("disabled",!1),301==t?$("#msg-ajax-result-c").html('\n                                <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                    Se produjo un error al subir el archivo al servidor!\n                                </div>\n                            '):302==t?$("#msg-ajax-result-c").html('\n                                    <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                        Se produjo un error con la base de datos!\n                                    </div>\n                                '):$("#msg-ajax-result-c").html('\n                                    <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                        '+t+"\n                                    </div>\n                                "))},timeout:3e4,error:function(t,a){$(".btn_modals").prop("disabled",!1),$("#msg-ajax-result-c").html('\n                                <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                    Disculpe, existió un problema - '+t.status+" "+t.statusText+"\n                                </div>\n                    ")}})}extornar(t){null==$("#movimiento_caja").val()||""==$("#movimiento_caja").val()?$("#msg-ajax-result").html('   \n                <div class="alert alert-warning" role="alert"  style="margin-bottom: 10px;">\n                    Seleccione una Caja para realizar el Extorno del Desembolso.\n                </div>     \n            '):$.ajax({url:"../backend/panel/creditos/desembolsos/ajax_extornar.php",type:"POST",data:{id:t,movimiento_caja:$("#movimiento_caja").val(),sol_MONTO:$("#sol_MONTO").val()},beforeSend:function(){$(".btn_modals").prop("disabled",!0),$("#msg-ajax-result").html('\n                        <div style="">\n                            <div class="spinner-border text-info" role="status" style="position:relative;left:50%;float:left;">\n                                <span class="sr-only">Loading...</span>\n                            </div>\n                        </div>\n                    ')},success:function(t){200==t?($("#msg-ajax-result").html('\n                                <div class="alert alert-success" role="alert"  style="margin-bottom: 10px;">\n                                    Se completo la operación!\n                                </div>\n                            '),setTimeout(()=>{$("#modal-add").modal("hide"),$(".btn_modals").prop("disabled",!1),$("#msg-ajax-result").html("")},1e3),credito.listarDesembolsos(),credito.idEdit=0):"600"==t?($("#msg-ajax-result").html('\n                                    <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                        No hay una Caja activa!.\n                                    </div>\n                                '),setTimeout(()=>{$(".btn_modals").prop("disabled",!1)},1e3)):$("#msg-ajax-result").html('\n                                    <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                        '+t+"\n                                    </div>\n                                ")},timeout:3e4,error:function(t,a){$(".btn_modals").prop("disabled",!1),$("#msg-ajax-result").html('\n                                <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                    Disculpe, existió un problema - '+t.status+" "+t.statusText+"\n                                </div>\n                    ")}})}terminarCredito(t,a){$.ajax({url:"../backend/panel/creditos/cobranza/ajax_terminar_credito.php",type:"POST",data:{id:t},success:function(t){console.log(t),credito.buscar_cliente_cobranza_refresh(a)},timeout:3e4,error:function(t,a){}})}verDetalles(t){document.getElementById("formulario-solicitud-view").reset(),$("#modal-add-view").modal("show"),$("#modal-add-view h4").html("Detalles de la Solicitud"),$.ajax({url:"../backend/panel/creditos/solicitudes/ajax_ver_des.php",type:"GET",data:{consulta:"editar",id:t},success:function(t){var a=JSON.parse(t);$("#inputASES-w").removeClass("is-invalid"),$("#inputASES-w").addClass("is-valid"),$("#inputCLIENT-w").removeClass("is-invalid"),$("#inputCLIENT-w").addClass("is-valid"),$("#inputASES-w").val(a[0].usu_nombre+" "+a[0].usu_apellido_pat+" "+a[0].usu_apellido_mat),$("#inputASES-hidden-w").val(a[0].idusuario),$("#inputCLIENT-w").val(a[0].cli_nombre+" "+a[0].cli_apellido_pat+" "+a[0].cli_apellido_mat),$("#inputCLIENT-hidden-w").val(a[0].idcliente),null==a[0].idconyugue||""==a[0].idconyugue?$("#inputCONY-w").prop("checked",!1):($("#inputCONY-w").prop("checked",!0),$("#inputCONY_AJAX-w").val(a[0].con_nombre+" "+a[0].con_apellido_pat+" "+a[0].con_apellido_mat),$("#inputCONY_AJAX-hidden-w").val(a[0].idconyugue),$("#inputCONY_AJAX-w").addClass("is-valid")),null==a[0].idaval||""==a[0].idaval?$("#inputAVAL-w").prop("checked",!1):($("#inputAVAL-w").prop("checked",!0),$("#inputAVAL_AJAX-w").val(a[0].ava_nombre+" "+a[0].ava_apellido_pat+" "+a[0].ava_apellido_mat),$("#inputAVAL_AJAX-hidden-w").val(a[0].idaval),$("#inputAVAL_AJAX-w").addClass("is-valid")),$("#sol_NEGOCIO-w").val(a[0].negocio),$("#sol_PREAPROB-w").val(a[0].fecha_preaprob),$("#sol_MONTO-w").val(a[0].monto_prop),$("#sol_MONTO_APRO-w").val(a[0].monto_aprob),$("#sol_CUOTAS-w").val(a[0].n_cuotas),$("#sol_CUOTAS_APRO-w").val(a[0].n_cuotas_aprob),$("#sol_INTERES-w").val(a[0].interes),$("#sol_INTERES_APRO-w").val(a[0].interes_aprob),$("#sol_FRECUENCIA-w").val(a[0].frecuencia),$("#sol_INICIO-w").val(a[0].fecha_inicio),$("#sol_cal_CUOTAS-w").val(a[0].m_cuotas),$("#sol_cal_CUOTAS_APRO-w").val(a[0].m_cuotas_aprob),$("#sol_cal_INTERES-w").val(a[0].m_interes),$("#sol_cal_INTERES_APRO-w").val(a[0].m_interes_aprob),$("#sol_cal_TOTAL-w").val(a[0].m_total),$("#sol_cal_TOTAL_APRO-w").val(a[0].m_total_aprob),"REGISTRADO"==a[0].estado||"PREAPROBADO"==a[0].estado?(solicitud_monto=a[0].monto_prop,solicitud_cuotas=a[0].n_cuotas,solicitud_frecuencia=a[0].frecuencia,solicitud_interes=a[0].interes,solicitud_inicio=a[0].fecha_inicio,solicitud_calendario()):(solicitud_monto=a[0].monto_aprob,solicitud_cuotas=a[0].n_cuotas_aprob,solicitud_frecuencia=a[0].frecuencia,solicitud_interes=a[0].interes_aprob,solicitud_inicio=a[0].fecha_inicio,solicitud_calendario_adm())}})}verDetallesADM(t){document.getElementById("formulario-aprobacion-view").reset(),$("#modal-add-view").modal("show"),$("#modal-add-view h4").html("Detalles de la Aprobación"),$.ajax({url:"../backend/panel/creditos/aprobaciones/ajax_ver.php",type:"GET",data:{consulta:"editar",id:t},success:function(t){var a=JSON.parse(t);$("#inputADMIN-w").removeClass("is-invalid"),$("#inputADMIN-w").addClass("is-valid"),$("#inputASES-w").removeClass("is-invalid"),$("#inputASES-w").addClass("is-valid"),$("#inputCLIENT-w").removeClass("is-invalid"),$("#inputCLIENT-w").addClass("is-valid"),$("#inputADMIN-w").val(a[0].usu_adm_nombre+" "+a[0].usu_adm_apellido_pat+" "+a[0].usu_adm_apellido_mat),$("#inputAADMIN-hidden-w").val(a[0].idadm),$("#inputASES-w").val(a[0].usu_ases_nombre+" "+a[0].usu_ases_apellido_pat+" "+a[0].usu_ases_apellido_mat),$("#inputASES-hidden-w").val(a[0].idases),$("#inputCLIENT-w").val(a[0].cli_nombre+" "+a[0].cli_apellido_pat+" "+a[0].cli_apellido_mat),$("#inputCLIENT-hidden-w").val(a[0].idcliente),null==a[0].idconyugue||""==a[0].idconyugue?$("#inputCONY-w").prop("checked",!1):($("#inputCONY-w").prop("checked",!0),$("#inputCONY_AJAX-w").val(a[0].con_nombre+" "+a[0].con_apellido_pat+" "+a[0].con_apellido_mat),$("#inputCONY_AJAX-hidden-w").val(a[0].idconyugue),$("#inputCONY_AJAX-w").attr("readonly","readonly"),$("#inputCONY_AJAX-w").addClass("is-valid")),null==a[0].idaval||""==a[0].idaval?$("#inputAVAL-w").prop("checked",!1):($("#inputAVAL-w").prop("checked",!0),$("#inputAVAL_AJAX-w").val(a[0].ava_nombre+" "+a[0].ava_apellido_pat+" "+a[0].ava_apellido_mat),$("#inputAVAL_AJAX-hidden-w").val(a[0].idaval),$("#inputAVAL_AJAX-w").attr("readonly","readonly"),$("#inputAVAL_AJAX-w").addClass("is-valid")),$("#sol_MONTO-w").val(a[0].monto_prop),$("#sol_MONTO_APRO-w").val(a[0].monto_aprob),$("#sol_CUOTAS-w").val(a[0].n_cuotas),$("#sol_CUOTAS_APRO-w").val(a[0].n_cuotas_aprob),$("#sol_INTERES-w").val(a[0].interes),$("#sol_INTERES_APRO-w").val(a[0].interes_aprob),$("#sol_FRECUENCIA-w").val(a[0].frecuencia),$("#sol_INICIO-w").val(a[0].fecha_inicio),$("#sol_cal_CUOTAS-w").val(a[0].m_cuotas),$("#sol_cal_CUOTAS_APRO-w").val(a[0].m_cuotas_aprob),$("#sol_cal_INTERES-w").val(a[0].m_interes),$("#sol_cal_INTERES_APRO-w").val(a[0].m_interes_aprob),$("#sol_cal_TOTAL-w").val(a[0].m_total),$("#sol_cal_TOTAL_APRO-w").val(a[0].m_total_aprob),"REGISTRADO"==a[0].estado||"PREAPROBADO"==a[0].estado?(solicitud_monto=a[0].monto_prop,solicitud_cuotas=a[0].n_cuotas,solicitud_frecuencia=a[0].frecuencia,solicitud_interes=a[0].interes,solicitud_inicio=a[0].fecha_inicio,solicitud_calendario()):(solicitud_monto=a[0].monto_aprob,solicitud_cuotas=a[0].n_cuotas_aprob,solicitud_frecuencia=a[0].frecuencia,solicitud_interes=a[0].interes_aprob,solicitud_inicio=a[0].fecha_inicio,solicitud_calendario_adm())}})}voucher(t){$("#voucher-datos01").html(""),$("#modal-ticket").modal("show"),$.ajax({url:"../backend/panel/creditos/desembolsos/ajax_voucher.php",type:"GET",data:{consulta:"editar",id:t},success:function(t){var a=JSON.parse(t);$("#voucher-datos01").html(`\n                    <tr>\n                        <td>FECHA:</td>\n                        <td>:</td>\n                        <td>${a[0].fecha_desem}</td>\n                    </tr>\n                    <tr>\n                        <td>DIRECCION:</td>\n                        <td>:</td>\n                        <td>Jr. Parra del Riego 585</td>\n                    </tr>\n                    <tr>\n                        <td>CREDITO:</td>\n                        <td>:</td>\n                        <td>${a[0].monto_aprob}</td>\n                    </tr>\n                    <tr>\n                        <td>DNI:</td>\n                        <td>:</td>\n                        <td>${a[0].cli_dni}</td>\n                    </tr>\n                    <tr>\n                        <td>NOMBRES:</td>\n                        <td>:</td>\n                        <td>${a[0].cli_nombre}</td>\n                    </tr>\n                    <tr>\n                        <td>APELLIDOS:</td>\n                        <td>:</td>\n                        <td>${a[0].cli_apellido_pat+" "+a[0].cli_apellido_mat}</td>\n                    </tr>\n                    <tr>\n                        <td>MONTO:</td>\n                        <td>:</td>\n                        <td>S/. ${a[0].monto_aprob}</td>\n                    </tr>\n                    <tr>\n                        <td>N° CUOTAS:</td>\n                        <td>:</td>\n                        <td>${a[0].n_cuotas_aprob}</td>\n                    </tr>\n                    <tr>\n                        <td>ESTADO:</td>\n                        <td>:</td>\n                        <td>${a[0].estado}</td>\n                    </tr>\n                    <tr>\n                        <td>ASESOR:</td>\n                        <td>:</td>\n                        <td>${a[0].usu_ases_nombre+" "+a[0].usu_ases_apellido_pat+" "+a[0].usu_ases_apellido_mat}</td>\n                    </tr>\n                    <tr>\n                        <td>VENTANILLA:</td>\n                        <td>:</td>\n                        <td>${a[0].usu_caja_nombre+" "+a[0].usu_caja_apellido_pat+" "+a[0].usu_caja_apellido_mat}</td>\n                    </tr>\n                `),$("#voucher-datos02").html(`\n                    ${a[0].cli_nombre+" "+a[0].cli_apellido_pat+" "+a[0].cli_apellido_mat}\n                `)}})}voucherPago(t){$("#voucher-datos01").html(""),$("#voucher-datos02").html(""),$("#modal-ticket").modal("show"),$.ajax({url:"../backend/panel/creditos/cobranza/ajax_voucher.php",type:"GET",data:{idvoucher:t},success:function(t){var a,e=JSON.parse(t);a+=`\n                    <tr>\n                        <td>FECHA</td>\n                        <td>:</td>\n                        <td>${e[0].fecha_pagado}</td>\n                    </tr>\n                    <tr>\n                        <td>DIRECCION</td>\n                        <td>:</td>\n                        <td>Jr. Parra del Riego 585</td>\n                    </tr>\n                    \n                    <tr>\n                        <td>DNI</td>\n                        <td>:</td>\n                        <td>${e[0].cli_dni}</td>\n                    </tr>\n                    <tr>\n                        <td>NOMBRES</td>\n                        <td>:</td>\n                        <td>${e[0].cli_nombre}</td>\n                    </tr>\n                    <tr>\n                        <td>APELLIDOS</td>\n                        <td>:</td>\n                        <td>${e[0].cli_apellido_pat+" "+e[0].cli_apellido_mat}</td>\n                    </tr>\n\n                    <tr>\n                        <td>CREDITO</td>\n                        <td>:</td>\n                        <td>S/.${e[0].monto_aprob} <BR> (${e[0].n_cuotas_aprob}) cuotas ${e[0].frecuencia}</td>\n                    </tr>\n\n                    `,a+=`\n                    <tr>\n                        <td>MONTO PAGADO</td>\n                        <td>:</td>\n                        <td>S/.${e[0].monto_pagado}</td>\n                    </tr>\n                    <tr>\n                        <td>VENTANILLA</td>\n                        <td>:</td>\n                        <td>${e[0].usu_nombre+" "+e[0].usu_apellido_pat+" "+e[0].usu_apellido_mat}</td>\n                    </tr>\n                `,$("#voucher-datos01").html(a),$("#voucher-datos02").html(`\n                    ${e[0].cli_nombre+" "+e[0].cli_apellido_pat+" "+e[0].cli_apellido_mat}\n                `)}})}cronograma(t){$("#modal-cronograma").modal("show"),$.ajax({url:"../backend/panel/creditos/desembolsos/ajax_calendario.php",type:"GET",data:{consulta:"editar",id:t},success:function(t){var a=JSON.parse(t);switch(console.log(a[0]),$("#cronograma-datos01").html(`\n                                            <tr>\n                                                <td> COD. CLIENTE</td>\n                                                <td>:</td>\n                                                <td>${a[0].cli_dni}</td>\n                                            </tr>\n                                            <tr>\n                                                <td>N° CREDITO</td>\n                                                <td>:</td>\n                                                <td>${a[0].nrocredito}</td>\n                                            </tr>\n                `),$("#cronograma-datos02").html(`\n                                                    <tr>\n                                                        <th>CLIENTE</th>\n                                                        <th class="font-weight-normal pl-2">${a[0].cli_apellido_pat+" "+a[0].cli_apellido_mat+" "+a[0].cli_nombre}</th>\n                                                    </tr>\n                                                    <tr>\n                                                        <th>TELÉFONO</th>\n                                                        <th class="font-weight-normal pl-2">${a[0].cli_telefono}</th>\n                                                    </tr>\n                                                    <tr>\n                                                        <th>FECHA DE DESEMBOLSO</th>\n                                                        <th class="font-weight-normal pl-2">${a[0].fecha_desem}</th>\n                                                    </tr>\n                                                    <tr>\n                                                        <th>DIRECCION</th>\n                                                        <th class="font-weight-normal pl-2">${a[0].cli_direccion}</th>\n                                                    </tr>\n                `),$("#cronograma-datos03").html(`\n                                                    <tr>\n                                                        <th>MONTO</th>\n                                                        <th class="font-weight-normal pl-2">S/. ${a[0].monto_aprob}</th>\n                                                    </tr>\n                                                    <tr>\n                                                        <th>INTERÉS</th>\n                                                        <th class="font-weight-normal pl-2">${a[0].interes_aprob}%</th>\n                                                    </tr>\n                                                    \n                                                `),a[0].frecuencia){case"DIARIO":$("#cronograma-datos03").append(`\n                                                    <tr><th>PLAZO</th><th class="font-weight-normal pl-2">${a[0].n_cuotas_aprob} DIAS</th></tr>\n                                        `);break;case"SEMANAL":$("#cronograma-datos03").append(`\n                                                    <tr><th>PLAZO</th><th class="font-weight-normal pl-2">${a[0].n_cuotas_aprob} SEMANAS</th></tr>\n                                        `);break;case"QUINCENAL":$("#cronograma-datos03").append(`\n                                                    <tr><th>PLAZO</th><th class="font-weight-normal pl-2">${a[0].n_cuotas_aprob} QUINCENAS</th></tr>\n                                        `);break;case"MENSUAL":$("#cronograma-datos03").append(`\n                                                    <tr><th>PLAZO</th><th class="font-weight-normal pl-2">${a[0].n_cuotas_aprob} MESES</th></tr>\n                                        `)}$("#cronograma-datos03").append(`\n                                                    <tr>\n                                                        <th>INSCRIPCIÓN</th>\n                                                        <th class="font-weight-normal pl-2">${a[0].inscripcion}</th>\n                                                    </tr>\n                `),$("#cronograma-datos04").html(`\n                                                    <tr>\n                                                        <th>ANALISTA</th>\n                                                        <th class="font-weight-normal pl-2">${a[0].usu_ases_nombre+" "+a[0].usu_ases_apellido_pat+" "+a[0].usu_ases_apellido_mat}</th>\n                                                    </tr>\n                                                    <tr>\n                                                        <th>TELÉFONOS</th>\n                                                        <th class="font-weight-normal pl-2">${a[0].usu_ases_telefono}</th>\n                                                    </tr>\n                `)}}),$.ajax({url:"../backend/panel/creditos/desembolsos/ajax_cronograma.php",type:"GET",data:{consulta:"editar",iddesembolso:t},success:function(t){var a,e=JSON.parse(t);$("#load_data_modal-cronograma").html(""),e.forEach(t=>{a+=`\n                                    <tr>\n                                        <th scope="row">${t.n_cuota_programada}</th>\n                                        <td>${t.fecha_programada}</td>\n                                        <td>S/.${t.cuota_programada}</td>\n                                    `,null==t.mora||""==t.mora?a+="<td></td>":a+=`<td>S/.${t.mora}</td>`,null==t.monto||""==t.monto?a+="\n                                        <td></td>\n                                        <td></td>\n                                        ":a+=`\n                                        <td>${t.fecha}</td>\n                                        <td>S/.${t.monto}</td>\n                                        `,a+="\n                                        <td></td>\n                                    </tr>\n                                    "}),$("#load_data_modal-cronograma").html(a)}})}contrato(t){$("#modal-contrato").modal("show"),$.ajax({url:"../backend/panel/creditos/desembolsos/ajax_contrato.php",type:"GET",data:{consulta:"editar",id:t},success:function(t){var a,e=JSON.parse(t),n="";switch(""!=e[0].idaval&&null!=e[0].idaval&&(n=`ASI MISMO TIENE COMO <b>GARANTE</b> AL SEÑOR ${e[0].ava_apellido_pat+" "+e[0].ava_apellido_mat+" "+e[0].ava_nombre}, CON DNI N° ${e[0].ava_dni}, POR EL MONTO TOTAL DE LA DEUDA CONTRAIDA, `),e[0].frecuencia){case"DIARIO":a="DIAS";break;case"SEMANAL":a="SEMANAS";break;case"QUINCENAL":a="QUINCENAS";break;case"MENSUAL":a="MESES"}solicitud_monto=e[0].monto_aprob,solicitud_cuotas=e[0].n_cuotas_aprob,solicitud_frecuencia=e[0].frecuencia,solicitud_interes=e[0].interes_aprob,solicitud_inicio=e[0].fecha_inicio,solicitud_calendario_contrato(),$("#contrato-datos01").html(`\n\n                    <div class="col-12">\n                        <center><h4><ins>CONTRATO DE PRÉSTAMO DINERARIO</ins></h4></center>\n                        <br>\n                        <p class="text-justify text-uppercase">\n                            CONSTE POR EL PRESENTE DOCUMENTO, EN CONTRATO DE PRÉSTAMO DINERARIO QUE CELEBRAN DE UNA PARTE <b>ANDY PERALTA RIVEROS, CON DNI N°47726338</b> CON DOMICILIO EN EL JR. PARRA DEL RIEGO N° 585 - DISTRITO DE EL TAMBO, PROVINCIA DE HUANCAYO, DEPARTAMENTO DE JUNÍN, QUIEN PROCEDE EN CALIDAD DE PRESIDENTE DE LA ASOCIACIÓN "ACIR", EN ADELANTE DENOMINADO "EL ACREEDOR" Y DE LA OTRA PARTE <b>${e[0].cli_nombre+" "+e[0].cli_apellido_pat+" "+e[0].cli_apellido_mat+", CON DNI N° "+e[0].cli_dni}</b>; CON DOMICILIO EN ${e[0].cli_direccion}, DISTRITO ${e[0].cli_distrito}, PROVINCIA DE ${e[0].cli_provincia}, DENOMINADO EN ADELANTE "EL DEUDOR" EN LOS TERMINOS Y CONDICIONES SIGUIENTES: \n                        </p>\n                        <h5>1.- ANTECEDENTE Y OBJETO.-</h5>\n                        <p class="text-justify text-uppercase">EL ACREEDOR, ES UNA PERSONA JURÍDICA A PRESTAR SERVICIOS RELACIONADOS CON LA LEY CON GARANTÍAS MOBILIARIAS Y EL DEUDOR ES UNA PERSONA NATURAL QUE A LA FECHA NECESITA UN PRÉSTAMO DINERARIO; QUIEN DECLARA QUE EN LA FECHA EL ACREEDOR LE OTORGA EN CALIDAD DE PRÉSTAMO LA SUMA DE <b>S/. ${e[0].monto_aprob}.00 (00/100 SOLES).</b> LOS MISMOS QUE GENERAN MENSUALMENTE LOS INTERESES COMPENSATORIOS Y MORATORIOS (DE SER EL CASO), COMISIONES, IMPUESTOS Y GASTOS ADMINISTRATIVOS QUE EL ACREEDOR TIENE VIGENTE PARA ESTE TIPO DE OPERACIONES QUE HAN SIDO EXPLICADAS DETALLADAMENTE AL DEUDOR Y QUE SERÁN POR TODO CONCEPTO, CONFORME SE DETALLA MAS ADELANTE.</p>\n\n                        <h5>2.- PLAZA Y PAGO DEL PRÉSTAMO.-</h5>\n                        <p class="text-justify text-uppercase">EL DEUDOR TIENE EL PLAZO MÁXIMO DE <b>${e[0].n_cuotas_aprob+" "+a}</b> CALENDARIOS PARA QUE CUMPLA CON CANCELAR EL PRÉSTAMO MATERIA DE ESTE CONTRATO, REPARTIDOS EN <b>${e[0].n_cuotas_aprob} PAGOS ${e[0].frecuencia}</b> CONTADOS A PARTIR DEL DÍA <b>${e[0].fecha_inicio_nombre}</b>, MES QUE CANCELARA EL CAPITAL MAS LOS INTERESES GENERADOS Y PACTADOS EN FORMA MENSUAL, HASTA LA CANCELACIÓN TOTAL DE LA DEUDA MAS LOS INTERESES.</p>\n                        \n                        <h5>3.- GARANTÍA.-</h5>\n                        <p class="text-justify text-uppercase">EL DEUDOR ACEPTA <b>FIRMAR UNA LETRA DE CAMBIO</b> PARA EL CUMPLIMIENTO DEL PAGO DEL PRÉSTAMO, INTERÉS, COMISIONES, GASTOS IMPUESTOS SEÑALADOS EN LA CLAUSULA PRIMERA, ASÍ COMO CUALQUIER OTRA OBLIGACIÓN FRENTE AL ACREEDOR, PRESENTE O FUTURA, ${n} LA DEUDA TIENE COMO FECHA DE VENCIMIENTO A <b><span id="fecha_vencimiento"></span>.</b></p>\n\n                        <h5>4.- INTERESES, COMISIONES Y GASTOS.-</h5> \n                        <p class="text-justify text-uppercase">EL DEUDOR SE OBLIGA A PAGAR UNA TASA DE INTERÉS APLICABLE AL PRÉSTAMO CONCEDIDO DEL <b>${e[0].interes_aprob}% ${e[0].frecuencia}</b>; EL ACREEDOR COBRARA AL DEUDOR LOS INTERESES COMPENSATORIOS, MORAS O PENALIDADES (DE SER EL CASO), COMISIÓN, IMPUESTOS Y GASTOS EN LOS PORCENTAJES. EL DEUDOR RECONOCE HABER SIDO INSTRUIDO SOBRE LA FORMA DE CALCULO, OPORTUNIDAD DE COBRO Y EL MONTO DE LOS CONCEPTOS MENCIONADOS EN EL PÁRRAFO ANTERIOR, MANIFESTANDO SU ACEPTACIÓN Y CONFORMIDAD CON LOS MISMOS, QUEDA EXPRESAMENTE PACTADO QUE LA DEMORA EN PAGOS DE CUALES QUIERA DE LAS OBLIGACIONES ASUMIDAS POR EL DEUDOR DETERMINARA LAS SUMAS EN <b>EL INTERÉS MORATORIO DIARIO</b> O PENALIDADES (DE SER EL CASO) EN FORMA ADICIONAL AL INTERÉS COMPENSATORIO PACTADO.</p>\n\n                        <h5>5.- DE LA CESIÓN DE POSICIÓN CONTRACTUAL.-</h5> \n                        <p class="text-justify text-uppercase">EL DEUDOR PRESTA SU CONFORMIDAD Y EXPRESAMENTE AUTORIZA AL ACREEDOR PARA CEDER O TRANSMITIR TOTAL O PARCIALMENTE TODOS LOS DERECHOS Y OBLIGACIONES DERIVADOS A ESTE CONTRATO EN FAVOR DE UN TERCERO NO SERA NECESARIO LA COMUNICACIÓN DE FECHA CIERTA AL DEUDOR PARA QUE LA CESIÓN SURTA EFECTOS ESTE PACTO COMPRENDE TANTO LA CESIÓN DE DERECHOS COMO LA CESIÓN DE POSICIÓN CONTRACTUAL. ASIMISMO EL ACREEDOR PODRÁ EFECTUAR O DAR EN GARANTÍA. CUALQUIER SEA LA FORMA QUE ESTA REVISTA LOS DERECHOS QUE ESTE CONTRATO CONFIERE.</p>\n\n                        <h5>6.- DOMICILIO Y CONVENIO ARBITRAL.-</h5> \n                        <p class="text-justify text-uppercase">PARA LA VALIDEZ DE TODAS LAS COMUNICACIONES Y NOTIFICACIONES CON MOTIVO DE LA EJECUCIÓN DE ESTE CONTRATO. AMBAS PARTES SEÑALAN COMO SUS DOMICILIOS LOS INDICADOS EN LA PARTE INTRODUCTORIA DE ESTE DOCUMENTO EL CAMBIO DE DOMICILIO DE CUALQUIERA DE LAS PARTES SOLO SURTIRÁ EFECTOS DESDE LA FECHA DE COMUNICACIÓN A LA OTRA PARTE, POR CUALQUIER MEDIO ESCRITO, CON PLAZO ANTICIPACIÓN O MENOS A CINCO DÍAS. ASIMISMO, TODA LA CONTROVERSIA RELACIONADA A LA VALIDEZ, NULIDAD, INTERPRETACIÓN Y/O EJECUCIÓN DEL PRESENTE CONTRATO SERA SOMETIDO AL ARBITRAJE DE DERECHO SEGÚN Y CONFORME AL PROCEDIMIENTO PREVISTO EN EL PRESENTE CONTRATO SERA DE APLICACIÓN LA LEY DE GARANTÍA MOBILIARIA.</p>\n\n                        <h5>7.- DATOS PERSONALES.-</h5> \n                        <p class="text-justify text-uppercase">EL DEUDOR RECONOCE QUE EN EL MARCO DE LA RELACIÓN QUE ESTE CONTRATO GENERAL A ENTREGADO AL ACREEDOR INFORMACIÓN Y/O DOCUMENTACIÓN SOBRE SU SITUACIÓN PERSONAL, FINANCIERA Y CREDITICIA, QUE PUDIERA SER CALIFICADA COMO DATOS PERSONALES CONFORME A LA LEGISLACIÓN DE LA MATERIA. LA MISMA QUE POR LA PRESENTE CLAUSULA AUTORIZA EXPRESAMENTE AL PRESTAMISTA A DAR TRATAMIENTO Y PROCESAR DE LA MANERA MAS AMPLIA PERMITIDA POR LA NORMAS PERTINENTE Y CONFORME A LOS PROCEDIMIENTOS QUE EL ACREEDOR DETERMINE EN EL MARCO DE SUS OPERACIONES HABITUALES.</p>\n\n                        <p class="text-justify text-uppercase">EN SEÑAL DE CONFORMIDAD LOS INTERVINIENTES SUSCRIBEN EL PRESENTE CONTRATO EN LA CIUDAD DE HUANCAYO A LOS  <b>${e[0].fecha_desem_nombre}</b></p>\n\n                        <br><br><br><br>\n                    </div>\n                    <div class="col-6 text-center">\n                        <div class="text-uppercase" style="border-top: 1px solid black; width:280px; float:left; position:relative; left:50%; transform:translateX(-50%);">ANDY PERALTA RIVEROS<br>DNI Nº 47726338<br><b>ACREEDOR</b></div>\n                    </div>\n                    <div class="col-6 text-center">\n                        <div class="text-uppercase" style="border-top: 1px solid black; width:280px; float:left; position:relative; left:50%; transform:translateX(-50%);">${e[0].cli_nombre+" "+e[0].cli_apellido_pat+" "+e[0].cli_apellido_mat}<br>DNI Nº ${e[0].cli_dni}<br><b>EL DEUDOR</b></div>\n                    </div>\n                          \n\n                `),""!=e[0].idconyugue&&null!=e[0].idconyugue&&$("#contrato-datos01").append(`\n                        <div class="col-6 text-center">\n                            <br><br><br>\n                            <div class="text-uppercase" style="border-top: 1px solid black; width:280px; float:left; position:relative; left:50%; transform:translateX(-50%);">${e[0].con_nombre+" "+e[0].con_apellido_pat+" "+e[0].con_apellido_mat}<br>DNI Nº ${e[0].con_dni}<br><b>GARANTE</b></div>\n                        </div> \n                    `),""!=e[0].idaval&&null!=e[0].idaval&&$("#contrato-datos01").append(`\n                        <div class="col-6 text-center">\n                            <br><br><br>\n                            <div class="text-uppercase" style="border-top: 1px solid black; width:280px; float:left; position:relative; left:50%; transform:translateX(-50%);">${e[0].ava_nombre+" "+e[0].ava_apellido_pat+" "+e[0].ava_apellido_mat}<br>DNI Nº ${e[0].ava_dni}<br><b>GARANTE</b></div>\n                        </div> \n                    `),$("#contrato-datos01").append(`\n                    <div class="col-12 text-center">\n                        <br><br><br>\n                        <div class="text-uppercase" style="border-top: 1px solid black; width:280px; float:left; position:relative; left:50%; transform:translateX(-50%);">${e[0].usu_ases_nombre+" "+e[0].usu_ases_apellido_pat+" "+e[0].usu_ases_apellido_mat}<br>DNI Nº ${e[0].usu_ases_dni}<br><b>CRÉDITOS Y COBRANZAS</b></div>\n                    </div> \n                `)}})}eliminarSolicitud(t){$.ajax({url:"../backend/panel/creditos/solicitudes/ajax_eliminar.php",type:"POST",data:{id:t},beforeSend:function(){$(".btn_modals").prop("disabled",!0),$("#msg-ajax-result").html('\n                        <div style="">\n                            <div class="spinner-border text-info" role="status" style="position:relative;left:50%;float:left;">\n                                <span class="sr-only">Loading...</span>\n                            </div>\n                        </div>\n                    ')},success:function(t){200==t?($("#msg-ajax-result").html('\n                                <div class="alert alert-warning" role="alert"  style="margin-bottom: 10px;">\n                                    Se elimino la solicitud!\n                                </div>\n                            '),setTimeout(()=>{credito.listarSolicitudes(),$("#modal-add").modal("hide"),$(".btn_modals").prop("disabled",!1),credito.idEdit=0,setTimeout(()=>{$("#msg-ajax-result").html("")},700)},700)):$("#msg-ajax-result").html('\n                                        <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                            '+t+"\n                                        </div>\n                            ")},timeout:3e4,error:function(t,a){$(".btn_modals").prop("disabled",!1),$("#msg-ajax-result").html('\n                                    <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                        Disculpe, existió un problema - '+t.status+" "+t.statusText+"\n                                    </div>\n                        ")}})}buscar_solicitud(t){var a=$("#solicitudes_buscar_tipo").val();$.ajax({url:"../backend/panel/creditos/solicitudes/ajax_buscar_solicitud.php",type:"GET",data:{clave:t,tipo:a},beforeSend:function(){$("#load_data_solicitudes").html(""),$("#load_table_solicitudes").html('\n                    <div style="">\n                        <br>\n                        <div class="spinner-border text-info" role="status" style="position:relative;left:50%;float:left;">\n                            <span class="sr-only">Loading...</span>\n                        </div><br>\n                        <span style="position:relative;left:50%;float:left;transform:translateX(-67%);margin-top:15px;">Loading...</span>\n                    </div>\n                ')},success:function(t){var a=JSON.parse(t);console.log(a);var e="",n=0;a.forEach(t=>{switch(e+=`\n                                            <tr>\n                                                <th scope="row">${++n}</th>\n                                                <td>${t.idcredito}</td>\n                                                <td>${t.cli_apellido_pat+" "+t.cli_apellido_mat+" "+t.cli_nombre}</td>\n                                                <td>${t.usu_apellido_pat+" "+t.usu_apellido_mat+" "+t.usu_nombre}</td>\n                                                <td>S/. ${t.monto_prop}</td>\n                                    `,null==t.monto_aprob||""==t.monto_aprob?e+="\n                                                <td>Pendiente...</td>                  \n                        ":e+=`\n                                                <td>S/. ${t.monto_aprob}</td> \n                        `,e+=`\n                                                <td>${t.n_cuotas}</td>\n                                                <td>${t.interes+" %"}</td>          \n                                    `,null==t.fecha_preaprob||""==t.fecha_preaprob?e+="\n                                                <td>Pendiente...</td>\n                        ":e+=`\n                                                <td>${t.fecha_preaprob}</td>\n                        `,t.estado){case"REGISTRADO":e+=`\n                                                <td class="text-center"><span class="badge badge-pill badge-secondary">${t.estado}</span></td>\n                                            `;break;case"PREAPROBADO":e+=`\n                                                <td class="text-center"><span class="badge badge-pill badge-info">${t.estado}</span></td>\n                                            `;break;case"APROBADO":e+=`\n                                                <td class="text-center"><span class="badge badge-pill badge-primary">${t.estado}</span></td>\n                                            `;break;case"DESEMBOLSADO":e+=`\n                                                <td class="text-center"><span class="badge badge-pill badge-success">${t.estado}</span></td>\n                                            `;break;case"FINALIZADO":e+=`\n                                                <td class="text-center"><span class="badge badge-pill badge-secondary">${t.estado}</span></td>\n                                            `}"REGISTRADO"==t.estado?e+=`\n                                                <td>\n                                                    <div class="col text-center"> \n                                                        <button style="width:110px;" type="button" class="btn btn-primary" onClick='btn_edit_credito("solicitud",${t.idsolicitud});'><i class="fas fa-edit"></i> Editar</button>\n                                                    </div>\n                                                </td>\n                                            </tr>\n                                        `:e+=`\n                                                <td>\n                                                    <div class="col text-center"> \n                                                        <button style="width:130px;" type="button" class="btn btn-warning" onClick='btn_ver_credito("solicitud",${t.idsolicitud});'><i class="fas fa-eye"></i> Ver detalles</button>\n                                                    </div>\n                                                </td>\n                                            </tr>\n                                        `}),$("#load_table_solicitudes").html(""),$("#load_data_solicitudes").html(e)}})}buscar_aprobacion(t){var a=$("#aprobaciones_buscar_tipo").val();$.ajax({url:"../backend/panel/creditos/aprobaciones/ajax_buscar_aprobacion.php",type:"GET",data:{clave:t,tipo:a},beforeSend:function(){$("#load_data_aprobaciones").html(""),$("#load_table_aprobaciones").html('\n                    <div style="">\n                        <br>\n                        <div class="spinner-border text-info" role="status" style="position:relative;left:50%;float:left;">\n                            <span class="sr-only">Loading...</span>\n                        </div><br>\n                        <span style="position:relative;left:50%;float:left;transform:translateX(-67%);margin-top:15px;">Loading...</span>\n                    </div>\n                ')},success:function(t){var a=JSON.parse(t),e="",n=0;a.forEach(t=>{switch(e+=`\n                                            <tr>\n                                                <th scope="row">${++n}</th>\n                                                <td>${t.idcredito}</td>\n                                                <td>${t.cli_apellido_pat+" "+t.cli_apellido_mat+" "+t.cli_nombre}</td>\n                                                <td>${t.usu_ases_apellido_pat+" "+t.usu_ases_apellido_mat+" "+t.usu_ases_nombre}</td>\n                                                <td>S/. ${t.monto_prop}</td>\n                                    `,null==t.monto_aprob||""==t.monto_aprob?e+="\n                                                <td>Pendiente...</td>                  \n                        ":e+=`\n                                                <td>S/. ${t.monto_aprob}</td> \n                        `,e+=`\n                                                <td>${t.fecha_preaprob}</td>      \n                    `,null==t.fecha_aprob||""==t.fecha_aprob?e+="\n                                                <td>Pendiente...</td>      \n                    ":e+=`\n                                                <td>${t.fecha_preaprob}</td>      \n                    `,t.estado){case"REGISTRADO":e+=`\n                                                <td class="text-center"><span class="badge badge-pill badge-secondary">${t.estado}</span></td>\n                                            `;break;case"PREAPROBADO":e+=`\n                                                <td class="text-center"><span class="badge badge-pill badge-info">${t.estado}</span></td>\n                                            `;break;case"APROBADO":e+=`\n                                                <td class="text-center"><span class="badge badge-pill badge-primary">${t.estado}</span></td>\n                                            `;break;case"DESEMBOLSADO":e+=`\n                                                <td class="text-center"><span class="badge badge-pill badge-success">${t.estado}</span></td>\n                                            `}"PREAPROBADO"==t.estado?e+=`\n                                                <td>\n                                                    <div class="col text-center"> \n                                                        <button style="width:140px;" type="button" class="btn btn-success" onClick='btn_edit_credito("aprobacion",${t.idaprobacion});'><i class="fas fa-lg fa-clipboard"></i> Ver Crédito</button>\n                                                    </div>\n                                                </td>\n                                            </tr>\n                                        `:"APROBADO"==t.estado&&(e+=`\n                                                <td>\n                                                    <div class="col text-center"> \n                                                        <button type="button" class="btn btn-warning btn_modals" onclick="btn_ver_credito('aprobacion',${t.idaprobacion});" style="width:130px;"><i class="fas fa-eye"></i> Ver detalles</button>\n                                                    </div>\n                                                </td>\n                                            </tr>\n                                        `)}),""!=a&&null!=a||(e="\n                                    <tr>\n                                        <td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td>                    \n                                    </tr>\n                                    <tr>\n                                        <td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td>                    \n                                    </tr>\n                                    <tr>\n                                        <td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td>                    \n                                    </tr>\n                                    "),$("#load_table_aprobaciones").html(""),$("#load_data_aprobaciones").html(e)}})}buscar_desembolso(t){var a=$("#desembolsos_buscar_tipo").val();$.ajax({url:"../backend/panel/creditos/desembolsos/ajax_buscar_desembolso.php",type:"GET",data:{clave:t,tipo:a},beforeSend:function(){$("#load_data_desembolsos").html(""),$("#load_table_desembolsos").html('\n                    <div style="">\n                        <br>\n                        <div class="spinner-border text-info" role="status" style="position:relative;left:50%;float:left;">\n                            <span class="sr-only">Loading...</span>\n                        </div><br>\n                        <span style="position:relative;left:50%;float:left;transform:translateX(-67%);margin-top:15px;">Loading...</span>\n                    </div>\n                ')},success:function(t){var a=JSON.parse(t),e="",n=0;a.forEach(t=>{switch(e+=`\n                                            <tr>\n                                                <th scope="row">${++n}</th>\n                                                <td>${t.cli_apellido_pat+" "+t.cli_apellido_mat+" "+t.cli_nombre}</td>\n                                                <td>${t.usu_ases_apellido_pat+" "+t.usu_ases_apellido_mat+" "+t.usu_ases_nombre}</td>\n                                                <td>S/. ${t.monto_aprob}</td>\n                                    `,t.estado){case"REGISTRADO":e+=`\n                                                <td class="text-center"><span class="badge badge-pill badge-secondary">${t.estado}</span></td>\n                                            `;break;case"PREAPROBADO":e+=`\n                                                <td class="text-center"><span class="badge badge-pill badge-info">${t.estado}</span></td>\n                                            `;break;case"APROBADO":e+=`\n                                                <td class="text-center"><span class="badge badge-pill badge-primary">${t.estado}</span></td>\n                                            `;break;case"DESEMBOLSADO":e+=`\n                                                <td class="text-center"><span class="badge badge-pill badge-success">${t.estado}</span></td>\n                                            `;break;case"FINALIZADO":e+=`\n                                                <td class="text-center"><span class="badge badge-pill badge-secondary">${t.estado}</span></td>\n                                            `}"APROBADO"==t.estado?e+=`\n                                                <td>\n                                                    <div class="col text-center"> \n                                                        <button style="width:155px;" type="button" class="btn btn-success" onclick='btn_edit_credito("desembolso",${t.iddesembolso});'><i class="fas fa-lg fa-coins"></i> Desembolsar</button>\n                                                    </div>\n                                                </td>\n                                            </tr>\n                                        `:"DESEMBOLSADO"==t.estado?"ADMINISTRADOR"==t.user_privilegios||"ROOT"==t.user_privilegios?t.hoy==t.fecha_desem?e+=`\n                                                    <td>\n                                                        <div class="col text-center"> \n                                                            <button style="width:110px;" type="button" class="btn btn-info" onclick='btn_desembolso_print("voucher",${t.iddesembolso});'><i class="fas fa-lg fa-ticket-alt"></i> Ticket</button>\n                                                            <button style="width:138px;" type="button" class="btn btn-warning" onclick='btn_desembolso_print("cronograma",${t.iddesembolso});'><i class="far fa-lg fa-calendar-alt"></i> Cronograma</button>\n                                                            <button style="width:120px;" type="button" class="btn btn-dark" onclick='btn_desembolso_print("contrato",${t.iddesembolso});'><i class="fas fa-lg fa-file-alt"></i> Contrato</button>\n                                                            <button style="width:120px;margin-top:3px;" type="button" class="btn btn-danger" onclick='btn_edit_credito("extornar",${t.iddesembolso});'><i class="fas fa-lg fa-history"></i> Extornar</button>\n                                                        </div>\n                                                    </td>\n                                                </tr>\n                                            `:e+=`\n                                                    <td>\n                                                        <div class="col text-center"> \n                                                            <button style="width:110px;" type="button" class="btn btn-info" onclick='btn_desembolso_print("voucher",${t.iddesembolso});'><i class="fas fa-lg fa-ticket-alt"></i> Ticket</button>\n                                                            <button style="width:138px;" type="button" class="btn btn-warning" onclick='btn_desembolso_print("cronograma",${t.iddesembolso});'><i class="far fa-lg fa-calendar-alt"></i> Cronograma</button>\n                                                            <button style="width:120px;" type="button" class="btn btn-dark" onclick='btn_desembolso_print("contrato",${t.iddesembolso});'><i class="fas fa-lg fa-file-alt"></i> Contrato</button>\n                                                        </div>\n                                                    </td>\n                                                </tr>\n                                            `:e+=`\n                                                <td>\n                                                    <div class="col text-center"> \n                                                        <button style="width:110px;" type="button" class="btn btn-info" onclick='btn_desembolso_print("voucher",${t.iddesembolso});'><i class="fas fa-lg fa-ticket-alt"></i> Ticket</button>\n                                                        <button style="width:138px;" type="button" class="btn btn-warning" onclick='btn_desembolso_print("cronograma",${t.iddesembolso});'><i class="far fa-lg fa-calendar-alt"></i> Cronograma</button>\n                                                        <button style="width:120px;" type="button" class="btn btn-dark" onclick='btn_desembolso_print("contrato",${t.iddesembolso});'><i class="fas fa-lg fa-file-alt"></i> Contrato</button>\n                                                    </div>\n                                                </td>\n                                            </tr>\n                                        `:"FINALIZADO"==t.estado&&(e+=`\n                                        <td>\n                                            <div class="col text-center"> \n                                                <button style="width:110px;" type="button" class="btn btn-info" onclick='btn_desembolso_print("voucher",${t.iddesembolso});'><i class="fas fa-lg fa-ticket-alt"></i> Ticket</button>\n                                                <button style="width:138px;" type="button" class="btn btn-warning" onclick='btn_desembolso_print("cronograma",${t.iddesembolso});'><i class="far fa-lg fa-calendar-alt"></i> Cronograma</button>\n                                                <button style="width:120px;" type="button" class="btn btn-dark" onclick='btn_desembolso_print("contrato",${t.iddesembolso});'><i class="fas fa-lg fa-file-alt"></i> Contrato</button>\n                                            </div>\n                                        </td>\n                                    </tr>\n                                `)}),$("#load_table_desembolsos").html(""),$("#load_data_desembolsos").html(e)}})}}class Caja{constructor(){this.idEdit=0,this.metodo=0,this.formulario,this.cuadrarCaja=!1}listarCajas(){$.ajax({url:"../backend/panel/cajas/crear/ajax_ver.php",type:"GET",data:{consulta:"buscar"},beforeSend:function(){$("#load_data_cajas").html(""),$("#load_table_cajas").html('\n                    <div style="">\n                        <br>\n                        <div class="spinner-border text-info" role="status" style="position:relative;left:50%;float:left;">\n                            <span class="sr-only">Loading...</span>\n                        </div><br>\n                        <span style="position:relative;left:50%;float:left;transform:translateX(-67%);margin-top:15px;">Loading...</span>\n                    </div>\n                ')},success:function(t){var a=JSON.parse(t),e="",n=0;a.forEach(t=>{switch(e+=`\n                                            <tr>\n                                                <th scope="row">${++n}</th>\n                                                <td>${t.nombre}</td>\n                                              \n                                    `,null==t.capital||""==t.capital?e+="\n                                                <td></td>                  \n                        ":e+=`\n                                                <td>S/. ${t.capital}</td> \n                        `,e+=`\n                                                <td>${t.user_nombre+" "+t.apellido_pat+" "+t.apellido_mat}</td>\n                                              \n                                    `,t.estado){case"DESHABILITADO":e+=`\n                                                                <td class="text-center"><span class="badge badge-pill badge-danger">${t.estado}</span></td>\n                                                            `;break;case"ABIERTO":e+=`\n                                                                <td class="text-center"><span class="badge badge-pill badge-success">${t.estado}</span></td>\n                                                            `;break;case"CERRADO":e+=`\n                                                                <td class="text-center"><span class="badge badge-pill badge-warning">${t.estado}</span></td>\n                                                            `}e+=`         \n                                                <td>\n                                                    <div class="col text-center"> \n                                                        <button style="width:140px;" type="button" class="btn btn-primary" onClick='btn_edt_caja(${t.idcaja},"CREAR");'><i class="fas fa-edit"></i> Modificar</button>\n                                                    </div>\n                                                </td>\n                                            </tr>\n                    `}),$("#load_table_cajas").html(""),$("#load_data_cajas").html(e)}})}listarAperturas(){$.ajax({url:"../backend/panel/cajas/aperturas/ajax_ver.php",type:"GET",data:{consulta:"buscar"},beforeSend:function(){$("#load_data_aperturas").html(""),$("#load_table_aperturas").html('\n                    <div style="">\n                        <br>\n                        <div class="spinner-border text-info" role="status" style="position:relative;left:50%;float:left;">\n                            <span class="sr-only">Loading...</span>\n                        </div><br>\n                        <span style="position:relative;left:50%;float:left;transform:translateX(-67%);margin-top:15px;">Loading...</span>\n                    </div>\n                ')},success:function(t){var a=JSON.parse(t),e="",n=0;a.forEach(t=>{switch(e+=`\n                                            <tr>\n                                                <th scope="row">${++n}</th>\n                                                <td>${t.nombre}</td>\n                                              \n                                    `,null==t.capital||""==t.capital?e+="\n                                                <td></td>                  \n                        ":"ABIERTO"!=t.estado?e+=`\n                                                <td>S/. ${t.capital}</td> \n                            `:"CAJA"==t.privilegios?e+="\n                                                <td>EN USO</td> \n                                ":e+=`\n                                                <td>S/. ${t.capital}</td> \n                                `,e+=`\n                                                <td>${t.user_nombre+" "+t.apellido_pat+" "+t.apellido_mat}</td>       \n                                    `,t.estado){case"DESHABILITADO":e+=`\n                                                                <td class="text-center"><span class="badge badge-pill badge-danger">${t.estado}</span></td>\n                                                            `;break;case"ABIERTO":e+=`\n                                                                <td class="text-center"><span class="badge badge-pill badge-success">${t.estado}</span></td>\n                                                                <td>\n                                                                    <div class="col text-center"> \n                                                                        <button style="width:140px;" type="button" class="btn btn-danger" onClick='btn_edt_caja(${t.idcaja},"CIERRE");'><i class="fas fa-lock"></i> Cerrar Caja</button>\n                                                                    </div>\n                                                                </td>\n                                                            `;break;case"CERRADO":e+=`\n                                                                <td class="text-center"><span class="badge badge-pill badge-warning">${t.estado}</span></td>\n                                                                <td>\n                                                                    <div class="col text-center"> \n                                                                        <button style="width:140px;" type="button" class="btn btn-success" onClick='btn_edt_caja(${t.idcaja},"APERTURA");'><i class="fas fa-lock-open"></i> Abrir Caja</button>\n                                                                    </div>\n                                                                </td>\n                                                            `}e+="\n                                            </tr>\n                    "}),$("#load_table_aperturas").html(""),$("#load_data_aperturas").html(e)}})}listarMovimientos(t){$.ajax({url:"../backend/panel/cajas/movimientos/ajax_ver.php",type:"GET",data:{consulta:"buscar",clave:t},beforeSend:function(){$("#load_data_movimientos").html(""),$("#load_table_movimientos").html('\n                    <div style="">\n                        <br>\n                        <div class="spinner-border text-info" role="status" style="position:relative;left:50%;float:left;">\n                            <span class="sr-only">Loading...</span>\n                        </div><br>\n                        <span style="position:relative;left:50%;float:left;transform:translateX(-67%);margin-top:15px;">Loading...</span>\n                    </div>\n                ')},success:function(t){var a=JSON.parse(t),e="",n=0;a.forEach(t=>{e+=`\n                                            <tr>\n                                                <th scope="row">${++n}</th>\n                                                <td>${t.caja_nombre}</td>\n                                        `,"INGRESO"==t.tipo_mov?e+=`\n                            <td><span class="badge badge-pill badge-success">${t.tipo_mov}</span></td>\n                        `:e+=`\n                            <td><span class="badge badge-pill badge-danger">${t.tipo_mov}</span></td>\n                        `,e+=`\n                    \n                                                \n                                                <td>S/. ${t.monto}</td>\n                                                <td>${t.concepto}</td>\n                                                <td>${t.fecha_mov}</td>\n                                                <td><center><button type="button" class="btn btn-primary" onclick='btn_movimientos_print("voucher",${t.idmovimiento});'><i class="fas fa-lg fa-ticket-alt"></i></button></center></td>\n                                              \n                                    `,e+="\n                                            </tr>\n                    "}),$("#load_table_movimientos").html(""),$("#load_data_movimientos").html(e)}})}listarTransferencias(t){$.ajax({url:"../backend/panel/cajas/transferencias/ajax_ver.php",type:"GET",data:{consulta:"buscar",clave:t},beforeSend:function(){$("#load_data_transferencias").html(""),$("#load_table_transferencias").html('\n                    <div style="">\n                        <br>\n                        <div class="spinner-border text-info" role="status" style="position:relative;left:50%;float:left;">\n                            <span class="sr-only">Loading...</span>\n                        </div><br>\n                        <span style="position:relative;left:50%;float:left;transform:translateX(-67%);margin-top:15px;">Loading...</span>\n                    </div>\n                ')},success:function(t){var a=JSON.parse(t),e="",n=0;a.forEach(t=>{e+=`\n                                            <tr>\n                                                <th scope="row">${++n}</th>\n                                                <td>${t.caja_ori_nombre}</td>\n                                        `,e+=`\n                                                <td><center><span class="badge badge-pill badge-warning">${t.tipo_mov}</span></center></td>\n                    `,e+=`                      \n                                                <td>S/. ${t.monto}</td>\n                                                <td>${t.caja_des_nombre}</td>\n                                                <td>${t.concepto}</td>\n                                                <td>${t.fecha_mov}</td>\n                                                <td><center><button type="button" class="btn btn-primary" onclick='btn_transferencias_print("voucher",${t.idtransferencia});'><i class="fas fa-lg fa-ticket-alt"></i></button></center></td>\n                                              \n                                    `,e+="\n                                            </tr>\n                    "}),$("#load_table_transferencias").html(""),$("#load_data_transferencias").html(e)}})}crearCaja(){$.ajax({type:"POST",url:"../backend/panel/cajas/crear/ajax_registrar.php",data:this.formulario,contentType:!1,cache:!1,processData:!1,beforeSend:function(){$(".btn_modals").prop("disabled",!0),$("#msg-ajax-result").html('\n                    <div style="">\n                        <div class="spinner-border text-info" role="status" style="position:relative;left:50%;float:left;">\n                            <span class="sr-only">Loading...</span>\n                        </div>\n                    </div>\n                ')},success:function(t){200==t?($("#msg-ajax-result").html('\n                            <div class="alert alert-success" role="alert"  style="margin-bottom: 10px;">\n                                Registro Correcto!\n                            </div>\n                    '),setTimeout(()=>{caja.listarCajas(),$("#modal-add").modal("hide"),$(".btn_modals").prop("disabled",!1),setTimeout(()=>{$("#msg-ajax-result").html("")},700)},600)):($(".btn_modals").prop("disabled",!1),301==t?$("#msg-ajax-result").html('\n                            <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                Se produjo un error al subir el archivo al servidor!\n                            </div>\n                        '):302==t?$("#msg-ajax-result").html('\n                                <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                    Se produjo un error con la base de datos!\n                                </div>\n                            '):$("#msg-ajax-result").html('\n                                <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                    '+t+"\n                                </div>\n                            "))},timeout:3e4,error:function(t,a){$(".btn_modals").prop("disabled",!1),$("#msg-ajax-result").html('\n                                            <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                                Disculpe, existió un problema - '+t.status+" "+t.statusText+"\n                                            </div>\n                ")}})}registrarMovimiento(){$.ajax({type:"POST",url:"../backend/panel/cajas/movimientos/ajax_registrar.php",data:this.formulario,contentType:!1,cache:!1,processData:!1,beforeSend:function(){$(".btn_modals").prop("disabled",!0),$("#msg-ajax-result").html('\n                    <div style="">\n                        <div class="spinner-border text-info" role="status" style="position:relative;left:50%;float:left;">\n                            <span class="sr-only">Loading...</span>\n                        </div>\n                    </div>\n                ')},success:function(t){200==t?($("#msg-ajax-result").html('\n                            <div class="alert alert-success" role="alert"  style="margin-bottom: 10px;">\n                                Registro Correcto!\n                            </div>\n                    '),setTimeout(()=>{caja.listarMovimientos(0),$("#modal-add").modal("hide"),$(".btn_modals").prop("disabled",!1),setTimeout(()=>{$("#msg-ajax-result").html("")},700)},600)):($(".btn_modals").prop("disabled",!1),301==t?$("#msg-ajax-result").html('\n                            <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                Se produjo un error al subir el archivo al servidor!\n                            </div>\n                        '):302==t?$("#msg-ajax-result").html('\n                                <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                    Se produjo un error con la base de datos!\n                                </div>\n                            '):"600"==t?$("#msg-ajax-result").html('\n                                    <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                        No hay fondos suficientes en la Caja!.\n                                    </div>\n                                '):$("#msg-ajax-result").html('\n                                <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                    '+t+"\n                                </div>\n                            "))},timeout:3e4,error:function(t,a){$(".btn_modals").prop("disabled",!1),$("#msg-ajax-result").html('\n                                            <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                                Disculpe, existió un problema - '+t.status+" "+t.statusText+"\n                                            </div>\n                ")}})}registrarTransferencia(){$.ajax({type:"POST",url:"../backend/panel/cajas/transferencias/ajax_registrar.php",data:this.formulario,contentType:!1,cache:!1,processData:!1,beforeSend:function(){$(".btn_modals").prop("disabled",!0),$("#msg-ajax-result").html('\n                    <div style="">\n                        <div class="spinner-border text-info" role="status" style="position:relative;left:50%;float:left;">\n                            <span class="sr-only">Loading...</span>\n                        </div>\n                    </div>\n                ')},success:function(t){200==t?($("#msg-ajax-result").html('\n                            <div class="alert alert-success" role="alert"  style="margin-bottom: 10px;">\n                                Registro Correcto!\n                            </div>\n                    '),setTimeout(()=>{caja.listarTransferencias(0),$("#modal-add").modal("hide"),$(".btn_modals").prop("disabled",!1),setTimeout(()=>{$("#msg-ajax-result").html("")},700)},600)):($(".btn_modals").prop("disabled",!1),301==t?$("#msg-ajax-result").html('\n                            <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                Se produjo un error al subir el archivo al servidor!\n                            </div>\n                        '):302==t?$("#msg-ajax-result").html('\n                                <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                    Se produjo un error con la base de datos!\n                                </div>\n                            '):"600"==t?$("#msg-ajax-result").html('\n                                    <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                        No hay fondos suficientes en la Caja de Origen!.\n                                    </div>\n                                '):$("#msg-ajax-result").html('\n                                <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                    '+t+"\n                                </div>\n                            "))},timeout:3e4,error:function(t,a){$(".btn_modals").prop("disabled",!1),$("#msg-ajax-result").html('\n                                            <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                                Disculpe, existió un problema - '+t.status+" "+t.statusText+"\n                                            </div>\n                ")}})}editCaja(t){document.getElementById("formulario-caja-edt").reset(),$("#modal-add-edt").modal("show"),$("#modal-add-edt h4").html("Modificar Caja"),$.ajax({url:"../backend/panel/cajas/crear/ajax_ver.php",type:"GET",data:{consulta:"editar",id:t},success:function(a){var e=JSON.parse(a);$("#caja_nombre-edt").val(e[0].nombre),$("#caja_capital-edt").val(e[0].capital),$("#caja_hab_billetaje").val(e[0].billetaje_reg),$("#caja_autor-edt").val(e[0].user_nombre+" "+e[0].apellido_pat+" "+e[0].apellido_mat),$("#caja_autor-hidden-edt").val(e[0].idusuario),$("#caja_autor-edt").removeClass("is-invalid"),$("#caja_autor-edt").addClass("is-valid"),"DESHABILITADO"==e[0].estado?$(".modal-btn-cont-edt").html(`\n                        <button type="button" class="btn btn-primary btn_modals" onclick="caja.habilitar(${t},1);" style="width:155px;"><i class="fas fa-lg fa-user-lock"></i> Habilitar</button>\n                    `):"CERRADO"==e[0].estado&&$(".modal-btn-cont-edt").html(`\n                            <button type="button" class="btn btn-danger btn_modals" onclick="caja.habilitar(${t},0);" style="width:155px;"><i class="fas fa-lg fa-user-lock"></i> Deshabilitar</button>\n                        `)}})}editApertura(t){document.getElementById("formulario-apertura").reset(),$("#modal-add").modal("show"),$.ajax({url:"../backend/panel/cajas/aperturas/ajax_ver.php",type:"GET",data:{consulta:"editar",id:t},success:function(t){var a=JSON.parse(t);$("#caja_nombre").val(a[0].nombre),"SI"==a[0].billetaje_reg?$(".caja_billetaje").attr("readonly","readonly"):($(".caja_billetaje").removeAttr("readonly"),$("#caja_capital").val("")),$("#caja_b_200").val(a[0].m200),$("#caja_b_100").val(a[0].m100),$("#caja_b_50").val(a[0].m50),$("#caja_b_20").val(a[0].m20),$("#caja_b_10").val(a[0].m10),$("#caja_b_5").val(a[0].m5),$("#caja_b_2").val(a[0].m2),$("#caja_b_1").val(a[0].m1),$("#caja_b_0_5").val(a[0].m0_5),$("#caja_b_0_2").val(a[0].m0_2),$("#caja_b_0_1").val(a[0].m0_1),caja.calcularBilletajeInput(),"CERRADO"==a[0].estado?$(".modal-btn-cont").html(`\n                        <button type="button" class="btn btn-success btn_modals" onclick="caja.apertura(${a[0].idcaja},1);" style="width:165px;"><i class="fas fa-lg fa-lock-open"></i> Aperturar Caja</button>\n                    `):"SI"==a[0].billetaje_reg?$(".modal-btn-cont").html(`\n                            <button type="button" class="btn btn-danger btn_modals" onclick="caja.apertura(${a[0].idcaja},0);" style="width:165px;"><i class="fas fa-lg fa-user-lock"></i> Cerrar Caja</button>\n                        `):$(".modal-btn-cont").html(`\n                            <button type="button" class="btn btn-primary btn_modals" onclick="caja.registrarBilletaje(${a[0].idcaja});" style="width:225px;"><i class="fas fa-lg fa-money-bill-wave"></i> Registrar Billetaje</button>\n                        `)}})}editarSaveCaja(t){this.formulario.append("id",t),$.ajax({type:"POST",url:"../backend/panel/cajas/crear/ajax_editar.php",data:this.formulario,contentType:!1,cache:!1,processData:!1,beforeSend:function(){$(".btn_modals-edt").prop("disabled",!0),$("#msg-ajax-result-edt").html('\n                    <div style="">\n                        <div class="spinner-border text-info" role="status" style="position:relative;left:50%;float:left;">\n                            <span class="sr-only">Loading...</span>\n                        </div>\n                    </div>\n                ')},success:function(t){200==t?($("#msg-ajax-result-edt").html('\n                            <div class="alert alert-success" role="alert"  style="margin-bottom: 10px;">\n                                Registro Correcto!\n                            </div>\n                    '),setTimeout(()=>{caja.listarCajas(),$("#modal-add-edt").modal("hide"),$(".btn_modals-edt").prop("disabled",!1),setTimeout(()=>{$("#msg-ajax-result-edt").html("")},700)},600)):($(".btn_modals-edt").prop("disabled",!1),301==t?$("#msg-ajax-result-edt").html('\n                            <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                Se produjo un error al subir el archivo al servidor!\n                            </div>\n                        '):302==t?$("#msg-ajax-result-edt").html('\n                                <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                    Se produjo un error con la base de datos!\n                                </div>\n                            '):$("#msg-ajax-result-edt").html('\n                                <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                    '+t+"\n                                </div>\n                            "))},timeout:3e4,error:function(t,a){$(".btn_modals-edt").prop("disabled",!1),$("#msg-ajax-result-edt").html('\n                                            <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                                Disculpe, existió un problema - '+t.status+" "+t.statusText+"\n                                            </div>\n                ")}})}buscarUserCajaResp(t){$.ajax({url:"../backend/panel/cajas/ajax_buscar_cajero_all.php",type:"GET",data:{clave:t},success:function(t){var a=JSON.parse(t);$("#cajeros_resp").html(""),a.forEach(t=>{$("#cajeros_resp").append(`\n                        <option data-id="${t.id}" value="${t.nombre+" "+t.apellido_pat+" "+t.apellido_mat}">${t.privilegios}</option>\n                    `)})}})}buscarUserCajaRespEdit(t){$.ajax({url:"../backend/panel/cajas/ajax_buscar_cajero_all.php",type:"GET",data:{clave:t},success:function(t){var a=JSON.parse(t);$("#cajeros_resp-edt").html(""),a.forEach(t=>{$("#cajeros_resp-edt").append(`\n                        <option data-id="${t.id}" value="(${t.id+"): "+t.nombre+" "+t.apellido_pat+" "+t.apellido_mat}">${t.privilegios}</option>\n                    `)})}})}buscarUserCaja(){$.ajax({url:"../backend/panel/cajas/ajax_buscar_cajero.php",type:"GET",success:function(t){var a=JSON.parse(t);""!=a&&null!=a?($("#caja_resp").removeClass("is-invalid"),$("#caja_resp").addClass("is-valid"),$("#caja_resp-hidden").val(a[0].idcajero),$("#caja_resp").val(a[0].nombre+" "+a[0].apellido_pat+" "+a[0].apellido_mat)):($("#caja_resp").removeClass("is-valid"),$("#caja_resp").addClass("is-invalid"))}})}buscarFechaHora(){$.ajax({url:"../backend/panel/solicitud_fecha_hora.php",type:"GET",success:function(t){var a=JSON.parse(t);$("#caja_fecha").val(a[0].fecha),$("#caja_hora").val(a[0].hora)}})}buscarCajas(){$.ajax({url:"../backend/panel/cajas/ajax_buscar_cajas.php",type:"GET",success:function(t){var a=JSON.parse(t),e='<option value="" selected disabled>--Seleccionar--</option>';$("#movimiento_caja").html(""),a.forEach(t=>{e+=`\n                                <option value="${t.idcaja}">${t.nombre}</option>\n                    `}),$("#movimiento_caja").html(e)}})}buscarCajasTransferencias(){$.ajax({url:"../backend/panel/cajas/ajax_buscar_cajas.php",type:"GET",success:function(t){var a=JSON.parse(t),e='<option value="" selected disabled>--Seleccionar--</option>';$("#movimiento_caja_ori").html(""),a.forEach(t=>{e+=`\n                                <option value="${t.idcaja}">${t.nombre}</option>\n                    `}),$("#movimiento_caja_ori").html(e)}}),$.ajax({url:"../backend/panel/cajas/ajax_buscar_cajas_all.php",type:"GET",success:function(t){var a=JSON.parse(t),e='<option value="" selected disabled>--Seleccionar--</option>';$("#movimiento_caja_des").html(""),a.forEach(t=>{e+=`\n                                <option value="${t.idcaja}">${t.nombre}</option>\n                    `}),$("#movimiento_caja_des").html(e)}})}buscarUserTransferencias(t){$.ajax({url:"../backend/panel/cajas/ajax_buscar_resp_autorizacion.php",type:"GET",data:{clave:t},success:function(t){var a=JSON.parse(t);$("#admins-list").html(""),a.forEach(t=>{$("#admins-list").append(`\n                        <option data-id="${t.idresp}" value="${t.nombre+" "+t.apellido_pat+" "+t.apellido_mat}">${t.privilegios}</option>\n                    `)})}})}habilitar(t,a){$.ajax({url:"../backend/panel/cajas/crear/ajax_habilitar.php",type:"POST",data:{id:t,operacion:a},beforeSend:function(){$(".btn_modals-edt").prop("disabled",!0),$("#msg-ajax-result-edt").html('\n                    <div style="">\n                        <div class="spinner-border text-info" role="status" style="position:relative;left:50%;float:left;">\n                            <span class="sr-only">Loading...</span>\n                        </div>\n                    </div>\n                ')},success:function(t){200==t?($("#msg-ajax-result-edt").html('\n                            <div class="alert alert-warning" role="alert"  style="margin-bottom: 10px;">\n                                Se completo la operación!\n                            </div>\n                        '),setTimeout(()=>{caja.listarCajas(),$("#modal-add-edt").modal("hide"),$(".btn_modals-edt").prop("disabled",!1),caja.idEdit=0,setTimeout(()=>{$("#msg-ajax-result-edt").html("")},700)},700)):$("#msg-ajax-result-edt").html('\n                                    <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                        '+t+"\n                                    </div>\n                        ")},timeout:3e4,error:function(t,a){$(".btn_modals-edt").prop("disabled",!1),$("#msg-ajax-result-edt").html('\n                                <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                    Disculpe, existió un problema - '+t.status+" "+t.statusText+"\n                                </div>\n                    ")}})}apertura(t,a){1==a?$.ajax({url:"../backend/panel/cajas/aperturas/ajax_aperturar.php",type:"POST",data:{idcaja:t,operacion:a,idusuario:$("#caja_resp-hidden").val(),monto:$("#caja_capital").val()},beforeSend:function(){$(".btn_modals").prop("disabled",!0),$("#msg-ajax-result").html('\n                        <div style="">\n                            <div class="spinner-border text-info" role="status" style="position:relative;left:50%;float:left;">\n                                <span class="sr-only">Loading...</span>\n                            </div>\n                        </div>\n                    ')},success:function(t){200==t?($("#msg-ajax-result").html('\n                                <div class="alert alert-success" role="alert"  style="margin-bottom: 10px;">\n                                    Se completo la operación!\n                                </div>\n                            '),caja.listarAperturas(),setTimeout(()=>{$("#modal-add").modal("hide"),$(".btn_modals").prop("disabled",!1),setTimeout(()=>{$("#msg-ajax-result").html("")},700)},1e3)):$("#msg-ajax-result").html('\n                                        <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                            '+t+"\n                                        </div>\n                            ")},timeout:3e4,error:function(t,a){$(".btn_modals").prop("disabled",!1),$("#msg-ajax-result").html('\n                                    <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                        Disculpe, existió un problema - '+t.status+" "+t.statusText+"\n                                    </div>\n                        ")}}):caja.calcularBilletaje(t)}registrarBilletaje(t){$.ajax({url:"../backend/panel/cajas/aperturas/ajax_registrar_billetaje.php",type:"POST",data:{idcaja:t,idusuario:$("#caja_resp-hidden").val(),monto:$("#caja_capital").val(),m200:$("#caja_b_200").val(),m100:$("#caja_b_100").val(),m50:$("#caja_b_50").val(),m20:$("#caja_b_20").val(),m10:$("#caja_b_10").val(),m5:$("#caja_b_5").val(),m2:$("#caja_b_2").val(),m1:$("#caja_b_1").val(),m0_5:$("#caja_b_0_5").val(),m0_2:$("#caja_b_0_2").val(),m0_1:$("#caja_b_0_1").val()},beforeSend:function(){$(".btn_modals").prop("disabled",!0),$("#msg-ajax-result").html('\n                    <div style="">\n                        <div class="spinner-border text-info" role="status" style="position:relative;left:50%;float:left;">\n                            <span class="sr-only">Loading...</span>\n                        </div>\n                    </div>\n                ')},success:function(t){console.log(t),200==t?($("#msg-ajax-result").html('\n                            <div class="alert alert-success" role="alert"  style="margin-bottom: 10px;">\n                                Se completo la operación!\n                            </div>\n                        '),caja.listarAperturas(),setTimeout(()=>{$("#modal-add").modal("hide"),$(".btn_modals").prop("disabled",!1),setTimeout(()=>{$("#msg-ajax-result").html("")},700)},1e3)):$("#msg-ajax-result").html('\n                                    <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                        '+t+"\n                                    </div>\n                        ")},timeout:3e4,error:function(t,a){$(".btn_modals").prop("disabled",!1),$("#msg-ajax-result").html('\n                                <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                    Disculpe, existió un problema - '+t.status+" "+t.statusText+"\n                                </div>\n                    ")}})}voucher(t){$("#voucher-datos01").html(""),$("#modal-ticket").modal("show"),$.ajax({url:"../backend/panel/cajas/movimientos/ajax_voucher.php",type:"GET",data:{consulta:"editar",id:t},success:function(t){var a=JSON.parse(t),e="";e+=`\n                    <tr>\n                        <td>FECHA:</td>\n                        <td>:</td>\n                        <td>${a[0].fecha_mov}</td>\n                    </tr>\n                    <tr>\n                        <td>DIRECCION:</td>\n                        <td>:</td>\n                        <td>Jr. Parra del Riego 585</td>\n                    </tr>\n             \n                    <tr>\n                        <td>TIPO DE MOVIMIENTO:</td>\n                        <td>:</td>\n                        <td>${a[0].tipo_mov}</td>\n                    </tr>\n                    <tr>\n                        <td>MONTO:</td>\n                        <td>:</td>\n                        <td>S/. ${a[0].monto}</td>\n                    </tr>\n                    <tr>\n                        <td>CONCEPTO:</td>\n                        <td>:</td>\n                        <td>${a[0].concepto}</td>\n                    </tr>\n                    <tr>\n                        <td>TIPO DE COMPROBANTE</td>\n                        <td>:</td>\n                        <td>${a[0].tipo_comprobante}</td>\n                    </tr>\n                    <tr>\n                        <td>NRO DE COMPROBANTE</td>\n                        <td>:</td>\n                        <td>${a[0].nro_comprobante}</td>\n                    </tr>\n                `,null!=a[0].cli_id&&""!=a[0].cli_id&&(e+=`\n                        <tr>\n                            <td>CLIENTE:</td>\n                            <td>:</td>\n                            <td>${a[0].cli_nombre+" "+a[0].cli_apellido_pat+" "+a[0].cli_apellido_mat}</td>\n                        </tr>\n                    `),e+=`\n                    <tr>\n                        <td>AUTORIZA:</td>\n                        <td>:</td>\n                        <td>${a[0].autoriza}</td>\n                    </tr>\n                    <tr>\n                        <td>CAJA:</td>\n                        <td>:</td>\n                        <td>${a[0].caja_nombre}</td>\n                    </tr>\n                   \n                    <tr>\n                        <td>CAJERO:</td>\n                        <td>:</td>\n                        <td>${a[0].usu_nombre+" "+a[0].usu_apellido_pat+" "+a[0].usu_apellido_mat}</td>\n                    </tr>\n                `,$("#voucher-titulo").html(`VOUCHER DE ${a[0].tipo_mov}`),$("#voucher-datos01").html(e),$("#voucher-datos02").html("\n                   \n                ")}})}voucherTransferencia(t){$("#voucher-datos01").html(""),$("#modal-ticket").modal("show"),$.ajax({url:"../backend/panel/cajas/transferencias/ajax_voucher.php",type:"GET",data:{consulta:"editar",id:t},success:function(t){var a=JSON.parse(t);$("#voucher-titulo").html(`VOUCHER DE ${a[0].tipo_mov}`),$("#voucher-datos01").html(`\n                    <tr>\n                        <td>FECHA:</td>\n                        <td>:</td>\n                        <td>${a[0].fecha_mov}</td>\n                    </tr>\n                    <tr>\n                        <td>DIRECCION:</td>\n                        <td>:</td>\n                        <td>Jr. Parra del Riego 585</td>\n                    </tr>\n             \n                    <tr>\n                        <td>TIPO DE MOVIMIENTO:</td>\n                        <td>:</td>\n                        <td>${a[0].tipo_mov}</td>\n                    </tr>\n                    <tr>\n                        <td>MONTO:</td>\n                        <td>:</td>\n                        <td>S/. ${a[0].monto}</td>\n                    </tr>\n                    <tr>\n                        <td>CONCEPTO:</td>\n                        <td>:</td>\n                        <td>${a[0].concepto}</td>\n                    </tr>\n                    <tr>\n                        <td>CAJA DE ORIGEN</td>\n                        <td>:</td>\n                        <td>${a[0].caja_ori_nombre}</td>\n                    </tr>\n                    <tr>\n                        <td>CAJA DE DESTINO</td>\n                        <td>:</td>\n                        <td>${a[0].caja_des_nombre}</td>\n                    </tr>\n                    <tr>\n                        <td>AUTORIZA:</td>\n                        <td>:</td>\n                        <td>${a[0].autoriza_nombre+" "+a[0].autoriza_apellido_pat+" "+a[0].autoriza_apellido_mat}</td>\n                    </tr>\n                  \n                   \n                    <tr>\n                        <td>CAJERO:</td>\n                        <td>:</td>\n                        <td>${a[0].usu_nombre+" "+a[0].usu_apellido_pat+" "+a[0].usu_apellido_mat}</td>\n                    </tr>\n                `),$("#voucher-datos02").html("\n                   \n                ")}})}calcularBilletaje(t){var a,e;caja.cuadrarCaja=!1,$.ajax({url:"../backend/panel/cajas/aperturas/ajax_ver.php",type:"GET",data:{consulta:"editar",id:t},success:function(n){var l=JSON.parse(n);if(e=l[0].capital,""!=$("#caja_b_200").val()&&null!=$("#caja_b_200").val())var s=200*parseFloat($("#caja_b_200").val());else s=0;if(""!=$("#caja_b_100").val()&&null!=$("#caja_b_100").val())var o=100*parseFloat($("#caja_b_100").val());else o=0;if(""!=$("#caja_b_50").val()&&null!=$("#caja_b_50").val())var i=50*parseFloat($("#caja_b_50").val());else i=0;if(""!=$("#caja_b_20").val()&&null!=$("#caja_b_20").val())var d=20*parseFloat($("#caja_b_20").val());else d=0;if(""!=$("#caja_b_10").val()&&null!=$("#caja_b_10").val())var r=10*parseFloat($("#caja_b_10").val());else r=0;if(""!=$("#caja_b_5").val()&&null!=$("#caja_b_5").val())var c=5*parseFloat($("#caja_b_5").val());else c=0;if(""!=$("#caja_b_2").val()&&null!=$("#caja_b_2").val())var p=2*parseFloat($("#caja_b_2").val());else p=0;if(""!=$("#caja_b_1").val()&&null!=$("#caja_b_1").val())var u=1*parseFloat($("#caja_b_1").val());else u=0;if(""!=$("#caja_b_0_5").val()&&null!=$("#caja_b_0_5").val())var m=.5*parseFloat($("#caja_b_0_5").val());else m=0;if(""!=$("#caja_b_0_2").val()&&null!=$("#caja_b_0_2").val())var _=.2*parseFloat($("#caja_b_0_2").val());else _=0;if(""!=$("#caja_b_0_1").val()&&null!=$("#caja_b_0_1").val())var b=.1*parseFloat($("#caja_b_0_1").val());else b=0;a=s+o+i+d+r+c+p+u+m+_+b,$("#billet_calculado").text("S/. "+a),caja.cuadrarCaja=a==e,caja.cuadrarCaja?$.ajax({url:"../backend/panel/cajas/aperturas/ajax_aperturar.php",type:"POST",data:{idcaja:t,operacion:0,idusuario:$("#caja_resp-hidden").val(),monto:$("#caja_capital").val()},beforeSend:function(){$(".btn_modals").prop("disabled",!0),$("#msg-ajax-result").html('\n                                <div style="">\n                                    <div class="spinner-border text-info" role="status" style="position:relative;left:50%;float:left;">\n                                        <span class="sr-only">Loading...</span>\n                                    </div>\n                                </div>\n                            ')},success:function(t){200==t?($("#msg-ajax-result").html('\n                                        <div class="alert alert-success" role="alert"  style="margin-bottom: 10px;">\n                                            Se completo la operación!\n                                        </div>\n                                    '),caja.listarAperturas(),setTimeout(()=>{$("#modal-add").modal("hide"),$(".btn_modals").prop("disabled",!1),setTimeout(()=>{$("#msg-ajax-result").html("")},700)},1e3)):$("#msg-ajax-result").html('\n                                                <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                                    '+t+"\n                                                </div>\n                                    ")},timeout:3e4,error:function(t,a){$(".btn_modals").prop("disabled",!1),$("#msg-ajax-result").html('\n                                            <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                                Disculpe, existió un problema - '+t.status+" "+t.statusText+"\n                                            </div>\n                                ")}}):$("#msg-ajax-result").html('\n                            <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                El billetaje no coincide con el monto de Caja!\n                            </div>\n                        ')},error:function(t,a){$(".btn_modals").prop("disabled",!1),$("#msg-ajax-result").html('\n                            <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                Disculpe, existió un problema - '+t.status+" "+t.statusText+"\n                            </div>\n                ")}})}calcularBilletajeInput(){var t;if(""!=$("#caja_b_200").val()&&null!=$("#caja_b_200").val())var a=200*parseFloat($("#caja_b_200").val());else a=0;if(""!=$("#caja_b_100").val()&&null!=$("#caja_b_100").val())var e=100*parseFloat($("#caja_b_100").val());else e=0;if(""!=$("#caja_b_50").val()&&null!=$("#caja_b_50").val())var n=50*parseFloat($("#caja_b_50").val());else n=0;if(""!=$("#caja_b_20").val()&&null!=$("#caja_b_20").val())var l=20*parseFloat($("#caja_b_20").val());else l=0;if(""!=$("#caja_b_10").val()&&null!=$("#caja_b_10").val())var s=10*parseFloat($("#caja_b_10").val());else s=0;if(""!=$("#caja_b_5").val()&&null!=$("#caja_b_5").val())var o=5*parseFloat($("#caja_b_5").val());else o=0;if(""!=$("#caja_b_2").val()&&null!=$("#caja_b_2").val())var i=2*parseFloat($("#caja_b_2").val());else i=0;if(""!=$("#caja_b_1").val()&&null!=$("#caja_b_1").val())var d=1*parseFloat($("#caja_b_1").val());else d=0;if(""!=$("#caja_b_0_5").val()&&null!=$("#caja_b_0_5").val())var r=.5*parseFloat($("#caja_b_0_5").val());else r=0;if(""!=$("#caja_b_0_2").val()&&null!=$("#caja_b_0_2").val())var c=.2*parseFloat($("#caja_b_0_2").val());else c=0;if(""!=$("#caja_b_0_1").val()&&null!=$("#caja_b_0_1").val())var p=.1*parseFloat($("#caja_b_0_1").val());else p=0;t=a+e+n+l+s+o+i+d+r+c+p,$("#billet_calculado").text("S/. "+t),$("#caja_capital").val(t)}}class Reporte{constructor(){this.idEdit=0,this.fecha,this.fecha_fin,this.caja=null,this.ingresos=null,this.egresos=null,this.billetes=null,this.monedas=null}buscarCajas(){$.ajax({url:"../backend/panel/reportes/ajax_buscar_cajas.php",type:"GET",success:function(t){var a=JSON.parse(t),e='<option value="" selected disabled>--Seleccionar--</option>',n='<option value="TODOS" selected>Todas las cajas</option>';$("#reportes_cajas").html(""),a.forEach(t=>{e+=`\n                                <option value="${t.idcaja}">${t.nombre}</option>\n                    `,n+=`\n                                <option value="${t.idcaja}">${t.nombre}</option>\n                    `}),$("#reportes_cajas").html(e),$("#reportes_capital").html(n)}})}listarFlujo(t,a){reporte.caja=null,reporte.ingresos=null,reporte.egresos=null,reporte.billetes=null,reporte.monedas=null,reporte.fecha="",reporte.diaSemana(t),$.ajax({url:"../backend/panel/reportes/ajax_flujo_caja_ingreso.php",type:"GET",data:{fecha:t,caja:a},beforeSend:function(){$("#load_ingreso").html(""),$("#loader_reporte").html('\n                    <div style="">\n                        <br>\n                        <div class="spinner-border text-info" role="status" style="position:relative;left:50%;float:left;">\n                            <span class="sr-only">Loading...</span>\n                        </div><br>\n                        <span style="position:relative;left:50%;float:left;transform:translateX(-67%);margin-top:15px;">Loading...</span>\n                    </div>\n                ')},success:function(e){var n=JSON.parse(e),l="";l+=`\n                        <br>\n                        <center><h2 style="text-transform: uppercase;">${reporte.fecha}</h2></center>\n                        <br>\n                        <table class="table table-striped table-bordered">\n                            <thead class="thead-dark text-center table_titulo">\n                                <th scope="col" colspan="6"><h5>COBRO DE CUOTAS</h5></th>\n                            </thead>\n                            <thead class="thead-dark text-center">\n                                <tr>\n                                    <th scope="col">COD</th>\n                                    <th scope="col">CLIENTE</th>\n                                    <th scope="col">ASESOR</th>\n                                    <th scope="col">DETALLE</th>\n                                    <th scope="col">MODO</th>\n                                    <th scope="col">MONTO</th>\n                                </tr>\n                            </thead>\n                            <tbody id="suma_ingresos_cuotas">\n                `,n.forEach(t=>{l+=`\n                                <tr>\n                                    <td>${t.idmovimiento}</td>\n                                    <td>${t.cli_apellido_pat+" "+t.cli_apellido_mat+" "+t.cli_nombre}</td>\n                                    <td>${t.usu_apellido_pat+" "+t.usu_apellido_mat+" "+t.usu_nombre}</td>\n                                    <td>${t.concepto}</td>\n                                    <td>${t.frecuencia}</td>\n                                    <td>S/. ${t.monto}</td>\n                                <tr>      \n                    `}),l+="\n                            </tbody>\n                        </table>  \n                ",$("#loader_reporte").html(""),$("#load_ingreso").html(l),$.ajax({url:"../backend/panel/reportes/ajax_flujo_ingreso.php",type:"GET",data:{fecha:t,caja:a},success:function(t){var a=JSON.parse(t),e="";a.forEach(t=>{""!=t.suma_cuotas&&null!=t.suma_cuotas&&(e+=`\n                                                <tr>\n                                                    <td></td>\n                                                    <td></td>\n                                                    <td></td>\n                                                    <td></td>\n                                                    <td><b>TOTAL</b></td>\n                                                    <td><b>S/. ${t.suma_cuotas}</b></td>\n                                                <tr>      \n                                    `)}),$("#suma_ingresos_cuotas").append(e)}})}}),$.ajax({url:"../backend/panel/reportes/ajax_flujo_caja_egreso.php",type:"GET",data:{fecha:t,caja:a},beforeSend:function(){$("#load_egreso").html(""),$("#loader_reporte").html('\n                    <div style="">\n                        <br>\n                        <div class="spinner-border text-info" role="status" style="position:relative;left:50%;float:left;">\n                            <span class="sr-only">Loading...</span>\n                        </div><br>\n                        <span style="position:relative;left:50%;float:left;transform:translateX(-67%);margin-top:15px;">Loading...</span>\n                    </div>\n                ')},success:function(e){var n=JSON.parse(e),l="";l+='\n                        <br>\n                        <table class="table table-striped table-bordered">\n                            <thead class="thead-dark text-center table_titulo">\n                                        <th scope="col" colspan="6"><h5>DESEMBOLSOS</h5></th>\n                            </thead>\n                            <thead class="thead-dark text-center">\n                                <tr>\n                                    <th scope="col">N°</th>\n                                    <th scope="col">CLIENTE</th>\n                                    <th scope="col">DETALLE</th>\n                                    <th scope="col">MONTO</th>\n                                </tr>\n                            </thead>\n                            <tbody id="suma_egresos_cuotas">\n                ',n.forEach(t=>{l+=`\n                                <tr>\n                                    <td>${t.idmovimiento}</td>\n                                    <td>${t.cli_apellido_pat+" "+t.cli_apellido_mat+" "+t.cli_nombre}</td>\n                                    <td class="text-center">${t.concepto}<br>${t.frecuencia}</td>\n                                    <td>S/. ${t.monto}</td>\n                                <tr>      \n                    `}),l+="\n                            </tbody>\n                        </table>  \n                ",$("#loader_reporte").html(""),$("#load_egreso").html(l),$.ajax({url:"../backend/panel/reportes/ajax_flujo_egreso.php",type:"GET",data:{fecha:t,caja:a},success:function(t){var a=JSON.parse(t),e="";a.forEach(t=>{""!=t.suma_cuotas&&null!=t.suma_cuotas&&(e+=`\n                                                <tr>\n                                                    <td></td>\n                                                    <td></td>\n                                                    <td><b>TOTAL</b></td>\n                                                    <td><b>S/. ${t.suma_cuotas}</b></td>\n                                                <tr>      \n                                    `)}),$("#suma_egresos_cuotas").append(e)}})}}),$.ajax({url:"../backend/panel/reportes/ajax_flujo_caja_ingreso_otros.php",type:"GET",data:{fecha:t,caja:a},beforeSend:function(){$("#load_ingreso_otros").html(""),$("#loader_reporte").html('\n                    <div style="">\n                        <br>\n                        <div class="spinner-border text-info" role="status" style="position:relative;left:50%;float:left;">\n                            <span class="sr-only">Loading...</span>\n                        </div><br>\n                        <span style="position:relative;left:50%;float:left;transform:translateX(-67%);margin-top:15px;">Loading...</span>\n                    </div>\n                ')},success:function(e){var n=JSON.parse(e),l="";l+='\n                        <br>          \n                        <table class="table table-striped table-bordered">\n                            <thead class="thead-dark text-center table_titulo">\n                                        <th scope="col" colspan="6"><h5>OTROS INGRESOS</h5></th>\n                            </thead>\n                            <thead class="thead-dark text-center">\n                                <tr>\n                                    <th scope="col">T.</th>\n                                    <th scope="col">N° DOC</th>\n                                    <th scope="col">DETALLE</th>\n                                    <th scope="col">MONTO</th>\n                                </tr>\n                            </thead>\n                            <tbody id="suma_ingresos_otros">\n                ',n.forEach(t=>{l+=`\n                                <tr>\n                                    <td>${t.tipo_comprobante}</td>\n                                    <td>${t.nro_comprobante}</td>\n                                    <td>${t.concepto}</td>\n                                    <td>S/. ${t.monto}</td>\n                                <tr>      \n                    `}),l+="\n                            </tbody>\n                        </table>  \n                ",$("#loader_reporte").html(""),$("#load_ingreso_otros").html(l),$.ajax({url:"../backend/panel/reportes/ajax_flujo_ingreso_otros.php",type:"GET",data:{fecha:t,caja:a},success:function(t){var a=JSON.parse(t),e="";a.forEach(t=>{""!=t.suma_cuotas&&null!=t.suma_cuotas&&(e+=`\n                                                <tr>\n                                                    <td></td>\n                                                    <td></td>\n                                                    <td><b>TOTAL</b></td>\n                                                    <td><b>S/. ${t.suma_cuotas}</b></td>\n                                                <tr>      \n                                    `)}),$("#suma_ingresos_otros").append(e)}})}}),$.ajax({url:"../backend/panel/reportes/ajax_flujo_caja_egreso_otros.php",type:"GET",data:{fecha:t,caja:a},beforeSend:function(){$("#load_egreso_otros").html(""),$("#loader_reporte").html('\n                    <div style="">\n                        <br>\n                        <div class="spinner-border text-info" role="status" style="position:relative;left:50%;float:left;">\n                            <span class="sr-only">Loading...</span>\n                        </div><br>\n                        <span style="position:relative;left:50%;float:left;transform:translateX(-67%);margin-top:15px;">Loading...</span>\n                    </div>\n                ')},success:function(e){var n=JSON.parse(e),l="";l+='\n                        <br>\n                        <table class="table table-striped table-bordered">\n                            <thead class="thead-dark text-center table_titulo">\n                                        <th scope="col" colspan="6"><h5>OTROS EGRESOS</h5></th>\n                            </thead>\n                            <thead class="thead-dark text-center">\n                                <tr>\n                                    <th scope="col">T.</th>\n                                    <th scope="col">N° DOC</th>\n                                    <th scope="col">DETALLE</th>\n                                    <th scope="col">MONTO</th>\n                                </tr>\n                            </thead>\n                            <tbody id="suma_egresos_otros">\n                ',n.forEach(t=>{l+=`\n                                <tr>\n                                    <td>${t.tipo_comprobante}</td>\n                                    <td>${t.nro_comprobante}</td>\n                                    <td>${t.concepto}</td>\n                                    <td>S/. ${t.monto}</td>\n                                <tr>      \n                    `}),l+="\n                            </tbody>\n                        </table>  \n                ",$("#loader_reporte").html(""),$("#load_egreso_otros").html(l),$.ajax({url:"../backend/panel/reportes/ajax_flujo_egreso_otros.php",type:"GET",data:{fecha:t,caja:a},success:function(t){var a=JSON.parse(t),e="";a.forEach(t=>{""!=t.suma_cuotas&&null!=t.suma_cuotas&&(e+=`\n                                                <tr>\n                                                    <td></td>\n                                                    <td></td>\n                                                    <td><b>TOTAL</b></td>\n                                                    <td><b>S/. ${t.suma_cuotas}</b></td>\n                                                <tr>      \n                                    `)}),$("#suma_egresos_otros").append(e)}})}}),$("#load_detalles").html('\n                        <br>\n                        <center><h5>DETALLE DE CAJA</h5></center>\n                        <table class="table table-striped table-bordered">\n                            <tbody id="suma_detalles" class="text-center">\n                            </tbody>\n                        </table>\n        '),$.ajax({url:"../backend/panel/reportes/ajax_flujo_detalle_inicio.php",type:"GET",data:{fecha:t,caja:a},beforeSend:function(){$("#loader_reporte").html('\n                    <div style="">\n                        <br>\n                        <div class="spinner-border text-info" role="status" style="position:relative;left:50%;float:left;">\n                            <span class="sr-only">Loading...</span>\n                        </div><br>\n                        <span style="position:relative;left:50%;float:left;transform:translateX(-67%);margin-top:15px;">Loading...</span>\n                    </div>\n                ')},success:function(e){var n=JSON.parse(e),l="";n.forEach(t=>{reporte.caja=t.monto_cierre,l+=`\n                                <tr>\n                                    <td style="font-weight:bold;">TOTAL SALDO ANTERIOR</td>\n                                    <td>S/. ${t.monto_cierre}</td>\n                                <tr>      \n                    `}),$("#loader_reporte").html(""),$("#suma_detalles").append(l),$.ajax({url:"../backend/panel/reportes/ajax_flujo_detalle_ingreso.php",type:"GET",data:{fecha:t,caja:a},beforeSend:function(){$("#loader_reporte").html('\n                            <div style="">\n                                <br>\n                                <div class="spinner-border text-info" role="status" style="position:relative;left:50%;float:left;">\n                                    <span class="sr-only">Loading...</span>\n                                </div><br>\n                                <span style="position:relative;left:50%;float:left;transform:translateX(-67%);margin-top:15px;">Loading...</span>\n                            </div>\n                        ')},success:function(e){var n=JSON.parse(e),l="";n.forEach(t=>{null!=t.suma_ingresos&&""!=t.suma_ingresos?(reporte.ingresos=t.suma_ingresos,l+=`\n                                            <tr>\n                                                <td style="font-weight:bold;">TOTAL INGRESOS</td>\n                                                <td>S/. ${t.suma_ingresos}</td>\n                                            <tr>      \n                                `):(reporte.ingresos=0,l+='\n                                            <tr>\n                                                <td style="font-weight:bold;">TOTAL INGRESOS</td>\n                                                <td>S/. 0</td>\n                                            <tr>      \n                                ')}),$("#loader_reporte").html(""),$("#suma_detalles").append(l),$.ajax({url:"../backend/panel/reportes/ajax_flujo_detalle_egreso.php",type:"GET",data:{fecha:t,caja:a},beforeSend:function(){$("#loader_reporte").html('\n                                    <div style="">\n                                        <br>\n                                        <div class="spinner-border text-info" role="status" style="position:relative;left:50%;float:left;">\n                                            <span class="sr-only">Loading...</span>\n                                        </div><br>\n                                        <span style="position:relative;left:50%;float:left;transform:translateX(-67%);margin-top:15px;">Loading...</span>\n                                    </div>\n                                ')},success:function(t){var a=JSON.parse(t),e="";a.forEach(t=>{null!=t.suma_egresos&&""!=t.suma_egresos?(reporte.egresos=t.suma_egresos,e+=`\n                                                    <tr>\n                                                        <td style="font-weight:bold;">TOTAL EGRESOS</td>\n                                                        <td>S/. ${t.suma_egresos}</td>\n                                                    <tr>      \n                                        `):(reporte.egresos=0,e+='\n                                                    <tr>\n                                                        <td style="font-weight:bold;">TOTAL EGRESOS</td>\n                                                        <td>S/. 0</td>\n                                                    <tr>      \n                                        ')}),$("#loader_reporte").html(""),$("#suma_detalles").append(e),null!=reporte.caja&&$("#suma_detalles").append(`\n                                        <tr>\n                                            <td style="font-weight:bold;">TOTAL CAJA</td>\n                                            <td>S/. ${parseFloat(reporte.caja)+parseFloat(reporte.ingresos)-parseFloat(reporte.egresos)}</td>\n                                        <tr> \n                                    `)}})}})}}),$("#load_billetaje").html('\n                        <br>\n                        <div class="row">\n                            <div class="col-12"><center><h5>BILLETAJE EN SOLES</h5></center></div>\n                            <div class="w-100"></div>\n                            <div class="col-6">\n                                <table class="table table-striped table-bordered">\n                                    <thead class="thead-dark text-center">\n                                        <tr>\n                                            <th scope="col">BILLETES</th>\n                                            <th scope="col">CANTIDAD</th>\n                                            <th scope="col">TOTAL</th>\n                                        </tr>\n                                    </thead>\n                                    <tbody id="tabla_billetaje_billetes" class="text-center">\n                                    </tbody>\n                                </table>\n                            </div>\n                            <div class="col-6">\n                                <table class="table table-striped table-bordered">\n                                    <thead class="thead-dark text-center">\n                                        <tr>\n                                            <th scope="col">MONEDAS</th>\n                                            <th scope="col">CANTIDAD</th>\n                                            <th scope="col">TOTAL</th>\n                                        </tr>\n                                    </thead>\n                                    <tbody id="tabla_billetaje_monedas" class="text-center">\n                                    </tbody>\n                                </table>\n                            </div>\n                        </row>\n        '),$.ajax({url:"../backend/panel/reportes/ajax_flujo_billetaje.php",type:"GET",data:{fecha:t,caja:a},beforeSend:function(){$("#tabla_billetaje_billetes").html(""),$("#tabla_billetaje_monedas").html(""),$("#loader_reporte").html('\n                    <div style="">\n                        <br>\n                        <div class="spinner-border text-info" role="status" style="position:relative;left:50%;float:left;">\n                            <span class="sr-only">Loading...</span>\n                        </div><br>\n                        <span style="position:relative;left:50%;float:left;transform:translateX(-67%);margin-top:15px;">Loading...</span>\n                    </div>\n                ')},success:function(t){var a=JSON.parse(t),e="",n="";a.forEach(t=>{reporte.billetes=t.t_billetes,reporte.monedas=t.t_monedas,e+=`\n                                <tr>\n                                    <td>S/. 200</td>\n                                    <td>${t.m200}</td>\n                                    <td>S/. ${t.t200}</td>\n                                <tr>\n                                <tr>\n                                    <td>S/. 100</td>\n                                    <td>${t.m100}</td>\n                                    <td>S/. ${t.t100}</td>\n                                <tr> \n                                <tr>\n                                    <td>S/. 50</td>\n                                    <td>${t.m50}</td>\n                                    <td>S/. ${t.t50}</td>\n                                <tr> \n                                <tr>\n                                    <td>S/. 20</td>\n                                    <td>${t.m20}</td>\n                                    <td>S/. ${t.t20}</td>\n                                <tr> \n                                <tr>\n                                    <td>S/. 10</td>\n                                    <td>${t.m10}</td>\n                                    <td>S/. ${t.t10}</td>\n                                <tr>     \n                                <tr>\n                                    <td colspan="2" style="font-weight:bold;">SUB TOTAL</td>   \n                                    <td style="font-weight:bold;">S/. ${t.t_billetes}</td>\n                                <tr> \n                    `,n+=`\n                                <tr>\n                                    <td>S/. 5</td>\n                                    <td>${t.m5}</td>\n                                    <td>S/. ${t.t5}</td>\n                                <tr>\n                                <tr>\n                                    <td>S/. 2</td>\n                                    <td>${t.m2}</td>\n                                    <td>S/. ${t.t2}</td>\n                                <tr> \n                                <tr>\n                                    <td>S/. 1</td>\n                                    <td>${t.m1}</td>\n                                    <td>S/. ${t.t1}</td>\n                                <tr> \n                                <tr>\n                                    <td>S/. 0.50</td>\n                                    <td>${t.m0_5}</td>\n                                    <td>S/. ${t.t0_5}</td>\n                                <tr> \n                                <tr>\n                                    <td>S/. 0.20</td>\n                                    <td>${t.m0_2}</td>\n                                    <td>S/. ${t.t0_2}</td>\n                                <tr>  \n                                <tr>\n                                    <td>S/. 0.10</td>\n                                    <td>${t.m0_1}</td>\n                                    <td>S/. ${t.t0_1}</td>\n                                <tr>    \n                                <tr>\n                                    <td colspan="2" style="font-weight:bold;">SUB TOTAL</td>   \n                                    <td style="font-weight:bold;">S/. ${t.t_monedas}</td>\n                                <tr>     \n                    `}),$("#loader_reporte").html(""),$("#tabla_billetaje_billetes").html(e),$("#tabla_billetaje_monedas").html(n),$("#load_cierre").html(`\n                                <br>\n                                <table class="table table-striped table-bordered text-center">\n                                    <tbody>\n                                        <tr>\n                                            <td style="font-weight:bold;">TOTAL DE BILLETAJE</td>\n                                            <td>S/. ${reporte.billetes+reporte.monedas}</td>\n                                        <tr>\n                                        <tr>\n                                            <td style="font-weight:bold;">CIERRE DE CAJA</td>\n                                            <td>S/. ${reporte.billetes+reporte.monedas}</td>\n                                        <tr>\n                                    </tbody>\n                                </table>\n                `)}}),$("#load_hora").html('\n                        <br>\n                        <center><h5>HORARIO DE APERTURA Y CIERRE DE CAJA</h5></center>\n                        <table class="table table-striped table-bordered">\n                            <tbody id="caja_horarios">\n                            </tbody>\n                        </table>\n        '),$.ajax({url:"../backend/panel/reportes/ajax_flujo_horario.php",type:"GET",data:{fecha:t,caja:a},beforeSend:function(){$("#caja_horarios").html(""),$("#loader_reporte").html('\n                    <div style="">\n                        <br>\n                        <div class="spinner-border text-info" role="status" style="position:relative;left:50%;float:left;">\n                            <span class="sr-only">Loading...</span>\n                        </div><br>\n                        <span style="position:relative;left:50%;float:left;transform:translateX(-67%);margin-top:15px;">Loading...</span>\n                    </div>\n                ')},success:function(t){var a=JSON.parse(t),e="";a.forEach(t=>{e+=`\n                                <tr>\n                                    <td>HORA DE APERTURA DE CAJA</td>\n                                    <td>${t.fecha_apertura}</td>\n                                <tr>\n                                <tr>\n                                    <td>HORA DE APERTURA DE CAJA</td>\n                                    <td>${t.fecha_cierre}</td>\n                                <tr>\n                               \n                    `}),$("#loader_reporte").html(""),$("#caja_horarios").html(e)}})}listarMoras(t){var a=$("#mora_buscar_tipo").val();$.ajax({url:"../backend/panel/reportes/ajax_reporte_mora.php",type:"GET",data:{clave:t,tipo:a},beforeSend:function(){$("#load_moras").html(""),$("#loader_reporte").html('\n                    <div style="">\n                        <br>\n                        <div class="spinner-border text-info" role="status" style="position:relative;left:50%;float:left;">\n                            <span class="sr-only">Loading...</span>\n                        </div><br>\n                        <span style="position:relative;left:50%;float:left;transform:translateX(-67%);margin-top:15px;">Loading...</span>\n                    </div>\n                ')},success:function(t){var a=JSON.parse(t),e="",n=0,l=0,s=0,o=0;e+="\n    \n                ",a.forEach(t=>{if(t.atraso>0){switch(n+=parseFloat(t.monto),l+=parseFloat(t.capital_interes),s+=parseFloat(t.recaudado),o+=parseFloat(t.restante),e+=`\n                                    <tr class="text-center">\n                                        <td>${t.idcliente}</td>\n                                        <td>${t.idcredito}</td>\n                                        <td>${t.apellido_pat+" "+t.apellido_mat+" "+t.nombre}</td>\n                                        <td>${t.usu_apellido_pat+" "+t.usu_apellido_mat+" "+t.usu_nombre}</td>\n                                        <td>${t.fecha_desem}</td>\n                                        <td class="rp_mora_1" style="background: rgb(207, 145, 166) !important;">S/.${t.monto}</td>\n                                        <td>${t.interes}%</td>\n                        `,t.frecuencia){case"DIARIO":e+=`\n                                                            <td>${t.n_cuotas+" DIAS"}</td>\n                                                `;break;case"SEMANAL":e+=`\n                                                            <td>${t.n_cuotas+" SEMANAS"}</td>\n                                                `;break;case"QUINCENAL":e+=`\n                                                            <td>${t.n_cuotas+" QUINCENAS"}</td>\n                                                `;break;case"MENSUAL":e+=`\n                                                            <td>${t.n_cuotas+" MESES"}</td>\n                                                `}e+=`\n                                        <td class="rp_mora_2" style="background: rgb(255, 187, 0) !important;">S/.${t.capital_interes}</td>\n                                        <td class="rp_mora_3" style="background: rgb(99, 255, 216) !important;">S/.${t.recaudado}</td>\n                                        <td class="rp_mora_4" style="background: rgb(237, 250, 55) !important;">S/.${t.restante}</td>\n                                        <td>${t.hoy}</td>\n                                        <td>${t.atraso}</td>\n                                        <td>S/.${t.restante_mora}</td>\n                                    <tr>      \n                        `}}),$("#loader_reporte").html(""),$("#load_moras").html(e),$("#load_moras").append(`\n                                <tr class="text-center">\n                                    <td></td>\n                                    <td></td>\n                                    <td></td>\n                                    <td></td>\n                                    <td></td>\n                                    <td class="rp_mora_1" style="background: rgb(207, 145, 166) !important;"><b>S/.${Math.ceil10(n,-1)}</b></td>\n                                    <td></td>\n                                    <td></td>\n                                    <td class="rp_mora_2" style="background: rgb(255, 187, 0) !important;"><b>S/.${Math.ceil10(l,-1)}</b></td>\n                                    <td class="rp_mora_3" style="background: rgb(99, 255, 216) !important;"><b>S/.${Math.ceil10(s,-1)}</b></td>\n                                    <td class="rp_mora_4" style="background: rgb(237, 250, 55) !important;"><b>S/.${Math.ceil10(o,-1)}</b></td>\n                                    <td></td>\n                                    <td></td>\n                                    <td></td>\n                                <tr> \n                `)}})}listarCapital(t){var a=0;$.ajax({url:"../backend/panel/reportes/ajax_capital.php",type:"GET",data:{caja:t},beforeSend:function(){$("#load_capital").html(""),$("#loader_reporte_cap").html('\n                    <div style="">\n                        <br>\n                        <div class="spinner-border text-info" role="status" style="position:relative;left:50%;float:left;">\n                            <span class="sr-only">Loading...</span>\n                        </div><br>\n                        <span style="position:relative;left:50%;float:left;transform:translateX(-67%);margin-top:15px;">Loading...</span>\n                    </div>\n                ')},success:function(t){var e=JSON.parse(t),n="";n+='\n                        <br>\n                        <center><h2 style="text-transform: uppercase;">REPORTE DE CAPITAL</h2></center>\n                        <br>\n                ',e.forEach(t=>{a+=parseFloat(t.capital),n+=`\n                                <center>\n                                <table class="col-6 table table-striped table-bordered tablas_rep_capital">\n                                    <thead class="thead-dark text-center">\n                                        <th scope="col" colspan="6" style="padding:3px;text-transform: uppercase;"><h5>${t.nombre}</h5></th>\n                                    </thead>\n                                    <tbody class="thead-dark text-center">\n                                        <tr>\n                                            <td scope="col">CAPITAL DISPONIBLE</td>\n                                            <td scope="col">S/. ${t.capital}</td>\n                                        </tr>\n                                    </tbody>\n                                </table> \n                                </center>\n                    `}),n+=`\n                            <br>\n                            <center>\n                            <table class="col-8 table table-striped table-bordered tablas_rep_capital">\n                                <thead class="thead-dark text-center table_titulo">\n                                    <th scope="col" colspan="6"><h5>CAPITAL DISPONIBLE</h5></th>\n                                </thead>\n                                <thead class="thead-dark text-center">\n                                    <tr>\n                                        <td scope="col">TODAS LAS CAJAS</td>\n                                        <td scope="col">S/. ${Math.ceil10(parseFloat(a),-1)}</td>\n                                    </tr>\n                                </thead>\n                            </table> \n                            </center>\n                `,$("#loader_reporte_cap").html(""),$("#load_capital").html(n)}})}listarMovimientos(t,a){var e=0,n=0;reporte.fecha="",reporte.diaSemanaIniFin(t),reporte.fecha="",reporte.diaSemanaIniFin(a),$.ajax({url:"../backend/panel/reportes/ajax_movimientos.php",type:"GET",data:{consulta:"buscar",inicio:t,fin:a},beforeSend:function(){$("#load_data_reporte_mov").html(""),$("#loader_reporte").html('\n                    <div style="">\n                        <br>\n                        <div class="spinner-border text-info" role="status" style="position:relative;left:50%;float:left;">\n                            <span class="sr-only">Loading...</span>\n                        </div><br>\n                        <span style="position:relative;left:50%;float:left;transform:translateX(-67%);margin-top:15px;">Loading...</span>\n                    </div>\n                ')},success:function(t){var a=JSON.parse(t),l="",s=0;l+=`\n                        <br>\n                        <center><h3 style="margin:20px 0px; text-transform: UPPERCASE;">REPORTE DE MOVIMIENTOS DEL <br> ${reporte.fecha} AL ${reporte.fecha_fin}</h3></center>\n                        <br>\n                        \n                        <table class="table table-striped table-bordered tablas_rep_mov">\n                                <thead class="thead-dark text-center">\n                                    <th scope="col" colspan="6"><h5>MOVIMIENTOS</h5></th>\n                                </thead>\n                                <thead class="thead-dark text-center">\n                                        <th scope="col">N°</th>\n                                        <th scope="col">CAJA</th>\n                                        <th scope="col">TIPO</th>\n                                        <th scope="col">MONTO</th>\n                                        <th scope="col">CONCEPTO</th>\n                                        <th scope="col">FECHA</th>\n                                </thead>\n                                <tbody>\n                `,a.forEach(t=>{l+=`\n                                            <tr>\n                                                <th scope="row">${++s}</th>\n                                                <td>${t.caja_nombre}</td>\n                                        `,"INGRESO"==t.tipo_mov?(e+=parseFloat(t.monto),l+=`\n                            <td><center><span class="badge badge-pill badge-success">${t.tipo_mov}</span></center></td>\n                        `):(n+=parseFloat(t.monto),l+=`\n                            <td><center><span class="badge badge-pill badge-danger">${t.tipo_mov}</span></center></td>\n                        `),l+=`\n                    \n                                                \n                                                <td>S/. ${t.monto}</td>\n                                                <td>${t.concepto}</td>\n                                                <td>${t.fecha_mov}</td>\n                                              \n                                    `,l+="\n                                            </tr>\n                    "}),l+=`\n                            </tbody>\n                        </table>\n\n                        <div class="w-100"><br><br></div>\n\n                        <table class="col-5 table table-striped table-bordered tablas_rep_mov">\n                            <thead class="thead-dark text-center">\n                                <th scope="col" colspan="2"><h5>INGRESOS</h5></th>\n                            </thead>\n                            <tbody>\n                                <tr class="text-center font-weight-bold">\n                                    <td>TOTAL</td>\n                                    <td>S/. ${Math.ceil10(e,-1)}</td>\n                                </tr>\n                            </tbody>\n                        </table>\n\n                        <table class="col-5 table table-striped table-bordered tablas_rep_mov">\n                            <thead class="thead-dark text-center">\n                                <th scope="col" colspan="2"><h5>EGRESOS</h5></th>\n                            </thead>\n                            <tbody>\n                                <tr class="text-center font-weight-bold">\n                                    <td>TOTAL</td>\n                                    <td>S/. ${Math.ceil10(n,-1)}</td>\n                                </tr>\n                            </tbody>\n                        </table>\n                `,$("#loader_reporte").html(""),$("#load_data_reporte_mov").html(l)}})}listarPaga(t){var a=0;reporte.fecha="",reporte.diaSemana(t),$.ajax({url:"../backend/panel/reportes/ajax_paga.php",type:"GET",data:{consulta:"buscar",inicio:t},beforeSend:function(){$("#load_data_reporte_paga").html(""),$("#loader_reporte").html('\n                    <div style="">\n                        <br>\n                        <div class="spinner-border text-info" role="status" style="position:relative;left:50%;float:left;">\n                            <span class="sr-only">Loading...</span>\n                        </div><br>\n                        <span style="position:relative;left:50%;float:left;transform:translateX(-67%);margin-top:15px;">Loading...</span>\n                    </div>\n                ')},success:function(t){var e=JSON.parse(t),n="",l=0;""!=e&&null!=e&&("ROOT"==e[0].privilegios||"ADMINISTRADOR"==e[0].privilegios)?n+=`\n                            <div class="col-10">\n                            <br>\n                            <center><h3 style="margin:20px 0px; text-transform: UPPERCASE;">REPORTE DE CLIENTES QUE LES TOCA PAGAR EL <br> ${reporte.fecha}</h3></center>\n                            <br>\n                            \n                            <table class="table table-striped table-bordered tablas_rep_mov">\n                                    <thead class="thead-dark text-center">\n                                        <th scope="col" colspan="6"><h5>REPORTE DE PAGA</h5></th>\n                                    </thead>\n                                    <thead class="thead-dark text-center">\n                                            <th scope="col">N°</th>\n                                            <th scope="col">CLIENTE</th>\n                                            <th scope="col">ASESOR</th>\n                                            <th scope="col">CUOTA</th>\n                                            \x3c!--<th scope="col">DEUDAS ANTERIORES</th>--\x3e\n                                    </thead>\n                                    <tbody class="text-center">\n                        `:n+=`\n                            <div class="col-10">\n                            <br>\n                            <center><h3 style="margin:20px 0px; text-transform: UPPERCASE;">REPORTE DE CLIENTES QUE LES TOCA PAGAR EL <br> ${reporte.fecha}</h3></center>\n                            <br>\n                            \n                            <table class="table table-striped table-bordered tablas_rep_mov">\n                                    <thead class="thead-dark text-center">\n                                        <th scope="col" colspan="6"><h5>REPORTE DE PAGA</h5></th>\n                                    </thead>\n                                    <thead class="thead-dark text-center">\n                                            <th scope="col">N°</th>\n                                            <th scope="col">CLIENTE</th>\n                                            <th scope="col">CUOTA</th>\n                                            \x3c!--<th scope="col">DEUDAS ANTERIORES</th>--\x3e\n                                    </thead>\n                                    <tbody class="text-center">\n                        `,e.forEach(t=>{l++,a+=parseFloat(t.cuota_programada),"ROOT"==t.privilegios||"ADMINISTRADOR"==t.privilegios?n+=`\n                                <tr>\n                                    <th scope="row">${l}</th>\n                                    <td>${t.cli_apellido_pat} ${t.cli_apellido_mat} ${t.cli_nombre}</td>\n                                    <td>${t.usu_apellido_pat} ${t.usu_apellido_mat} ${t.usu_nombre}</td>\n                                    <td>S/. ${t.cuota_programada}</td>\n                                    \x3c!--<td></td>--\x3e\n                                </tr>\n                        `:n+=`\n                                <tr>\n                                    <th scope="row">${l}</th>\n                                    <td>${t.cli_apellido_pat} ${t.cli_apellido_mat} ${t.cli_nombre}</td>\n                                    <td>S/. ${t.cuota_programada}</td>\n                                    \x3c!--<td></td>--\x3e\n                                </tr>\n                        `}),n+=`\n                            </tbody>\n                        </table>\n\n                        <div class="w-100"><br><br></div>\n                        <center>\n                        <table class="col-5 table table-striped table-bordered tablas_rep_mov">\n                            <thead class="thead-dark text-center">\n                                <th scope="col" colspan="2"><h5>INGRESOS ESTIMADOS</h5></th>\n                            </thead>\n                            <tbody>\n                                <tr class="text-center font-weight-bold">\n                                    <td>TOTAL</td>\n                                    <td>S/. ${Math.ceil10(a,-1)}</td>\n                                </tr>\n                            </tbody>\n                        </table>\n                        </center>\n                </div>\n                `,$("#loader_reporte").html(""),$("#load_data_reporte_paga").html(n)}})}diaSemana(){var t=document.getElementById("reporte_fecha");if(""==$("#reporte_fecha").val()){var a=new Date,e=a.getFullYear()+"-"+(a.getMonth()+1)+"-"+a.getDate();$("#reporte_fecha").val(e)}let n=new Date(t.value.replace(/-+/g,"/"));reporte.fecha=n.toLocaleDateString("es-PE",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}diaSemanaIniFin(){var t=document.getElementById("flujo_inicio"),a=document.getElementById("flujo_fin");if(""==$("#flujo_inicio").val()){var e=(n=new Date).getFullYear()+"-"+(n.getMonth()+1)+"-"+n.getDate();$("#flujo_inicio").val(e)}if(""==$("#flujo_fin").val()){var n;e=(n=new Date).getFullYear()+"-"+(n.getMonth()+1)+"-"+n.getDate();$("#flujo_fin").val(e)}let l=new Date(t.value.replace(/-+/g,"/")),s=new Date(a.value.replace(/-+/g,"/")),o={weekday:"long",year:"numeric",month:"long",day:"numeric"};reporte.fecha=l.toLocaleDateString("es-PE",o),reporte.fecha_fin=s.toLocaleDateString("es-PE",o)}}class Cuenta{constructor(){this.idEdit=0,this.metodo=0,this.formulario}listar(){$.ajax({url:"../backend/panel/cuentas/ajax_ver.php",type:"GET",data:{consulta:"buscar"},beforeSend:function(){$("#load_data_cuenta_corriente").html(""),$("#load_table_cuenta_corriente").html('\n                    <div style="">\n                        <br>\n                        <div class="spinner-border text-info" role="status" style="position:relative;left:50%;float:left;">\n                            <span class="sr-only">Loading...</span>\n                        </div><br>\n                        <span style="position:relative;left:50%;float:left;transform:translateX(-67%);margin-top:15px;">Loading...</span>\n                    </div>\n                ')},success:function(t){var a=JSON.parse(t),e="",n=0;a.forEach(t=>{e+=`\n                                            <tr>\n                                                <th scope="row">${++n}</th>\n                                                <td>${t.cli_apellido_pat+" "+t.cli_apellido_mat+" "+t.cli_nombre}</td>\n                                                <td class="text-center">S/. ${t.monto}</td>\n                                    `,"HABILITADO"==t.estado?e+=`\n                                                <td class="text-center"><span class="badge badge-pill badge-success" style="padding:4px 20px;">${t.estado}</span></td>\n                                    `:e+=`\n                                                <td class="text-center"><span class="badge badge-pill badge-danger" style="padding:4px 20px;">${t.estado}</span></td>\n                                    `,e+=`\n                                                <td>\n                                                    <div class="col text-center"> \n                                                        <button style="width:110px;" type="button" class="btn btn-primary" onClick='btn_edit_cuenta("corriente",${t.id});'><i class="fas fa-edit"></i> Editar</button>\n                                                        \x3c!--<button style="width:110px;" type="button" class="btn btn-danger" onclick="modalsDelete('slide',${t.id},'${t.url_foto}');"><i class="fas fa-times-circle"></i> Eliminar</button>--\x3e\n                                                    </div>\n                                                </td>\n                                            </tr>\n                    `}),$("#load_table_cuenta_corriente").html(""),$("#load_data_cuenta_corriente").html(e)}})}listarPF(){$.ajax({url:"../backend/panel/cuentas/plazo_fijo/ajax_ver.php",type:"GET",data:{consulta:"buscar"},beforeSend:function(){$("#load_data_cuenta_pf").html(""),$("#load_table_cuenta_pf").html('\n                    <div style="">\n                        <br>\n                        <div class="spinner-border text-info" role="status" style="position:relative;left:50%;float:left;">\n                            <span class="sr-only">Loading...</span>\n                        </div><br>\n                        <span style="position:relative;left:50%;float:left;transform:translateX(-67%);margin-top:15px;">Loading...</span>\n                    </div>\n                ')},success:function(t){var a=JSON.parse(t),e="",n=0;a.forEach(t=>{switch(e+=`\n                                            <tr>\n                                                <th scope="row">${++n}</th>\n                                                <td>${t.cli_apellido_pat+" "+t.cli_apellido_mat+" "+t.cli_nombre}</td>\n                                                <td class="text-center">${t.fecha_inicio}</td>\n                                                <td class="text-center">${t.fecha_fin}</td>\n                                                <td class="text-center">S/. ${t.monto_inicio}</td>\n                                                <td class="text-center">S/. ${t.monto_fin}</td>\n                                                <td class="text-center">${t.interes}%</td>\n                                    `,t.estado){case"HABILITADO":e+='<td class="text-center"><span class="badge badge-pill badge-info" style="padding:4px 10px;">HABILITADO</span></td>';break;case"DESHABILITADO":e+='<td class="text-center"><span class="badge badge-pill badge-warning" style="padding:4px 10px;">CONGELADO</span></td>';break;case"CUMPLIDO":e+='<td class="text-center"><span class="badge badge-pill badge-success" style="padding:4px 10px;">CUMPLIDO</span></td>';break;case"VENCIDO":e+='<td class="text-center"><span class="badge badge-pill badge-danger" style="padding:4px 10px;">VENCIDO</span></td>'}e+=`\n                                                \x3c!--\n                                                <td>\n                                                    <div class="col text-center"> \n                                                        <button style="width:110px;" type="button" class="btn btn-primary" onClick='btn_edit_cuenta("pf",${t.id});'><i class="fas fa-edit"></i> Editar</button>\n                                                    </div>\n                                                </td>\n                                                --\x3e\n                                                <td><center><button type="button" class="btn btn-primary" onclick='btn_cuenta_print("pf",${t.id});'><i class="fas fa-lg fa-ticket-alt"></i></button></center></td>\n                                            </tr>\n                    `}),$("#load_table_cuenta_pf").html(""),$("#load_data_cuenta_pf").html(e)}})}listarPF_retiro(){$.ajax({url:"../backend/panel/cuentas/plazo_fijo_retiro/ajax_ver.php",type:"GET",data:{consulta:"buscar"},beforeSend:function(){$("#load_data_cuenta_pf_retiro").html(""),$("#load_table_cuenta_pf_retiro").html('\n                    <div style="">\n                        <br>\n                        <div class="spinner-border text-info" role="status" style="position:relative;left:50%;float:left;">\n                            <span class="sr-only">Loading...</span>\n                        </div><br>\n                        <span style="position:relative;left:50%;float:left;transform:translateX(-67%);margin-top:15px;">Loading...</span>\n                    </div>\n                ')},success:function(t){var a=JSON.parse(t),e="";a.forEach(t=>{switch(0,e+=`\n                                            <tr>\n                                                <th class="text-center" scope="row">${t.id}</th>\n                                                <td>${t.cli_apellido_pat+" "+t.cli_apellido_mat+" "+t.cli_nombre}</td>\n                                                <td class="text-center">${t.fecha_inicio}</td>\n                                                <td class="text-center">${t.fecha_fin}</td>\n                                                <td class="text-center">S/. ${t.monto_inicio}</td>\n                                                <td class="text-center">S/. ${t.monto_fin}</td>\n                                                <td class="text-center">${t.interes}%</td>\n                                    `,t.estado){case"HABILITADO":e+=`\n                                                        <td class="text-center"><span class="badge badge-pill badge-info" style="padding:4px 10px;">HABILITADO</span></td>\n                                                        <td>\n                                                            <div class="col text-center"> \n                                                                <button style="width:110px;" type="button" class="btn btn-primary" onClick='btn_retiro_cuenta("pf",${t.id});'><i class="fas fa-donate"></i> Retirar</button>\n                                                            </div>\n                                                        </td>\n                                                        <td></td>\n                                                `;break;case"DESHABILITADO":e+='\n                                                        <td class="text-center"><span class="badge badge-pill badge-warning" style="padding:4px 10px;">CONGELADO</span></td>\n                                                        <td></td>\n                                                        <td></td>\n                                                ';break;case"CUMPLIDO":e+=`\n                                                        <td class="text-center"><span class="badge badge-pill badge-success" style="padding:4px 10px;">CUMPLIDO</span></td>\n                                                        <td>\n                                                            <div class="col text-center"> \n                                                                <button style="width:110px;" type="button" class="btn btn-primary" onClick='btn_retiro_cuenta("pf",${t.id});'><i class="fas fa-donate"></i> Retirar</button>\n                                                            </div>\n                                                        </td>\n                                                        <td></td>\n                                                `;break;case"VENCIDO":e+=`\n                                                        <td class="text-center"><span class="badge badge-pill badge-danger" style="padding:4px 10px;">VENCIDO</span></td>\n                                                        <td></td>\n                                                        <td><center><button type="button" class="btn btn-primary" onclick='btn_cuenta_print("pf_retiro",${t.id});'><i class="fas fa-lg fa-ticket-alt"></i></button></center></td>\n                                                `}e+="             \n                                            </tr>\n                    "}),$("#load_table_cuenta_pf_retiro").html(""),$("#load_data_cuenta_pf_retiro").html(e)}})}registrar(){this.formulario.append("iduser",$("#inputCAJA-hidden").val()),$.ajax({type:"POST",url:"../backend/panel/cuentas/ajax_registrar.php",data:this.formulario,contentType:!1,cache:!1,processData:!1,beforeSend:function(){$(".btn_modals").prop("disabled",!0),$("#msg-ajax-result").html('\n                    <div style="">\n                        <div class="spinner-border text-info" role="status" style="position:relative;left:50%;float:left;">\n                            <span class="sr-only">Loading...</span>\n                        </div>\n                    </div>\n                ')},success:function(t){200==t?($("#msg-ajax-result").html('\n                            <div class="alert alert-success" role="alert"  style="margin-bottom: 10px;">\n                                Registro Correcto!\n                            </div>\n                    '),setTimeout(()=>{cuenta.listar(),$("#modal-add").modal("hide"),$(".btn_modals").prop("disabled",!1),setTimeout(()=>{$("#msg-ajax-result").html("")},700)},600)):($(".btn_modals").prop("disabled",!1),301==t?$("#msg-ajax-result").html('\n                            <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                Se produjo un error al subir el archivo al servidor!\n                            </div>\n                        '):302==t?$("#msg-ajax-result").html('\n                                <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                    Se produjo un error con la base de datos!\n                                </div>\n                            '):$("#msg-ajax-result").html('\n                                <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                    '+t+"\n                                </div>\n                            "))},timeout:3e4,error:function(t,a){$(".btn_modals").prop("disabled",!1),$("#msg-ajax-result").html('\n                                            <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                                Disculpe, existió un problema - '+t.status+" "+t.statusText+"\n                                            </div>\n                ")}})}registrarPF(){this.formulario.append("iduser",$("#inputCAJA-hidden").val()),$.ajax({type:"POST",url:"../backend/panel/cuentas/plazo_fijo/ajax_registrar.php",data:this.formulario,contentType:!1,cache:!1,processData:!1,beforeSend:function(){$(".btn_modals").prop("disabled",!0),$("#msg-ajax-result").html('\n                    <div style="">\n                        <div class="spinner-border text-info" role="status" style="position:relative;left:50%;float:left;">\n                            <span class="sr-only">Loading...</span>\n                        </div>\n                    </div>\n                ')},success:function(t){200==t?($("#msg-ajax-result").html('\n                            <div class="alert alert-success" role="alert"  style="margin-bottom: 10px;">\n                                Registro Correcto!\n                            </div>\n                    '),setTimeout(()=>{cuenta.listarPF(),$("#modal-add").modal("hide"),$(".btn_modals").prop("disabled",!1),setTimeout(()=>{$("#msg-ajax-result").html("")},700)},600)):($(".btn_modals").prop("disabled",!1),301==t?$("#msg-ajax-result").html('\n                            <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                Se produjo un error al subir el archivo al servidor!\n                            </div>\n                        '):302==t?$("#msg-ajax-result").html('\n                                <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                    Se produjo un error con la base de datos!\n                                </div>\n                            '):$("#msg-ajax-result").html('\n                                <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                    '+t+"\n                                </div>\n                            "))},timeout:3e4,error:function(t,a){$(".btn_modals").prop("disabled",!1),$("#msg-ajax-result").html('\n                                            <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                                Disculpe, existió un problema - '+t.status+" "+t.statusText+"\n                                            </div>\n                ")}})}registrarPF_retiro(){this.formulario.append("iduser",$("#inputCAJA-hidden").val()),this.formulario.append("idcuenta",cuenta.idEdit),$.ajax({type:"POST",url:"../backend/panel/cuentas/plazo_fijo_retiro/ajax_registrar.php",data:this.formulario,contentType:!1,cache:!1,processData:!1,beforeSend:function(){$(".btn_modals").prop("disabled",!0),$("#msg-ajax-result").html('\n                    <div style="">\n                        <div class="spinner-border text-info" role="status" style="position:relative;left:50%;float:left;">\n                            <span class="sr-only">Loading...</span>\n                        </div>\n                    </div>\n                ')},success:function(t){"600"==t?($("#msg-ajax-result").html('\n                        <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                            No hay fondos suficientes en la Caja!.\n                        </div>\n                    '),setTimeout(()=>{$(".btn_modals").prop("disabled",!1)},1e3)):200==t?($("#msg-ajax-result").html('\n                                <div class="alert alert-success" role="alert"  style="margin-bottom: 10px;">\n                                    Registro Correcto!\n                                </div>\n                        '),setTimeout(()=>{cuenta.listarPF_retiro(),$("#modal-add").modal("hide"),$(".btn_modals").prop("disabled",!1),setTimeout(()=>{$("#msg-ajax-result").html("")},700)},600)):($(".btn_modals").prop("disabled",!1),301==t?$("#msg-ajax-result").html('\n                                <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                    Se produjo un error al subir el archivo al servidor!\n                                </div>\n                            '):302==t?$("#msg-ajax-result").html('\n                                    <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                        Se produjo un error con la base de datos!\n                                    </div>\n                                '):$("#msg-ajax-result").html('\n                                    <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                        '+t+"\n                                    </div>\n                                "))},timeout:3e4,error:function(t,a){$(".btn_modals").prop("disabled",!1),$("#msg-ajax-result").html('\n                                            <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                                Disculpe, existió un problema - '+t.status+" "+t.statusText+"\n                                            </div>\n                ")}})}editar(t){document.getElementById("formulario-cuenta_corriente").reset(),$("#modal-add").modal("show"),$("#modal-add h4").html("EDITAR CUENTA CORRIENTE"),$.ajax({url:"../backend/panel/cuentas/ajax_ver.php",type:"GET",data:{consulta:"editar",id:t},success:function(a){var e=JSON.parse(a);$("#inputCLIENT").val(e[0].cli_apellido_pat+" "+e[0].cli_apellido_mat+" "+e[0].cli_nombre),$("#inputCLIENT-hidden").val(e[0].id),"HABILITADO"==e[0].estado?$(".modal-btn-cont").html(`\n                        <button type="button" class="btn btn-danger btn_modals" onclick="cuenta.habilitar(${t},0);" style="width:155px;"><i class="fas fa-lg fa-user-lock"></i> Bloquear</button>\n                    `):$(".modal-btn-cont").html(`\n                        <button type="button" class="btn btn-primary btn_modals" onclick="cuenta.habilitar(${t},1);" style="width:155px;"><i class="fas fa-lg fa-user-lock"></i> Desbloquear</button>\n                    `)}})}editarPF(t){document.getElementById("formulario-cuenta_pf").reset(),$("#modal-add").modal("show"),$("#modal-add h4").html("EDITAR CUENTA A PLAZO FIJO"),$.ajax({url:"../backend/panel/cuentas/plazo_fijo/ajax_ver.php",type:"GET",data:{consulta:"editar",id:t},success:function(a){var e=JSON.parse(a);switch($("#inputCLIENT").val(e[0].cli_apellido_pat+" "+e[0].cli_apellido_mat+" "+e[0].cli_nombre),$("#inputCLIENT-hidden").val(e[0].id),$("#pf_MONTO_INI").val(e[0].monto_inicio),$("#pf_MONTO_FIN").val(e[0].monto_fin),$("#pf_FECHA_INI").val(e[0].fecha_inicio_EDT),$("#pf_FECHA_FIN").val(e[0].fecha_fin_EDT),$("#pf_INTERES").val(e[0].interes),e[0].estado){case"HABILITADO":$(".modal-btn-cont").html(`\n                                            <button type="button" class="btn btn-danger btn_modals" onclick="cuenta.habilitarPF(${t},0);" style="width:155px;"><i class="fas fa-lg fa-user-lock"></i> Congelar</button>\n                                        `);break;case"DESHABILITADO":$(".modal-btn-cont").html(`\n                                            <button type="button" class="btn btn-primary btn_modals" onclick="cuenta.habilitarPF(${t},1);" style="width:155px;"><i class="fas fa-lg fa-user-lock"></i> Habilitar</button>\n                                        `)}}})}editarPF_retiro(t){document.getElementById("formulario-cuenta_pf_retiro").reset(),$("#modal-add").modal("show"),$("#modal-add h4").html("RETIRAR CAPITAL DE CUENTA A PLAZO FIJO"),$.ajax({url:"../backend/panel/cuentas/plazo_fijo_retiro/ajax_ver.php",type:"GET",data:{consulta:"editar",id:t},success:function(t){var a=JSON.parse(t);$("#inputCLIENT").val(a[0].cli_apellido_pat+" "+a[0].cli_apellido_mat+" "+a[0].cli_nombre),$("#inputCLIENT-hidden").val(a[0].id),$("#pf_MONTO_INI").val(a[0].monto_inicio),$("#pf_MONTO_FIN").val(a[0].monto_fin),$("#pf_FECHA_INI").val(a[0].fecha_inicio_EDT),$("#pf_FECHA_FIN").val(a[0].fecha_fin_EDT),$("#pf_INTERES").val(a[0].interes),$("#pf_MONTO_FIN").addClass("is-valid")}})}editarDeposito(t,a){$("#modal-add").modal("show"),$("#modal-add h4").html("Modulo de Deposito"),$.ajax({url:"../backend/panel/cuentas/depositos/ajax_movimientos_cc.php",type:"GET",data:{consulta:"editar",id:t},beforeSend:function(){$("#load_data_modal").html('\n                    <tr>\n                        <th scope="row"></th><td></td><td></td><td></td>\n                    </tr>\n                    <tr>\n                        <th scope="row"></th><td></td><td></td><td></td>\n                    </tr>\n                    <tr>\n                        <th scope="row"></th><td></td><td></td><td></td>\n                    </tr>\n                    <tr>\n                        <th scope="row"></th><td></td><td></td><td></td>\n                    </tr>\n                    <tr>\n                        <th scope="row"></th><td></td><td></td><td></td>\n                    </tr>\n                '),$("#load_table_modal1").html('\n                    <div style="">\n                        <br>\n                        <div class="spinner-border text-info" role="status" style="position:relative;left:50%;float:left;">\n                            <span class="sr-only">Loading...</span>\n                        </div><br>\n                        <span style="position:relative;left:50%;float:left;transform:translateX(-67%);margin-top:15px;">Loading...</span>\n                    </div>\n                ')},success:function(t){JSON.parse(t).forEach(t=>{cont_ajax_02+=`\n                                    <tr>\n                                        <th scope="row">${t.id}</th>\n                                        <td>${t.fecha_mov}</td>\n                                        <td>S/.${t.monto_mov}</td>\n                                        <td><button type="button" class="btn btn-primary" onclick='btn_cuenta_print("deposito",${t.id});'><i class="fas fa-lg fa-ticket-alt"></i></button></td>\n                                    `}),$("#load_table_modal1").html(""),$("#load_data_modal").html(void 0)}})}editarSave(t){this.formulario.append("id",t),this.formulario.append("editURLimg",this.editURLimg),this.formulario.append("editURLimg2",this.editURLimg2),$.ajax({url:"backend/panel/clientes/ajax_editar.php",type:"POST",data:this.formulario,contentType:!1,cache:!1,processData:!1,beforeSend:function(){$(".btn_modals").prop("disabled",!0),$("#msg-ajax-result").html('\n                    <div style="">\n                        <div class="spinner-border text-info" role="status" style="position:relative;left:50%;float:left;">\n                            <span class="sr-only">Loading...</span>\n                        </div>\n                    </div>\n                ')},success:function(t){200==t?($("#msg-ajax-result").html('\n                            <div class="alert alert-success" role="alert"  style="margin-bottom: 10px;">\n                                Actualización Correcta!\n                            </div>\n                        '),setTimeout(()=>{cliente.listar(),$("#modal-add").modal("hide"),$(".btn_modals").prop("disabled",!1),cliente.editURLimg=0,cliente.editURLimg2=0,setTimeout(()=>{$("#msg-ajax-result").html("")},700)},600)):($(".btn_modals").prop("disabled",!1),301==t?$("#msg-ajax-result").html('\n                                <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                    Se produjo un error al subir el archivo al servidor!\n                                </div>\n                            '):302==t?$("#msg-ajax-result").html('\n                                    <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                        Se produjo un error con la base de datos!\n                                    </div>\n                                '):$("#msg-ajax-result").html('\n                                    <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                        '+t+"\n                                    </div>\n                                "))},timeout:3e4,error:function(t,a){$(".btn_modals").prop("disabled",!1),$("#msg-ajax-result").html('\n                                <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                    Disculpe, existió un problema - '+t.status+" "+t.statusText+"\n                                </div>\n                    ")}})}deposito(t){this.formulario.append("id",t),$.ajax({url:"../backend/panel/cuentas/depositos/ajax_deposito.php",type:"POST",data:this.formulario,contentType:!1,cache:!1,processData:!1,beforeSend:function(){$(".btn_modals").prop("disabled",!0),$("#msg-ajax-result").html('\n                    <div style="">\n                        <div class="spinner-border text-info" role="status" style="position:relative;left:50%;float:left;">\n                            <span class="sr-only">Loading...</span>\n                        </div>\n                    </div>\n                ')},success:function(t){console.log(t),200==t?($("#msg-ajax-result").html('\n                            <div class="alert alert-success" role="alert"  style="margin-bottom: 10px;">\n                                Se registro el pago correctamente!\n                            </div>\n                        '),setTimeout(()=>{cuenta.buscar_cliente_cobranza_refresh($("#inputCLIENT-hidden").val()),$("#modal-add").modal("hide"),$(".btn_modals").prop("disabled",!1),cuenta.idEdit=0,setTimeout(()=>{$("#msg-ajax-result").html("")},700)},600)):($(".btn_modals").prop("disabled",!1),301==t?$("#msg-ajax-result").html('\n                                <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                    Se produjo un error al subir el archivo al servidor!\n                                </div>\n                            '):302==t?$("#msg-ajax-result").html('\n                                    <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                        Se produjo un error con la base de datos!\n                                    </div>\n                                '):$("#msg-ajax-result").html('\n                                    <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                        '+t+"\n                                    </div>\n                                "))},timeout:3e4,error:function(t,a){$(".btn_modals").prop("disabled",!1),$("#msg-ajax-result").html('\n                                <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                    Disculpe, existió un problema - '+t.status+" "+t.statusText+"\n                                </div>\n                    ")}})}habilitar(t,a){$.ajax({url:"../backend/panel/cuentas/ajax_habilitar.php",type:"POST",data:{id:t,operacion:a},beforeSend:function(){$(".btn_modals").prop("disabled",!0),$("#msg-ajax-result").html('\n                    <div style="">\n                        <div class="spinner-border text-info" role="status" style="position:relative;left:50%;float:left;">\n                            <span class="sr-only">Loading...</span>\n                        </div>\n                    </div>\n                ')},success:function(t){200==t?($("#msg-ajax-result").html('\n                            <div class="alert alert-warning" role="alert"  style="margin-bottom: 10px;">\n                                Se completo la operación!\n                            </div>\n                        '),setTimeout(()=>{cuenta.listar(),$("#modal-add").modal("hide"),$(".btn_modals").prop("disabled",!1),setTimeout(()=>{$("#msg-ajax-result").html("")},700)},700)):$("#msg-ajax-result").html('\n                                    <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                        '+t+"\n                                    </div>\n                        ")},timeout:3e4,error:function(t,a){$(".btn_modals").prop("disabled",!1),$("#msg-ajax-result").html('\n                                <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                    Disculpe, existió un problema - '+t.status+" "+t.statusText+"\n                                </div>\n                    ")}})}habilitarPF(t,a){$.ajax({url:"../backend/panel/cuentas/plazo_fijo/ajax_habilitar.php",type:"POST",data:{id:t,operacion:a},beforeSend:function(){$(".btn_modals").prop("disabled",!0),$("#msg-ajax-result").html('\n                    <div style="">\n                        <div class="spinner-border text-info" role="status" style="position:relative;left:50%;float:left;">\n                            <span class="sr-only">Loading...</span>\n                        </div>\n                    </div>\n                ')},success:function(t){200==t?($("#msg-ajax-result").html('\n                            <div class="alert alert-warning" role="alert"  style="margin-bottom: 10px;">\n                                Se completo la operación!\n                            </div>\n                        '),setTimeout(()=>{cuenta.listarPF(),$("#modal-add").modal("hide"),$(".btn_modals").prop("disabled",!1),setTimeout(()=>{$("#msg-ajax-result").html("")},700)},700)):$("#msg-ajax-result").html('\n                                    <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                        '+t+"\n                                    </div>\n                        ")},timeout:3e4,error:function(t,a){$(".btn_modals").prop("disabled",!1),$("#msg-ajax-result").html('\n                                <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                    Disculpe, existió un problema - '+t.status+" "+t.statusText+"\n                                </div>\n                    ")}})}voucherPF(t){$("#voucher-datos01").html(""),$("#modal-ticket").modal("show"),$.ajax({url:"../backend/panel/cuentas/plazo_fijo/ajax_ver.php",type:"GET",data:{consulta:"editar",id:t},success:function(t){var a=JSON.parse(t);$("#voucher-titulo").html("VOUCHER DE DEPÓSITO"),$("#voucher-datos01").html(`\n                    <tr>\n                        <td>FECHA DEPÓSITO</td>\n                        <td>:</td>\n                        <td>${a[0].fecha_inicio}</td>\n                    </tr>\n                    <tr>\n                        <td>FECHA PACTADA</td>\n                        <td>:</td>\n                        <td>${a[0].fecha_fin}</td>\n                    </tr>\n                    \x3c!--\n                    <tr>\n                        <td>DIRECCIÓN</td>\n                        <td>:</td>\n                        <td>Jr. Parra del Riego 585</td>\n                    </tr>\n                    --\x3e\n             \n                    <tr>\n                        <td>INTERES</td>\n                        <td>:</td>\n                        <td>${a[0].interes} %</td>\n                    </tr>\n                    <tr>\n                        <td>MONTO DEPOSITADO</td>\n                        <td>:</td>\n                        <td>S/. ${a[0].monto_inicio}</td>\n                    </tr>\n                    <tr>\n                        <td>MONTO AL FINAL DEL PLAZO</td>\n                        <td>:</td>\n                        <td>S/. ${a[0].monto_fin}</td>\n                    </tr>\n                    <tr>\n                        <td>CONCEPTO</td>\n                        <td>:</td>\n                        <td>DEPOSITO A PLAZO FIJO</td>\n                    </tr>\n                    <tr>\n                        <td>NRO DE CUENTA</td>\n                        <td>:</td>\n                        <td>${a[0].id}</td>\n                    </tr>\n                    <tr>\n                        <td>AUTORIZA</td>\n                        <td>:</td>\n                        <td>CAJERO</td>\n                    </tr>\n                    <tr>\n                        <td>CLIENTE</td>\n                        <td>:</td>\n                        <td>${a[0].cli_apellido_pat+" "+a[0].cli_apellido_mat+" "+a[0].cli_nombre}</td>\n                    </tr>\n                   \n                    <tr>\n                        <td>CAJERO</td>\n                        <td>:</td>\n                        <td>${a[0].usu_nombre+" "+a[0].usu_apellido_pat+" "+a[0].usu_apellido_mat}</td>\n                    </tr>\n                `),$("#voucher-datos02").html("\n                   \n                ")}})}voucherPF_retiro(t){$("#voucher-datos01").html(""),$("#modal-ticket").modal("show"),$.ajax({url:"../backend/panel/cuentas/plazo_fijo_retiro/ajax_ver.php",type:"GET",data:{consulta:"editar",id:t},success:function(t){var a=JSON.parse(t);$("#voucher-titulo").html("VOUCHER DE RETIRO"),$("#voucher-datos01").html(`\n                    <tr>\n                        <td>FECHA RETIRO</td>\n                        <td>:</td>\n                        <td>${a[0].fecha_retiro}</td>\n                    </tr>\n                    <tr>\n                        <td>FECHA DEPÓSITO</td>\n                        <td>:</td>\n                        <td>${a[0].fecha_inicio}</td>\n                    </tr>\n                    <tr>\n                        <td>FECHA PACTADA</td>\n                        <td>:</td>\n                        <td>${a[0].fecha_fin}</td>\n                    </tr>\n                    \x3c!--\n                    <tr>\n                        <td>DIRECCIÓN</td>\n                        <td>:</td>\n                        <td>Jr. Parra del Riego 585</td>\n                    </tr>\n                    --\x3e\n             \n                    <tr>\n                        <td>INTERES</td>\n                        <td>:</td>\n                        <td>${a[0].interes} %</td>\n                    </tr>\n                    <tr>\n                        <td>MONTO INICIAL</td>\n                        <td>:</td>\n                        <td>S/. ${a[0].monto_inicio}</td>\n                    </tr>\n                    <tr>\n                        <td>MONTO RETIRADO</td>\n                        <td>:</td>\n                        <td>S/. ${a[0].monto_fin}</td>\n                    </tr>\n                    <tr>\n                        <td>CONCEPTO</td>\n                        <td>:</td>\n                        <td>RETIRO DE CUENTA A PLAZO FIJO</td>\n                    </tr>\n                    <tr>\n                        <td>NRO DE CUENTA</td>\n                        <td>:</td>\n                        <td>${a[0].id}</td>\n                    </tr>\n                    <tr>\n                        <td>AUTORIZA</td>\n                        <td>:</td>\n                        <td>CAJERO</td>\n                    </tr>\n                    <tr>\n                        <td>CLIENTE</td>\n                        <td>:</td>\n                        <td>${a[0].cli_apellido_pat+" "+a[0].cli_apellido_mat+" "+a[0].cli_nombre}</td>\n                    </tr>\n                   \n                    <tr>\n                        <td>CAJERO</td>\n                        <td>:</td>\n                        <td>${a[0].usu_nombre+" "+a[0].usu_apellido_pat+" "+a[0].usu_apellido_mat}</td>\n                    </tr>\n                `),$("#voucher-datos02").html("\n                   \n                ")}})}buscar_pf(t){var a=$("#cuenta_buscar_tipo").val();$.ajax({url:"../backend/panel/cuentas/plazo_fijo/ajax_buscar_cuenta.php",type:"GET",data:{clave:t,tipo:a},beforeSend:function(){$("#load_data_cuenta_pf").html(""),$("#load_table_cuenta_pf").html('\n                    <div style="">\n                        <br>\n                        <div class="spinner-border text-info" role="status" style="position:relative;left:50%;float:left;">\n                            <span class="sr-only">Loading...</span>\n                        </div><br>\n                        <span style="position:relative;left:50%;float:left;transform:translateX(-67%);margin-top:15px;">Loading...</span>\n                    </div>\n                ')},success:function(t){var a=JSON.parse(t),e="",n=0;a.forEach(t=>{switch(e+=`\n                                            <tr>\n                                                <th scope="row">${++n}</th>\n                                                <td>${t.cli_apellido_pat+" "+t.cli_apellido_mat+" "+t.cli_nombre}</td>\n                                                <td class="text-center">${t.fecha_inicio}</td>\n                                                <td class="text-center">${t.fecha_fin}</td>\n                                                <td class="text-center">S/. ${t.monto_inicio}</td>\n                                                <td class="text-center">S/. ${t.monto_fin}</td>\n                                                <td class="text-center">${t.interes}%</td>\n                                    `,t.estado){case"HABILITADO":e+='<td class="text-center"><span class="badge badge-pill badge-info" style="padding:4px 10px;">HABILITADO</span></td>';break;case"DESHABILITADO":e+='<td class="text-center"><span class="badge badge-pill badge-warning" style="padding:4px 10px;">CONGELADO</span></td>';break;case"CUMPLIDO":e+='<td class="text-center"><span class="badge badge-pill badge-success" style="padding:4px 10px;">CUMPLIDO</span></td>';break;case"VENCIDO":e+='<td class="text-center"><span class="badge badge-pill badge-danger" style="padding:4px 10px;">VENCIDO</span></td>'}e+=`\n                                                \x3c!--\n                                                <td>\n                                                    <div class="col text-center"> \n                                                        <button style="width:110px;" type="button" class="btn btn-primary" onClick='btn_edit_cuenta("pf",${t.id});'><i class="fas fa-edit"></i> Editar</button>\n                                                    </div>\n                                                </td>\n                                                --\x3e\n                                                <td><center><button type="button" class="btn btn-primary" onclick='btn_cuenta_print("pf",${t.id});'><i class="fas fa-lg fa-ticket-alt"></i></button></center></td>\n                                            </tr>\n                    `}),$("#load_table_cuenta_pf").html(""),$("#load_data_cuenta_pf").html(e)}})}buscar_pf_retiro(t){var a=$("#cuenta_buscar_tipo").val();$.ajax({url:"../backend/panel/cuentas/plazo_fijo_retiro/ajax_buscar_cuenta.php",type:"GET",data:{clave:t,tipo:a},beforeSend:function(){$("#load_data_cuenta_pf_retiro").html(""),$("#load_table_cuenta_pf_retiro").html('\n                    <div style="">\n                        <br>\n                        <div class="spinner-border text-info" role="status" style="position:relative;left:50%;float:left;">\n                            <span class="sr-only">Loading...</span>\n                        </div><br>\n                        <span style="position:relative;left:50%;float:left;transform:translateX(-67%);margin-top:15px;">Loading...</span>\n                    </div>\n                ')},success:function(t){var a=JSON.parse(t),e="";a.forEach(t=>{switch(0,e+=`\n                                            <tr>\n                                                <th class="text-center" scope="row">${t.id}</th>\n                                                <td>${t.cli_apellido_pat+" "+t.cli_apellido_mat+" "+t.cli_nombre}</td>\n                                                <td class="text-center">${t.fecha_inicio}</td>\n                                                <td class="text-center">${t.fecha_fin}</td>\n                                                <td class="text-center">S/. ${t.monto_inicio}</td>\n                                                <td class="text-center">S/. ${t.monto_fin}</td>\n                                                <td class="text-center">${t.interes}%</td>\n                                    `,t.estado){case"HABILITADO":e+=`\n                                                        <td class="text-center"><span class="badge badge-pill badge-info" style="padding:4px 10px;">HABILITADO</span></td>\n                                                        <td>\n                                                            <div class="col text-center"> \n                                                                <button style="width:110px;" type="button" class="btn btn-primary" onClick='btn_retiro_cuenta("pf",${t.id});'><i class="fas fa-donate"></i> Retirar</button>\n                                                            </div>\n                                                        </td>\n                                                        <td></td>\n                                                `;break;case"DESHABILITADO":e+='\n                                                        <td class="text-center"><span class="badge badge-pill badge-warning" style="padding:4px 10px;">CONGELADO</span></td>\n                                                        <td></td>\n                                                        <td></td>\n                                                ';break;case"CUMPLIDO":e+=`\n                                                        <td class="text-center"><span class="badge badge-pill badge-success" style="padding:4px 10px;">CUMPLIDO</span></td>\n                                                        <td>\n                                                            <div class="col text-center"> \n                                                                <button style="width:110px;" type="button" class="btn btn-primary" onClick='btn_retiro_cuenta("pf",${t.id});'><i class="fas fa-donate"></i> Retirar</button>\n                                                            </div>\n                                                        </td>\n                                                        <td></td>\n                                                `;break;case"VENCIDO":e+=`\n                                                        <td class="text-center"><span class="badge badge-pill badge-danger" style="padding:4px 10px;">VENCIDO</span></td>\n                                                        <td></td>\n                                                        <td><center><button type="button" class="btn btn-primary" onclick='btn_cuenta_print("pf",${t.id});'><i class="fas fa-lg fa-ticket-alt"></i></button></center></td>\n                                                `}e+="             \n                                            </tr>\n                    "}),$("#load_table_cuenta_pf_retiro").html(""),$("#load_data_cuenta_pf_retiro").html(e)}})}buscarUserCaja(){$.ajax({url:"../backend/panel/cuentas/ajax_buscar_cajero.php",type:"GET",success:function(t){var a=JSON.parse(t);""!=a&&null!=a?($("#inputCAJA").removeClass("is-invalid"),$("#inputCAJA").addClass("is-valid"),$("#inputCAJA-hidden").val(a[0].idcajero),$("#inputCAJA").val(a[0].nombre+" "+a[0].apellido_pat+" "+a[0].apellido_mat)):($("#inputCAJA").removeClass("is-valid"),$("#inputCAJA").addClass("is-invalid"))}})}buscarFechaHora(){$.ajax({url:"../backend/panel/solicitud_fecha_hora.php",type:"GET",success:function(t){var a=JSON.parse(t);$("#pf_FECHA_INI").val(a[0].fecha)}})}buscar_cliente_deposito(t){var a=$("#cuenta_buscar_tipo").val();$.ajax({url:"../backend/panel/cuentas/depositos/ajax_buscar_cuenta.php",type:"GET",data:{clave:t,tipo:a},beforeSend:function(){$("#load_data_cuenta").html(""),$("#load_table_cuenta").html('\n                    <div style="">\n                        <br>\n                        <div class="spinner-border text-info" role="status" style="position:relative;left:50%;float:left;">\n                            <span class="sr-only">Loading...</span>\n                        </div><br>\n                        <span style="position:relative;left:50%;float:left;transform:translateX(-67%);margin-top:15px;">Loading...</span>\n                    </div>\n                ')},success:function(t){var a=JSON.parse(t),e="",n=0;a.forEach(t=>{e+=`\n                                            <tr>\n                                                <th scope="row">${++n}</th>\n                                                <td>${t.cli_apellido_pat+" "+t.cli_apellido_mat+" "+t.cli_nombre}</td>\n                                                <td class="text-center">S/. ${t.monto}</td>\n                                    `,"HABILITADO"==t.estado?e+=`\n                                                <td class="text-center"><span class="badge badge-pill badge-success" style="padding:4px 20px;">${t.estado}</span></td>\n                                    `:e+=`\n                                                <td class="text-center"><span class="badge badge-pill badge-danger" style="padding:4px 20px;">${t.estado}</span></td>\n                                    `,e+=`\n                                                <td>\n                                                    <div class="col text-center"> \n                                                        <button style="width:160px;" type="button" class="btn btn-primary" onClick="btn_edit_deposito(${t.id},${t.idcliente});"><i class="fas fa-lg fa-donate"></i> Depositar</button>\n                                                        \x3c!--<button style="width:110px;" type="button" class="btn btn-danger" onclick="modalsDelete('slide',${t.id},'${t.url_foto}');"><i class="fas fa-times-circle"></i> Eliminar</button>--\x3e\n                                                    </div>\n                                                </td>\n                                            </tr>\n                    `}),$("#load_table_cuenta").html(""),$("#load_data_cuenta").html(e)}})}buscar_cliente_deposito_autocomplete(t){$.ajax({url:"../backend/panel/cuentas/ajax_buscar_cliente_id.php",type:"GET",data:{clave:t},success:function(t){var a=JSON.parse(t);$("#inputCLIENT").addClass("is-valid"),$("#inputCLIENT").val(a[0].nombre+" "+a[0].apellido_pat+" "+a[0].apellido_mat),$("#inputCLIENT-hidden").val(a[0].id)}})}buscar_cliente_cobranza_refresh(t){$.ajax({url:"../backend/panel/cuentas/depositos/ajax_buscar_cuenta_refresh.php",type:"GET",data:{clave:t},beforeSend:function(){$("#load_data_cuenta").html(""),$("#load_table_cuenta").html('\n                    <div style="">\n                        <br>\n                        <div class="spinner-border text-info" role="status" style="position:relative;left:50%;float:left;">\n                            <span class="sr-only">Loading...</span>\n                        </div><br>\n                        <span style="position:relative;left:50%;float:left;transform:translateX(-67%);margin-top:15px;">Loading...</span>\n                    </div>\n                ')},success:function(t){var a=JSON.parse(t),e="",n=0;a.forEach(t=>{e+=`\n                                            <tr>\n                                                <th scope="row">${++n}</th>\n                                                <td>${t.cli_apellido_pat+" "+t.cli_apellido_mat+" "+t.cli_nombre}</td>\n                                                <td class="text-center">S/. ${t.monto}</td>\n                                    `,"HABILITADO"==t.estado?e+=`\n                                                <td class="text-center"><span class="badge badge-pill badge-success" style="padding:4px 20px;">${t.estado}</span></td>\n                                    `:e+=`\n                                                <td class="text-center"><span class="badge badge-pill badge-danger" style="padding:4px 20px;">${t.estado}</span></td>\n                                    `,e+=`\n                                                <td>\n                                                    <div class="col text-center"> \n                                                        <button style="width:160px;" type="button" class="btn btn-primary" onClick="btn_edit_deposito(${t.id},${t.idcliente});"><i class="fas fa-lg fa-donate"></i> Depositar</button>\n                                                        \x3c!--<button style="width:110px;" type="button" class="btn btn-danger" onclick="modalsDelete('slide',${t.id},'${t.url_foto}');"><i class="fas fa-times-circle"></i> Eliminar</button>--\x3e\n                                                    </div>\n                                                </td>\n                                            </tr>\n                    `}),$("#load_table_cuenta").html(""),$("#load_data_cuenta").html(e)}})}calcular_pf_interes(){var t=parseFloat($("#pf_MONTO_INI").val()),a=t+t*parseFloat($("#pf_INTERES").val())/100;$("#pf_MONTO_FIN").val(Math.ceil10(a,-1))}}var solicitud_monto,solicitud_cuotas,solicitud_frecuencia,solicitud_interes,solicitud_inicio,interes_cuota_final,datalist_id_cliente,datalist_id_conyugue,datalist_id_aval,datalist_id_cajero,datalist_id_resp_trans,user,cliente,conyugue,negocio,credito,caja,reporte,cuenta;function btn_add(t){switch(t){case"usuarios":$(".nav-item").removeClass("active"),$("#nav-general-tab").addClass("active"),$(".tab-pane").removeClass("active show"),$("#nav-general").addClass("active show"),document.getElementById("formulario-usuarios").reset(),$("#modal-add h4").html("Nuevo Usuario"),$("#msg-ajax-result").html(""),$(".modal-btn-cont").html(""),$("#load_foto_modal").html('<img src="img/user.png" width="100%">'),user.idEdit=0,user.metodo=1,user.editURLimg=0;break;case"clientes":$("#nav-conyugue-tab").addClass("disabled"),$("#nav-negocio-tab").addClass("disabled"),$(".nav-item").removeClass("active"),$("#nav-general-tab").addClass("active"),$(".tab-pane").removeClass("active show"),$("#nav-general").addClass("active show"),document.getElementById("formulario-clientes").reset(),$("#modal-add h4").html("REGISTRAR CLIENTE"),$("#msg-ajax-result").html(""),$(".modal-btn-cont").html(""),$("#load_foto_modal").html('<img src="img/user.png" width="100%">'),cliente.idEdit=0,cliente.metodo=1,cliente.editURLimg=0,cliente.editURLimg2=0;break;case"conyugue":document.getElementById("formulario-conyugue").reset(),$("#modal-add-conyugue h4").html("REGISTRAR CONYUGUE"),$("#conyugue-ajax-result").html(""),$(".modal-btn-cont-2").html(""),$("#input_con_CA1").attr("disabled",!1),$("#input_con_CA2").attr("disabled",!1),conyugue.idEdit=0,conyugue.metodo=1;break;case"negocio":document.getElementById("formulario-negocio").reset(),$("#modal-add-negocio h4").html("Nuevo Negocio"),$("#negocio-ajax-result").html(""),$(".modal-btn-cont-2").html(""),negocio.idEdit=0,negocio.metodo=1,negocio.editURLimg=0,negocio.editURLimg2=0,negocio.tipo="NEGOCIO";break;case"transporte":document.getElementById("formulario-transporte").reset(),$("#modal-add-transporte h4").html("Nuevo Negocio de transporte"),$("#transporte-ajax-result").html(""),$(".modal-btn-cont-2").html(""),$("#input_trans_SOAT_CAD").attr("readonly","readonly"),$("#input_trans_SOAT_CAD").prop("required",!1),$("#input_trans_TARJETA_CAD").attr("readonly","readonly"),$("#input_trans_TARJETA_CAD").prop("required",!1),negocio.idEdit=0,negocio.metodo=1,negocio.editURLimg=0,negocio.editURLimg2=0,negocio.tipo="TRANSPORTE";break;case"consumo":document.getElementById("formulario-consumo").reset(),$("#modal-add-consumo h4").html("Nuevo Credito de Consumo"),$("#consumo-ajax-result").html(""),$(".modal-btn-cont-2").html(""),negocio.idEdit=0,negocio.metodo=1}}function btn_edit(t,a,e){switch(t){case"usuarios":$(".nav-item").removeClass("active"),$("#nav-general-tab").addClass("active"),$(".tab-pane").removeClass("active show"),$("#nav-general").addClass("active show"),user.metodo=2,user.idEdit=a,user.editURLimg=0,user.editar(a);break;case"clientes":$("#nav-conyugue-tab").removeClass("disabled"),$("#nav-negocio-tab").removeClass("disabled"),$(".nav-item").removeClass("active"),$("#nav-general-tab").addClass("active"),$(".tab-pane").removeClass("active show"),$("#nav-general").addClass("active show"),cliente.metodo=2,cliente.idEdit=a,cliente.editURLimg=0,cliente.editURLimg2=0,cliente.editar(a);break;case"conyugue":conyugue.metodo=2,conyugue.idEdit=a,conyugue.editar(a,e);break;case"negocio":document.getElementById("formulario-negocio").reset(),$("#modal-add-negocio").modal("show"),$("#modal-add-negocio h4").html("Editar Negocio"),negocio.metodo=2,negocio.idEdit=a,negocio.editURLimg=0,negocio.editURLimg2=0,negocio.tipo="NEGOCIO",negocio.editar(a);break;case"transporte":document.getElementById("formulario-transporte").reset(),$("#modal-add-transporte").modal("show"),$("#modal-add-transporte h4").html("Editar Negocio de Transporte"),$("#input_trans_SOAT_CAD").attr("readonly","readonly"),$("#input_trans_SOAT_CAD").prop("required",!1),$("#input_trans_TARJETA_CAD").attr("readonly","readonly"),$("#input_trans_TARJETA_CAD").prop("required",!1),negocio.metodo=2,negocio.idEdit=a,negocio.editURLimg=0,negocio.editURLimg2=0,negocio.tipo="TRANSPORTE",negocio.editar(a);break;case"consumo":document.getElementById("formulario-consumo").reset(),$("#modal-add-consumo").modal("show"),$("#modal-add-consumo h4").html("Editar Credito de Consumo"),negocio.metodo=2,negocio.idEdit=a,negocio.editarConsumo(a)}}function btn_add_credito(t){switch(t){case"solicitud":$("#load_data_modal").html('\n                                    <tr><th scope="row" style="height:25px;"></th><td></td><td></td><td></td></tr>\n                                    <tr><th scope="row" style="height:25px;"></th><td></td><td></td><td></td></tr>\n                                    <tr><th scope="row" style="height:25px;"></th><td></td><td></td><td></td></tr>\n                                    <tr><th scope="row" style="height:25px;"></th><td></td><td></td><td></td></tr>\n                                    <tr><th scope="row" style="height:25px;"></th><td></td><td></td><td></td></tr>\n                            '),solicitud_monto="",solicitud_cuotas="",solicitud_frecuencia="",solicitud_interes="",solicitud_inicio="",datalist_id_cliente=null,datalist_id_conyugue=null,datalist_id_aval=null,$("#inputCLIENT").removeClass("is-invalid"),$("#inputCLIENT").removeClass("is-valid"),$("#inputASES").removeClass("is-invalid"),$("#inputASES").removeClass("is-valid"),$("#inputCONY_AJAX").removeClass("is-valid"),$("#inputCONY_AJAX").removeClass("is-invalid"),$("#inputAVAL_AJAX").removeClass("is-valid"),$("#inputAVAL_AJAX").removeClass("is-invalid"),$("#inputCONY_AJAX").attr("readonly","readonly"),$("#inputAVAL_AJAX").attr("readonly","readonly"),$("#inputCONY").prop("checked",!1),$("#inputAVAL").prop("checked",!1),document.getElementById("formulario-solicitud").reset(),$("#modal-add h4").html("Nueva Solicitud de Crédito"),$("#msg-ajax-result").html(""),$(".modal-btn-cont").html(""),credito.idEdit=0,credito.metodo=1,credito.buscarUsuario()}}function btn_edit_credito(t,a){switch(t){case"solicitud":$("#load_data_modal").html('\n                                    <tr><th scope="row" style="height:25px;"></th><td></td><td></td><td></td></tr>\n                                    <tr><th scope="row" style="height:25px;"></th><td></td><td></td><td></td></tr>\n                                    <tr><th scope="row" style="height:25px;"></th><td></td><td></td><td></td></tr>\n                                    <tr><th scope="row" style="height:25px;"></th><td></td><td></td><td></td></tr>\n                                    <tr><th scope="row" style="height:25px;"></th><td></td><td></td><td></td></tr>\n                            '),solicitud_monto="",solicitud_cuotas="",solicitud_frecuencia="",solicitud_interes="",solicitud_inicio="",$("#inputCLIENT").removeClass("is-invalid"),$("#inputCLIENT").removeClass("is-valid"),$("#inputASES").removeClass("is-invalid"),$("#inputASES").removeClass("is-valid"),$("#inputCONY_AJAX").removeClass("is-valid"),$("#inputCONY_AJAX").removeClass("is-invalid"),$("#inputAVAL_AJAX").removeClass("is-valid"),$("#inputAVAL_AJAX").removeClass("is-invalid"),$("#inputCONY_AJAX").attr("readonly","readonly"),$("#inputAVAL_AJAX").attr("readonly","readonly"),$("#inputCONY").prop("checked",!1),$("#inputAVAL").prop("checked",!1),document.getElementById("formulario-solicitud").reset(),$("#modal-add h4").html("Modificar Solicitud"),$("#msg-ajax-result").html(""),$(".modal-btn-cont").html(""),credito.idEdit=a,credito.metodo=2,credito.editar(a);break;case"aprobacion":$("#load_data_modal").html('\n                                    <tr><th scope="row" style="height:25px;"></th><td></td><td></td><td></td></tr>\n                                    <tr><th scope="row" style="height:25px;"></th><td></td><td></td><td></td></tr>\n                                    <tr><th scope="row" style="height:25px;"></th><td></td><td></td><td></td></tr>\n                                    <tr><th scope="row" style="height:25px;"></th><td></td><td></td><td></td></tr>\n                                    <tr><th scope="row" style="height:25px;"></th><td></td><td></td><td></td></tr>\n                            '),solicitud_monto="",solicitud_cuotas="",solicitud_frecuencia="",solicitud_interes="",solicitud_inicio="",$("#inputADMIN").removeClass("is-invalid"),$("#inputADMIN").removeClass("is-valid"),$("#inputCLIENT").removeClass("is-invalid"),$("#inputCLIENT").removeClass("is-valid"),$("#inputASES").removeClass("is-invalid"),$("#inputASES").removeClass("is-valid"),$("#inputCONY_AJAX").removeClass("is-valid"),$("#inputCONY_AJAX").removeClass("is-invalid"),$("#inputAVAL_AJAX").removeClass("is-valid"),$("#inputAVAL_AJAX").removeClass("is-invalid"),$("#inputCONY_AJAX").attr("readonly","readonly"),$("#inputAVAL_AJAX").attr("readonly","readonly"),$("#inputCONY").prop("checked",!1),$("#inputAVAL").prop("checked",!1),document.getElementById("formulario-aprobacion").reset(),$("#modal-add h4").html("Aprobar/Desaprobar solicitud"),$("#msg-ajax-result").html(""),$(".modal-btn-cont").html(""),credito.idEdit=a,credito.metodo=2,credito.editarAprobacion(a),credito.buscarAdmin();break;case"desembolso":$("#load_data_modal").html('\n                                        <tr><th scope="row" style="height:25px;"></th><td></td><td></td><td></td></tr>\n                                        <tr><th scope="row" style="height:25px;"></th><td></td><td></td><td></td></tr>\n                                        <tr><th scope="row" style="height:25px;"></th><td></td><td></td><td></td></tr>\n                                        <tr><th scope="row" style="height:25px;"></th><td></td><td></td><td></td></tr>\n                                        <tr><th scope="row" style="height:25px;"></th><td></td><td></td><td></td></tr>\n                                '),solicitud_monto="",solicitud_cuotas="",solicitud_frecuencia="",solicitud_interes="",solicitud_inicio="",$("#inputCAJA").removeClass("is-invalid"),$("#inputCAJA").removeClass("is-valid"),$("#inputADMIN").removeClass("is-invalid"),$("#inputADMIN").removeClass("is-valid"),$("#inputCLIENT").removeClass("is-invalid"),$("#inputCLIENT").removeClass("is-valid"),$("#inputASES").removeClass("is-invalid"),$("#inputASES").removeClass("is-valid"),$("#inputCONY_AJAX").removeClass("is-valid"),$("#inputCONY_AJAX").removeClass("is-invalid"),$("#inputAVAL_AJAX").removeClass("is-valid"),$("#inputAVAL_AJAX").removeClass("is-invalid"),$("#inputCONY_AJAX").attr("readonly","readonly"),$("#inputAVAL_AJAX").attr("readonly","readonly"),$("#inputCONY").prop("checked",!1),$("#inputAVAL").prop("checked",!1),document.getElementById("formulario-desembolso").reset(),$("#modal-add h4").html("Desembolsar Crédito"),$("#msg-ajax-result").html(""),$(".modal-btn-cont").html(""),credito.idEdit=a,credito.metodo=2,caja.buscarCajas(),credito.editarDesembolso(a),credito.buscarCaja();break;case"extornar":$("#load_data_modal").html('\n                                        <tr><th scope="row" style="height:25px;"></th><td></td><td></td><td></td></tr>\n                                        <tr><th scope="row" style="height:25px;"></th><td></td><td></td><td></td></tr>\n                                        <tr><th scope="row" style="height:25px;"></th><td></td><td></td><td></td></tr>\n                                        <tr><th scope="row" style="height:25px;"></th><td></td><td></td><td></td></tr>\n                                        <tr><th scope="row" style="height:25px;"></th><td></td><td></td><td></td></tr>\n                                '),solicitud_monto="",solicitud_cuotas="",solicitud_frecuencia="",solicitud_interes="",solicitud_inicio="",$("#inputCAJA").removeClass("is-invalid"),$("#inputCAJA").removeClass("is-valid"),$("#inputADMIN").removeClass("is-invalid"),$("#inputADMIN").removeClass("is-valid"),$("#inputCLIENT").removeClass("is-invalid"),$("#inputCLIENT").removeClass("is-valid"),$("#inputASES").removeClass("is-invalid"),$("#inputASES").removeClass("is-valid"),$("#inputCONY_AJAX").removeClass("is-valid"),$("#inputCONY_AJAX").removeClass("is-invalid"),$("#inputAVAL_AJAX").removeClass("is-valid"),$("#inputAVAL_AJAX").removeClass("is-invalid"),$("#inputCONY_AJAX").attr("readonly","readonly"),$("#inputAVAL_AJAX").attr("readonly","readonly"),$("#inputCONY").prop("checked",!1),$("#inputAVAL").prop("checked",!1),document.getElementById("formulario-desembolso").reset(),$("#modal-add h4").html("Extornar Desembolso"),$("#msg-ajax-result").html(""),$(".modal-btn-cont").html(""),credito.idEdit=a,credito.metodo=2,caja.buscarCajas(),credito.editarExtorno(a),credito.buscarCaja()}}function btn_ver_credito(t,a){switch(t){case"solicitud":$("#load_data_modal-w").html('\n                                    <tr><th scope="row" style="height:25px;"></th><td></td><td></td><td></td></tr>\n                                    <tr><th scope="row" style="height:25px;"></th><td></td><td></td><td></td></tr>\n                                    <tr><th scope="row" style="height:25px;"></th><td></td><td></td><td></td></tr>\n                                    <tr><th scope="row" style="height:25px;"></th><td></td><td></td><td></td></tr>\n                                    <tr><th scope="row" style="height:25px;"></th><td></td><td></td><td></td></tr>\n                            '),solicitud_monto="",solicitud_cuotas="",solicitud_frecuencia="",solicitud_interes="",solicitud_inicio="",$("#inputCLIENT-w").removeClass("is-invalid"),$("#inputCLIENT-w").removeClass("is-valid"),$("#inputASES-w").removeClass("is-invalid"),$("#inputASES-w").removeClass("is-valid"),$("#inputCONY_AJAX-w").removeClass("is-valid"),$("#inputCONY_AJAX-w").removeClass("is-invalid"),$("#inputAVAL_AJAX-w").removeClass("is-valid"),$("#inputAVAL_AJAX-w").removeClass("is-invalid"),$("#inputCONY_AJAX-w").attr("readonly","readonly"),$("#inputAVAL_AJAX-w").attr("readonly","readonly"),$("#inputCONY-w").prop("checked",!1),$("#inputAVAL-w").prop("checked",!1),document.getElementById("formulario-solicitud-view").reset(),$("#modal-add-view h4").html("Detalles de la Solicitud"),$("#msg-ajax-result-w").html(""),$(".modal-btn-cont").html(""),credito.idEdit=0,credito.metodo=0,credito.verDetalles(a);break;case"aprobacion":$("#load_data_modal-w").html('\n                                    <tr><th scope="row" style="height:25px;"></th><td></td><td></td><td></td></tr>\n                                    <tr><th scope="row" style="height:25px;"></th><td></td><td></td><td></td></tr>\n                                    <tr><th scope="row" style="height:25px;"></th><td></td><td></td><td></td></tr>\n                                    <tr><th scope="row" style="height:25px;"></th><td></td><td></td><td></td></tr>\n                                    <tr><th scope="row" style="height:25px;"></th><td></td><td></td><td></td></tr>\n                            '),solicitud_monto="",solicitud_cuotas="",solicitud_frecuencia="",solicitud_interes="",solicitud_inicio="",$("#inputADMIN-w").removeClass("is-invalid"),$("#inputADMIN-w").removeClass("is-valid"),$("#inputCLIENT-w").removeClass("is-invalid"),$("#inputCLIENT-w").removeClass("is-valid"),$("#inputASES-w").removeClass("is-invalid"),$("#inputASES-w").removeClass("is-valid"),$("#inputCONY_AJAX-w").removeClass("is-valid"),$("#inputCONY_AJAX-w").removeClass("is-invalid"),$("#inputAVAL_AJAX-w").removeClass("is-valid"),$("#inputAVAL_AJAX-w").removeClass("is-invalid"),$("#inputCONY_AJAX-w").attr("readonly","readonly"),$("#inputAVAL_AJAX-w").attr("readonly","readonly"),$("#inputCONY-w").prop("checked",!1),$("#inputAVAL-w").prop("checked",!1),document.getElementById("formulario-aprobacion-view").reset(),$("#modal-add-view h4").html("Detalles de la Aprobación"),$("#msg-ajax-result-w").html(""),$(".modal-btn-cont").html(""),credito.idEdit=0,credito.metodo=0,credito.verDetallesADM(a)}}function btn_desembolso_print(t,a){switch(t){case"voucher":credito.voucher(a);break;case"cronograma":credito.cronograma(a);break;case"contrato":credito.contrato(a)}}function btn_pago_print(t,a){switch(t){case"voucher":credito.voucherPago(a)}}function btn_movimientos_print(t,a){switch(t){case"voucher":caja.voucher(a)}}function btn_transferencias_print(t,a){switch(t){case"voucher":caja.voucherTransferencia(a)}}function btn_cuenta_print(t,a){switch(t){case"pf":cuenta.voucherPF(a);break;case"pf_retiro":cuenta.voucherPF_retiro(a)}}function btn_edit_cobranza(t,a){$("#load_data_modal").html('\n        <tr><th scope="row" style="height:25px;"></th><td></td><td></td><td></td></tr>\n        <tr><th scope="row" style="height:25px;"></th><td></td><td></td><td></td></tr>\n        <tr><th scope="row" style="height:25px;"></th><td></td><td></td><td></td></tr>\n        <tr><th scope="row" style="height:25px;"></th><td></td><td></td><td></td></tr>\n        <tr><th scope="row" style="height:25px;"></th><td></td><td></td><td></td></tr>\n    '),solicitud_monto="",solicitud_cuotas="",solicitud_frecuencia="",solicitud_interes="",solicitud_inicio="",$("#inputCAJA").removeClass("is-invalid"),$("#inputCAJA").removeClass("is-valid"),$("#inputCLIENT").removeClass("is-invalid"),$("#inputCLIENT").removeClass("is-valid"),document.getElementById("formulario-cobranza").reset(),$("#modal-add h4").html("Modulo de Cobranza"),$("#msg-ajax-result").html(""),$(".modal-btn-cont").html(""),credito.idEdit=t,credito.metodo=2,caja.buscarCajas(),credito.buscarCaja(),credito.buscar_cliente_cobranza_autocomplete(a),credito.editarCobranza(t,a),credito.listarVoucherPago(t)}function btn_condonar_cobranza(t,a){$("#load_data_modal-c").html('\n        <tr><th scope="row" style="height:25px;"></th><td></td><td></td><td></td></tr>\n        <tr><th scope="row" style="height:25px;"></th><td></td><td></td><td></td></tr>\n        <tr><th scope="row" style="height:25px;"></th><td></td><td></td><td></td></tr>\n        <tr><th scope="row" style="height:25px;"></th><td></td><td></td><td></td></tr>\n        <tr><th scope="row" style="height:25px;"></th><td></td><td></td><td></td></tr>\n    '),solicitud_monto="",solicitud_cuotas="",solicitud_frecuencia="",solicitud_interes="",solicitud_inicio="",$("#inputCAJA-c").removeClass("is-invalid"),$("#inputCAJA-c").removeClass("is-valid"),$("#inputCLIENT-c").removeClass("is-invalid"),$("#inputCLIENT-c").removeClass("is-valid"),document.getElementById("formulario-condonar").reset(),$("#modal-condonar h4").html("Modulo de Condonaciones"),$("#msg-ajax-result-c").html(""),$(".modal-btn-cont").html(""),credito.idEdit=t,credito.metodo=2,credito.buscarResponsable(),credito.buscar_cliente_condonacion_autocomplete(a),credito.editarCondonacion(t,a),credito.listarVoucherPagoCondonacion(t)}function btn_add_caja(t){switch(t){case"CREAR":document.getElementById("formulario-caja").reset(),$("#modal-add h4").html("Nueva Caja"),$("#msg-ajax-result").html(""),$("#caja_autor").removeClass("is-invalid"),$("#caja_autor").removeClass("is-valid"),caja.metodo=1}}function btn_edt_caja(t,a){switch(a){case"CREAR":document.getElementById("formulario-caja-edt").reset(),$("#modal-add-edt h4").html("Modificar Caja"),$("#msg-ajax-result-edt").html(""),$("#caja_autor-edt").removeClass("is-invalid"),$("#caja_autor-edt").removeClass("is-valid"),$(".modal-btn-cont-edt").html(""),caja.metodo=2,caja.idEdit=t,caja.editCaja(t);break;case"APERTURA":document.getElementById("formulario-apertura").reset(),$("#modal-add h4").html("Aperturar Caja"),$("#msg-ajax-result").html(""),$("#monto_tipo").text("Monto de Apertura*"),$(".caja_billetaje").attr("readonly","readonly"),caja.metodo=0,caja.idEdit=t,caja.buscarFechaHora(),caja.buscarUserCaja(),caja.editApertura(t);break;case"CIERRE":document.getElementById("formulario-apertura").reset(),$("#modal-add h4").html("Cerrar Caja"),$("#msg-ajax-result").html(""),$("#monto_tipo").text("Monto de Cierre*"),$(".caja_billetaje").removeAttr("readonly"),caja.metodo=0,caja.idEdit=t,caja.buscarFechaHora(),caja.buscarUserCaja(),caja.editApertura(t)}}function btn_add_movimientos(){document.getElementById("formulario-movimientos").reset(),$("#modal-add h4").html("Registrar Movimiento de Caja"),$("#msg-ajax-result").html(""),$("#modal-add").modal("show"),caja.metodo=1,caja.buscarFechaHora(),caja.buscarCajas(),caja.buscarUserCaja()}function btn_add_transferencias(){document.getElementById("formulario-transferencias").reset(),$("#movimiento_autoriza").removeClass("is-valid"),$("#movimiento_autoriza").removeClass("is-invalid"),$("#modal-add h4").html("Registrar Transferencia de Caja"),$("#msg-ajax-result").html(""),$("#modal-add").modal("show"),caja.metodo=1,caja.buscarFechaHora(),caja.buscarCajasTransferencias(),caja.buscarUserCaja()}function btn_add_cuenta(t){switch(t){case"corriente":$("#inputCAJA").removeClass("is-invalid"),$("#inputCAJA").removeClass("is-valid"),document.getElementById("formulario-cuenta_corriente").reset(),$("#modal-add h4").html("REGISTRAR CUENTA CORRIENTE"),$("#msg-ajax-result").html(""),$(".modal-btn-cont").html(""),cuenta.idEdit=0,cuenta.metodo=1,cuenta.buscarUserCaja();break;case"pf":$("#inputCAJA").removeClass("is-invalid"),$("#inputCAJA").removeClass("is-valid"),document.getElementById("formulario-cuenta_pf").reset(),$("#modal-add h4").html("REGISTRAR CUENTA A PLAZO FIJO"),$("#msg-ajax-result").html(""),$(".modal-btn-cont").html(""),cuenta.idEdit=0,cuenta.metodo=1,caja.buscarCajas(),cuenta.buscarUserCaja(),cuenta.buscarFechaHora();break;case"pp":$("#inputCAJA").removeClass("is-invalid"),$("#inputCAJA").removeClass("is-valid"),document.getElementById("formulario-cuenta_pp").reset(),$("#modal-add h4").html("REGISTRAR CUENTA A PLAZO PROGRAMADO"),$("#msg-ajax-result").html(""),$(".modal-btn-cont").html(""),cuenta.idEdit=0,cuenta.metodo=1,caja.buscarCajas(),cuenta.buscarUserCaja(),cuenta.buscarFechaHora()}}function btn_edit_cuenta(t,a){switch(t){case"corriente":$("#inputCAJA").removeClass("is-invalid"),$("#inputCAJA").removeClass("is-valid"),document.getElementById("formulario-cuenta_corriente").reset(),$("#modal-add h4").html("MODIFICAR CUENTA CORRIENTE"),$("#msg-ajax-result").html(""),$(".modal-btn-cont").html(""),cuenta.idEdit=a,cuenta.metodo=2,cuenta.buscarUserCaja(),cuenta.editar(a);break;case"pf":$("#inputCAJA").removeClass("is-invalid"),$("#inputCAJA").removeClass("is-valid"),document.getElementById("formulario-cuenta_pf").reset(),$("#modal-add h4").html("MODIFICAR CUENTA A PLAZO FIJO"),$("#msg-ajax-result").html(""),$(".modal-btn-cont").html(""),cuenta.idEdit=a,cuenta.metodo=2,cuenta.buscarUserCaja(),cuenta.editarPF(a);break;case"pp":$("#inputCAJA").removeClass("is-invalid"),$("#inputCAJA").removeClass("is-valid"),document.getElementById("formulario-cuenta_pp").reset(),$("#modal-add h4").html("MODIFICAR CUENTA A PLAZO PROGRAMADO"),$("#msg-ajax-result").html(""),$(".modal-btn-cont").html(""),cuenta.idEdit=a,cuenta.metodo=2,cuenta.buscarUserCaja(),cuenta.editarPF(a)}}function btn_edit_deposito(t,a){$("#load_data_modal").html('\n        <tr><th scope="row" style="height:25px;"></th><td></td><td></td><td></td></tr>\n        <tr><th scope="row" style="height:25px;"></th><td></td><td></td><td></td></tr>\n        <tr><th scope="row" style="height:25px;"></th><td></td><td></td><td></td></tr>\n        <tr><th scope="row" style="height:25px;"></th><td></td><td></td><td></td></tr>\n        <tr><th scope="row" style="height:25px;"></th><td></td><td></td><td></td></tr>\n    '),$("#inputCAJA").removeClass("is-invalid"),$("#inputCAJA").removeClass("is-valid"),$("#inputCLIENT").removeClass("is-invalid"),$("#inputCLIENT").removeClass("is-valid"),document.getElementById("formulario-deposito_cc").reset(),$("#modal-add h4").html("Modulo de Deposito"),$("#msg-ajax-result").html(""),$(".modal-btn-cont").html(""),cuenta.idEdit=t,cuenta.metodo=2,caja.buscarCajas(),cuenta.buscarUserCaja(),cuenta.buscar_cliente_deposito_autocomplete(a),cuenta.editarDeposito(t,a)}function btn_retiro_cuenta(t,a){switch(t){case"corriente":$("#inputCAJA").removeClass("is-invalid"),$("#inputCAJA").removeClass("is-valid"),document.getElementById("formulario-cuenta_corriente").reset(),$("#modal-add h4").html("MODIFICAR CUENTA CORRIENTE"),$("#msg-ajax-result").html(""),$(".modal-btn-cont").html(""),cuenta.idEdit=a,cuenta.metodo=2,caja.buscarCajas(),cuenta.buscarUserCaja(),cuenta.editar(a);break;case"pf":$("#inputCAJA").removeClass("is-invalid"),$("#inputCAJA").removeClass("is-valid"),$("#pf_MONTO_FIN").removeClass("is-valid"),document.getElementById("formulario-cuenta_pf_retiro").reset(),$("#modal-add h4").html("RETIRAR CAPITAL DE CUENTA A PLAZO FIJO"),$("#msg-ajax-result").html(""),$(".modal-btn-cont").html(""),cuenta.idEdit=a,cuenta.metodo=1,caja.buscarCajas(),cuenta.buscarUserCaja(),cuenta.editarPF_retiro(a);break;case"pp":$("#inputCAJA").removeClass("is-invalid"),$("#inputCAJA").removeClass("is-valid"),$("#pf_MONTO_FIN").removeClass("is-valid"),document.getElementById("formulario-cuenta_pp_retiro").reset(),$("#modal-add h4").html("RETIRAR CAPITAL DE CUENTA A PLAZO PROGRAMADO"),$("#msg-ajax-result").html(""),$(".modal-btn-cont").html(""),cuenta.idEdit=a,cuenta.metodo=1,caja.buscarCajas(),cuenta.buscarUserCaja(),cuenta.editarPP_retiro(a)}}function printDiv(t){var a=document.getElementById(t).innerHTML,e=window.open("","my div","height=700,width=1100");return e.document.write("<html><head>"),e.document.write('<link rel="stylesheet" href="../css/bootstrap.css"></link>'),e.document.write('<link rel="stylesheet" href="../css/print.css"></link>'),e.document.write("</head><body>"),e.document.write(a),e.document.write("</body></html>"),e.document.close(),e.focus(),e.onload=function(){e.print(),e.close()},!0}function printDivH(t){var a=document.getElementById(t).innerHTML,e=window.open("","my div","height=700,width=1100");return e.document.write("<html><head>"),e.document.write('<link rel="stylesheet" href="../css/bootstrap.css"></link>'),e.document.write('<link rel="stylesheet" href="../css/print.css"></link>'),e.document.write('<style type="text/css" media="print">@page { size: landscape; }</style>'),e.document.write("</head><body>"),e.document.write(a),e.document.write("</body></html>"),e.document.close(),e.focus(),e.onload=function(){e.print(),e.close()},!0}function solicitud_calendario(){var t,a,e,n,l,s=solicitud_monto,o=solicitud_cuotas,i=solicitud_frecuencia,d=solicitud_interes,r=solicitud_inicio;if(s=parseFloat(s),o=parseFloat(o),d=parseFloat(d),null!=s&&""!=s&&null!=o&&""!=o&&null!=i&&""!=i&&null!=d&&""!=d&&null!=r&&""!=r){switch(t=(s+(a=s*d/100))/o,e=s+a,i){case"DIARIO":n=1;break;case"SEMANAL":n=7;break;case"QUINCENAL":n=15;break;case"MENSUAL":n=30}$("#sol_cal_CUOTAS").val(Math.ceil10(t,-1)),$("#sol_cal_INTERES").val(Math.ceil10(a,-1)),$("#sol_cal_TOTAL").val(Math.ceil10(e,-1)),$("#load_data_modal").html("\n            \n        "),$("#load_data_modal-w").html("\n            \n        "),$.ajax({url:"../backend/panel/solicitud_fechas.php?fecha="+r+"&frecuencia="+n+"&cuotas="+o,type:"GET",success:function(a){var n;l=JSON.parse(a);var s=0;l.forEach(a=>{n+=`\n                            <tr>\n                                <th scope="row">${s+1}</th>\n                                <td>${a.cuota}</td>\n                                <td>${Math.ceil10(t,-1)}</td>\n                                <td>${Math.ceil10(e-(s+1)*t,-1)}</td>\n                            </tr>\n                    \n                        `,s++}),$("#load_data_modal").html(""),$("#load_data_modal-w").html(""),$("#load_data_modal").append(n),$("#load_data_modal-w").append(n)}})}}function solicitud_calendario_adm(){var t,a,e,n,l,s=solicitud_monto,o=solicitud_cuotas,i=solicitud_frecuencia,d=solicitud_interes,r=solicitud_inicio;if($("#load_data_modal").html(""),$("#load_data_modal-w").html(""),s=parseFloat(s),o=parseFloat(o),d=parseFloat(d),null!=s&&""!=s&&null!=o&&""!=o&&null!=i&&""!=i&&null!=d&&""!=d&&null!=r&&""!=r){switch(t=(s+(a=s*d/100))/o,e=s+a,i){case"DIARIO":n=1;break;case"SEMANAL":n=7;break;case"QUINCENAL":n=15;break;case"MENSUAL":n=30}$("#sol_cal_CUOTAS_APRO").val(Math.ceil10(t,-1)),$("#sol_cal_INTERES_APRO").val(Math.ceil10(a,-1)),$("#sol_cal_TOTAL_APRO").val(Math.ceil10(e,-1)),$.ajax({url:"../backend/panel/solicitud_fechas.php?fecha="+r+"&frecuencia="+n+"&cuotas="+o,type:"GET",success:function(a){var n;l=JSON.parse(a);var s=0;l.forEach(a=>{n+=`\n                            <tr>\n                                <th scope="row">${s+1}</th>\n                                <td>${a.cuota}</td>\n                                <td>${Math.ceil10(t,-1)}</td>\n                                <td>${Math.ceil10(e-(s+1)*t,-1)}</td>\n                            </tr>\n                    \n                        `,s++}),$("#load_data_modal").html(""),$("#load_data_modal-w").html(""),$("#load_data_modal").append(n),$("#load_data_modal-w").append(n)}})}}function solicitud_calendario_cronograma(){var t,a,e,n,l=solicitud_monto,s=solicitud_cuotas,o=solicitud_frecuencia,i=solicitud_interes,d=solicitud_inicio;if(l=parseFloat(l),s=parseFloat(s),i=parseFloat(i),null!=l&&""!=l&&null!=s&&""!=s&&null!=o&&""!=o&&null!=i&&""!=i&&null!=d&&""!=d){switch(t=(l+(a=l*i/100))/s,l+a,o){case"DIARIO":e=1;break;case"SEMANAL":e=7;break;case"QUINCENAL":e=15;break;case"MENSUAL":e=30}$("#load_data_modal-cronograma").html("\n            \n        "),$.ajax({url:"../backend/panel/solicitud_fechas.php?fecha="+d+"&frecuencia="+e+"&cuotas="+s,type:"GET",success:function(a){var e;n=JSON.parse(a);var l=0;n.forEach(a=>{e+=`\n                            <tr>\n                                <th scope="row">${l+1}</th>\n                                <td>${a.cuota}</td>\n                                <td>${Math.ceil10(t,-1)}</td>\n                                <td></td>\n                                <td></td>\n                                <td></td>\n                                <td></td>\n                            </tr>\n                    \n                        `,l++}),$("#load_data_modal-cronograma").html(""),$("#load_data_modal-cronograma").append(e)}})}}function solicitud_calendario_contrato(){var t,a,e=solicitud_monto,n=solicitud_cuotas,l=solicitud_frecuencia,s=solicitud_interes,o=solicitud_inicio;if(e=parseFloat(e),n=parseFloat(n),s=parseFloat(s),null!=e&&""!=e&&null!=n&&""!=n&&null!=l&&""!=l&&null!=s&&""!=s&&null!=o&&""!=o){switch((e+(t=e*s/100))/n,e+t,l){case"DIARIO":a=1;break;case"SEMANAL":a=7;break;case"QUINCENAL":a=15;break;case"MENSUAL":a=30}$.ajax({url:"../backend/panel/solicitud_fechas.php?fecha="+o+"&frecuencia="+a+"&cuotas="+n,type:"GET",success:function(t){JSON.parse(t).forEach(t=>{$("#fecha_vencimiento").html(t.cuota)})}})}}function solicitud_calendario_pagos(t){var a,e,n,l,s=solicitud_monto,o=solicitud_cuotas,i=solicitud_frecuencia,d=solicitud_interes,r=solicitud_inicio,c=[];if(s=parseFloat(s),o=parseFloat(o),d=parseFloat(d),null!=s&&""!=s&&null!=o&&""!=o&&null!=i&&""!=i&&null!=d&&""!=d&&null!=r&&""!=r){switch(a=(s+(e=s*d/100))/o,s+e,i){case"DIARIO":n=1;break;case"SEMANAL":n=7;break;case"QUINCENAL":n=15;break;case"MENSUAL":n=30}$.ajax({url:"../backend/panel/solicitud_fechas.php?fecha="+r+"&frecuencia="+n+"&cuotas="+o,type:"GET",success:function(e){l=JSON.parse(e);var n=0;l.forEach(e=>{c.push({n_cuota:n+1,fecha:e.cuota,cuota:Math.ceil10(a,-1),id:t}),n++}),$.ajax({url:"../backend/panel/creditos/desembolsos/ajax_pagos.php",type:"POST",data:{array:JSON.stringify(c)},success:function(t){200==t?($("#msg-ajax-result").append('\n                                <div class="alert alert-success" role="alert"  style="margin-bottom: 10px;">\n                                    Se creo el cronograma de pagos satisfactoriamente!\n                                </div>\n                            '),setTimeout(()=>{$("#modal-add").modal("hide"),$(".btn_modals").prop("disabled",!1),$("#msg-ajax-result").html("")},1e3)):$("#msg-ajax-result").html('\n                                        <div class="alert alert-danger" role="alert"  style="margin-bottom: 10px;">\n                                            No se pudo crear el cronograma de pagos! <br>'+t+"\n                                        </div>\n                            ")}})}})}}function ajax_load_DE(t){$.ajax({url:"backend/panel/ajax_de.php",type:"GET",data:{id:t},success:function(t){var a=JSON.parse(t),e="";a.forEach(t=>{e+=`\n                        <option value="${t.id}">${t.direccion}</option>\n                    `}),$("#direccionEjecutiva").html(e),$("#direccionEjecutiva").attr("disabled",!1)}})}$(document).ready(()=>{setInterval(()=>{var t=$("body")[0].offsetHeight,a=window.innerHeight,e=$("header").height();t<a?$(".menu_nav").css("height",a-e):$(".menu_nav").css("height",t-e)},200),user=new Usuario,cliente=new Cliente,conyugue=new Conyugue,negocio=new Negocio,credito=new Credito,caja=new Caja,reporte=new Reporte,cuenta=new Cuenta,user.listar(),cliente.listar(),credito.listarSolicitudes(),credito.listarAprobaciones(),credito.listarDesembolsos(),caja.listarCajas(),caja.listarAperturas(),caja.listarMovimientos(0),caja.listarTransferencias(0),reporte.buscarCajas(),reporte.listarCapital("TODOS"),cuenta.listarPF(),cuenta.listarPF_retiro(),$("#inputCLIENT").change(()=>{datalist_id_cliente=$("#clientes option[value='"+$("#inputCLIENT").val()+"']").attr("data-id"),$("#inputCLIENT-hidden").val(datalist_id_cliente),$("#inputCONY_AJAX").attr("readonly","readonly"),$("#inputCONY_AJAX").val(""),$("#inputCONY_AJAX").removeClass("is-valid"),$("#inputCONY_AJAX").removeClass("is-invalid"),$("#inputCONY_AJAX-hidden").val(""),$("#inputAVAL_AJAX").attr("readonly","readonly"),$("#inputAVAL_AJAX").val(""),$("#inputAVAL_AJAX").removeClass("is-valid"),$("#inputAVAL_AJAX").removeClass("is-invalid"),$("#inputAVAL_AJAX-hidden").val(""),$("#inputCONY").prop("checked",!1),$("#inputAVAL").prop("checked",!1),""==$("#inputCLIENT-hidden").val()?($("#inputCLIENT").removeClass("is-valid"),$("#inputCLIENT").addClass("is-invalid"),$("#inputCONY_AJAX").attr("readonly","readonly"),$("#inputCONY_AJAX").val(""),$("#inputCONY_AJAX").removeClass("is-valid"),$("#inputCONY_AJAX").removeClass("is-invalid"),$("#inputCONY_AJAX-hidden").val(""),$("#inputAVAL_AJAX").attr("readonly","readonly"),$("#inputAVAL_AJAX").val(""),$("#inputAVAL_AJAX").removeClass("is-valid"),$("#inputAVAL_AJAX").removeClass("is-invalid"),$("#inputAVAL_AJAX-hidden").val(""),$("#inputCONY").prop("checked",!1),$("#inputAVAL").prop("checked",!1)):($("#inputCLIENT").removeClass("is-invalid"),$("#inputCLIENT").addClass("is-valid"))}),$("#inputCONY_AJAX").change(()=>{datalist_id_conyugue=$("#conyugue-list-ajax option[value='"+$("#inputCONY_AJAX").val()+"']").attr("data-id"),$("#inputCONY_AJAX-hidden").val(datalist_id_conyugue),""==$("#inputCONY_AJAX-hidden").val()?($("#inputCONY_AJAX").removeClass("is-valid"),$("#inputCONY_AJAX").addClass("is-invalid")):($("#inputCONY_AJAX").removeClass("is-invalid"),$("#inputCONY_AJAX").addClass("is-valid"))}),$("#inputAVAL_AJAX").change(()=>{datalist_id_aval=$("#aval-list-ajax option[value='"+$("#inputAVAL_AJAX").val()+"']").attr("data-id"),$("#inputAVAL_AJAX-hidden").val(datalist_id_aval),""==$("#inputAVAL_AJAX-hidden").val()?($("#inputAVAL_AJAX").removeClass("is-valid"),$("#inputAVAL_AJAX").addClass("is-invalid")):($("#inputAVAL_AJAX").removeClass("is-invalid"),$("#inputAVAL_AJAX").addClass("is-valid"))}),$("#caja_autor").change(()=>{datalist_id_cajero=$("#cajeros_resp option[value='"+$("#caja_autor").val()+"']").attr("data-id"),$("#caja_autor-hidden").val(datalist_id_cajero),""==$("#caja_autor-hidden").val()?($("#caja_autor").removeClass("is-valid"),$("#caja_autor").addClass("is-invalid")):($("#caja_autor").removeClass("is-invalid"),$("#caja_autor").addClass("is-valid"))}),$("#caja_autor-edt").change(()=>{datalist_id_cajero=$("#cajeros_resp-edt option[value='"+$("#caja_autor-edt").val()+"']").attr("data-id"),$("#caja_autor-hidden-edt").val(datalist_id_cajero),""==$("#caja_autor-hidden-edt").val()?($("#caja_autor-edt").removeClass("is-valid"),$("#caja_autor-edt").addClass("is-invalid")):($("#caja_autor-edt").removeClass("is-invalid"),$("#caja_autor-edt").addClass("is-valid"))}),$("#movimiento_autoriza").change(()=>{datalist_id_resp_trans=$("#admins-list option[value='"+$("#movimiento_autoriza").val()+"']").attr("data-id"),$("#movimiento_autoriza-hidden").val(datalist_id_resp_trans),""==$("#movimiento_autoriza-hidden").val()?($("#movimiento_autoriza").removeClass("is-valid"),$("#movimiento_autoriza").addClass("is-invalid")):($("#movimiento_autoriza").removeClass("is-invalid"),$("#movimiento_autoriza").addClass("is-valid"))}),$("#inputCONY").change(()=>{$("#inputCONY").is(":checked")?$("#inputCONY_AJAX").removeAttr("readonly"):($("#inputCONY_AJAX").attr("readonly","readonly"),$("#inputCONY_AJAX").val(""),$("#inputCONY_AJAX").removeClass("is-valid"),$("#inputCONY_AJAX").removeClass("is-invalid"),$("#inputCONY_AJAX-hidden").val(""))}),$("#inputAVAL").change(()=>{$("#inputAVAL").is(":checked")?$("#inputAVAL_AJAX").removeAttr("readonly"):($("#inputAVAL_AJAX").attr("readonly","readonly"),$("#inputAVAL_AJAX").val(""),$("#inputAVAL_AJAX").removeClass("is-valid"),$("#inputAVAL_AJAX").removeClass("is-invalid"),$("#inputAVAL_AJAX-hidden").val(""))}),$("#input_trans_SOAT").change(()=>{"SI"==$("#input_trans_SOAT").val()?($("#input_trans_SOAT_CAD").removeAttr("readonly"),$("#input_trans_SOAT_CAD").prop("required",!0)):($("#input_trans_SOAT_CAD").attr("readonly","readonly"),$("#input_trans_SOAT_CAD").prop("required",!1),$("#input_trans_SOAT_CAD").val(""))}),$("#input_trans_TARJETA").change(()=>{"SI"==$("#input_trans_TARJETA").val()?($("#input_trans_TARJETA_CAD").removeAttr("readonly"),$("#input_trans_TARJETA_CAD").prop("required",!0)):($("#input_trans_TARJETA_CAD").attr("readonly","readonly"),$("#input_trans_TARJETA_CAD").prop("required",!1),$("#input_trans_TARJETA_CAD").val(""))}),$("#formulario-usuarios").on("submit",function(t){switch(t.preventDefault(),user.formulario=new FormData(this),user.metodo){case 1:user.registrar();break;case 2:user.editarSave(user.idEdit)}}),$("#formulario-clientes").on("submit",function(t){switch(t.preventDefault(),cliente.formulario=new FormData(this),cliente.metodo){case 1:cliente.registrar();break;case 2:cliente.editarSave(cliente.idEdit)}}),$("#formulario-conyugue").on("submit",function(t){switch(t.preventDefault(),conyugue.formulario=new FormData(this),conyugue.metodo){case 1:conyugue.registrar(cliente.idEdit);break;case 2:conyugue.editarSave(conyugue.idEdit,conyugue.tipo)}}),$("#formulario-negocio").on("submit",function(t){switch(t.preventDefault(),negocio.formulario=new FormData(this),negocio.metodo){case 1:negocio.registrar(cliente.idEdit);break;case 2:negocio.editarSave(negocio.idEdit)}}),$("#formulario-transporte").on("submit",function(t){switch(t.preventDefault(),negocio.formulario=new FormData(this),negocio.metodo){case 1:negocio.registrar(cliente.idEdit);break;case 2:negocio.editarSave(negocio.idEdit)}}),$("#formulario-consumo").on("submit",function(t){switch(t.preventDefault(),negocio.formulario=new FormData(this),negocio.metodo){case 1:negocio.registrarConsumo(cliente.idEdit);break;case 2:negocio.editarSaveConsumo(negocio.idEdit)}}),$("#formulario-solicitud").on("submit",function(t){switch(t.preventDefault(),credito.formulario=new FormData(this),credito.metodo){case 1:credito.registrarSolicitud();break;case 2:credito.editarSaveSolicitud(credito.idEdit)}}),$("#formulario-aprobacion").on("submit",function(t){switch(t.preventDefault(),credito.formulario=new FormData(this),credito.metodo){case 1:break;case 2:credito.editarSaveAprobacion(credito.idEdit)}}),$("#formulario-desembolso").on("submit",function(t){t.preventDefault(),credito.formulario=new FormData(this),credito.desembolsar(credito.idEdit,1)}),$("#formulario-cobranza").on("submit",function(t){t.preventDefault(),credito.formulario=new FormData(this),credito.cobranza(credito.idEdit)}),$("#formulario-condonar").on("submit",function(t){t.preventDefault(),credito.formulario=new FormData(this),credito.condonar(credito.idEdit)}),$("#formulario-caja").on("submit",function(t){switch(t.preventDefault(),caja.formulario=new FormData(this),caja.metodo){case 1:caja.crearCaja();break;case 2:caja.editarSaveCaja(caja.idEdit)}}),$("#formulario-caja-edt").on("submit",function(t){switch(t.preventDefault(),caja.formulario=new FormData(this),caja.metodo){case 1:caja.crearCaja();break;case 2:caja.editarSaveCaja(caja.idEdit)}}),$("#formulario-movimientos").on("submit",function(t){switch(t.preventDefault(),caja.formulario=new FormData(this),caja.metodo){case 1:caja.registrarMovimiento()}}),$("#formulario-transferencias").on("submit",function(t){switch(t.preventDefault(),caja.formulario=new FormData(this),caja.metodo){case 1:caja.registrarTransferencia()}}),$("#formulario-cuenta_pf").on("submit",function(t){switch(t.preventDefault(),cuenta.formulario=new FormData(this),cuenta.metodo){case 1:cuenta.registrarPF();break;case 2:cuenta.editarSavePF(cuenta.idEdit)}}),$("#formulario-cuenta_pf_retiro").on("submit",function(t){switch(t.preventDefault(),cuenta.formulario=new FormData(this),cuenta.metodo){case 1:cuenta.registrarPF_retiro();break;case 2:cuenta.editarSavePF_retiro(cuenta.idEdit)}}),$("#formulario-deposito_cc").on("submit",function(t){t.preventDefault(),cuenta.formulario=new FormData(this),cuenta.deposito(cuenta.idEdit)}),user.btn_img=document.getElementById("inputIMG"),user.btn_img.addEventListener("change",t=>{user.editURLimg=1}),cliente.btn_img=document.getElementById("inputIMG"),cliente.btn_img2=document.getElementById("inputCROQ"),cliente.btn_img.addEventListener("change",t=>{cliente.editURLimg=1}),cliente.btn_img2.addEventListener("change",t=>{cliente.editURLimg2=1}),negocio.btn_img=document.getElementById("input_neg_CROQUIS"),negocio.btn_img2=document.getElementById("input_trans_CROQUIS"),negocio.btn_img.addEventListener("change",t=>{negocio.editURLimg=1}),negocio.btn_img2.addEventListener("change",t=>{negocio.editURLimg2=1})}),function(){function t(t,a,e){return void 0===e||0==+e?Math[t](a):(a=+a,e=+e,isNaN(a)||"number"!=typeof e||e%1!=0?NaN:(a=a.toString().split("e"),+((a=(a=Math[t](+(a[0]+"e"+(a[1]?+a[1]-e:-e)))).toString().split("e"))[0]+"e"+(a[1]?+a[1]+e:e))))}Math.round10||(Math.round10=function(a,e){return t("round",a,e)}),Math.floor10||(Math.floor10=function(a,e){return t("floor",a,e)}),Math.ceil10||(Math.ceil10=function(a,e){return t("ceil",a,e)})}();